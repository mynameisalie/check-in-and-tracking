(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var hv={exports:{}},xf={},mv={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=Symbol.for("react.element"),eS=Symbol.for("react.portal"),tS=Symbol.for("react.fragment"),nS=Symbol.for("react.strict_mode"),rS=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),oS=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),aS=Symbol.for("react.suspense"),lS=Symbol.for("react.memo"),uS=Symbol.for("react.lazy"),x0=Symbol.iterator;function cS(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var gv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yv=Object.assign,vv={};function Ba(e,t,n){this.props=e,this.context=t,this.refs=vv,this.updater=n||gv}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ba.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bv(){}bv.prototype=Ba.prototype;function Y2(e,t,n){this.props=e,this.context=t,this.refs=vv,this.updater=n||gv}var J2=Y2.prototype=new bv;J2.constructor=Y2;yv(J2,Ba.prototype);J2.isPureReactComponent=!0;var S0=Array.isArray,wv=Object.prototype.hasOwnProperty,Q2={current:null},xv={key:!0,ref:!0,__self:!0,__source:!0};function Sv(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)wv.call(t,r)&&!xv.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:_u,type:e,key:o,ref:i,props:s,_owner:Q2.current}}function dS(e,t){return{$$typeof:_u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Z2(e){return typeof e=="object"&&e!==null&&e.$$typeof===_u}function fS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E0=/\/+/g;function wp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fS(""+e.key):t.toString(36)}function Kc(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _u:case eS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+wp(i,0):r,S0(s)?(n="",e!=null&&(n=e.replace(E0,"$&/")+"/"),Kc(s,t,n,"",function(u){return u})):s!=null&&(Z2(s)&&(s=dS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(E0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",S0(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+wp(o,a);i+=Kc(o,t,n,l,s)}else if(l=cS(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+wp(o,a++),i+=Kc(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function uc(e,t,n){if(e==null)return e;var r=[],s=0;return Kc(e,r,"","",function(o){return t.call(n,o,s++)}),r}function pS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nn={current:null},Uc={transition:null},hS={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Q2};function Ev(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:uc,forEach:function(e,t,n){uc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uc(e,function(){t++}),t},toArray:function(e){return uc(e,function(t){return t})||[]},only:function(e){if(!Z2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=Ba;Ke.Fragment=tS;Ke.Profiler=rS;Ke.PureComponent=Y2;Ke.StrictMode=nS;Ke.Suspense=aS;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS;Ke.act=Ev;Ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Q2.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)wv.call(t,l)&&!xv.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_u,type:e.type,key:s,ref:o,props:r,_owner:i}};Ke.createContext=function(e){return e={$$typeof:oS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sS,_context:e},e.Consumer=e};Ke.createElement=Sv;Ke.createFactory=function(e){var t=Sv.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:iS,render:e}};Ke.isValidElement=Z2;Ke.lazy=function(e){return{$$typeof:uS,_payload:{_status:-1,_result:e},_init:pS}};Ke.memo=function(e,t){return{$$typeof:lS,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=Uc.transition;Uc.transition={};try{e()}finally{Uc.transition=t}};Ke.unstable_act=Ev;Ke.useCallback=function(e,t){return Nn.current.useCallback(e,t)};Ke.useContext=function(e){return Nn.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return Nn.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return Nn.current.useEffect(e,t)};Ke.useId=function(){return Nn.current.useId()};Ke.useImperativeHandle=function(e,t,n){return Nn.current.useImperativeHandle(e,t,n)};Ke.useInsertionEffect=function(e,t){return Nn.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return Nn.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return Nn.current.useMemo(e,t)};Ke.useReducer=function(e,t,n){return Nn.current.useReducer(e,t,n)};Ke.useRef=function(e){return Nn.current.useRef(e)};Ke.useState=function(e){return Nn.current.useState(e)};Ke.useSyncExternalStore=function(e,t,n){return Nn.current.useSyncExternalStore(e,t,n)};Ke.useTransition=function(){return Nn.current.useTransition()};Ke.version="18.3.1";mv.exports=Ke;var P=mv.exports;const Ge=wf(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=P,gS=Symbol.for("react.element"),yS=Symbol.for("react.fragment"),vS=Object.prototype.hasOwnProperty,bS=mS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wS={key:!0,ref:!0,__self:!0,__source:!0};function Tv(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)vS.call(t,r)&&!wS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:gS,type:e,key:o,ref:i,props:s,_owner:bS.current}}xf.Fragment=yS;xf.jsx=Tv;xf.jsxs=Tv;hv.exports=xf;var J=hv.exports,Fh={},$v={exports:{}},er={},kv={exports:{}},Nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,ue){var q=te.length;te.push(ue);e:for(;0<q;){var be=q-1>>>1,Te=te[be];if(0<s(Te,ue))te[be]=ue,te[q]=Te,q=be;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ue=te[0],q=te.pop();if(q!==ue){te[0]=q;e:for(var be=0,Te=te.length,Ee=Te>>>1;be<Ee;){var Ue=2*(be+1)-1,Qe=te[Ue],We=Ue+1,tt=te[We];if(0>s(Qe,q))We<Te&&0>s(tt,Qe)?(te[be]=tt,te[We]=q,be=We):(te[be]=Qe,te[Ue]=q,be=Ue);else if(We<Te&&0>s(tt,q))te[be]=tt,te[We]=q,be=We;else break e}}return ue}function s(te,ue){var q=te.sortIndex-ue.sortIndex;return q!==0?q:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,g=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(te){for(var ue=n(u);ue!==null;){if(ue.callback===null)r(u);else if(ue.startTime<=te)r(u),ue.sortIndex=ue.expirationTime,t(l,ue);else break;ue=n(u)}}function N(te){if(y=!1,$(te),!g)if(n(l)!==null)g=!0,ce(I);else{var ue=n(u);ue!==null&&ee(N,ue.startTime-te)}}function I(te,ue){g=!1,y&&(y=!1,v(C),C=-1),p=!0;var q=f;try{for($(ue),d=n(l);d!==null&&(!(d.expirationTime>ue)||te&&!H());){var be=d.callback;if(typeof be=="function"){d.callback=null,f=d.priorityLevel;var Te=be(d.expirationTime<=ue);ue=e.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),$(ue)}else r(l);d=n(l)}if(d!==null)var Ee=!0;else{var Ue=n(u);Ue!==null&&ee(N,Ue.startTime-ue),Ee=!1}return Ee}finally{d=null,f=q,p=!1}}var O=!1,U=null,C=-1,j=5,F=-1;function H(){return!(e.unstable_now()-F<j)}function Y(){if(U!==null){var te=e.unstable_now();F=te;var ue=!0;try{ue=U(!0,te)}finally{ue?V():(O=!1,U=null)}}else O=!1}var V;if(typeof x=="function")V=function(){x(Y)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ne=G.port2;G.port1.onmessage=Y,V=function(){ne.postMessage(null)}}else V=function(){E(Y,0)};function ce(te){U=te,O||(O=!0,V())}function ee(te,ue){C=E(function(){te(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,ce(I))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(te){switch(f){case 1:case 2:case 3:var ue=3;break;default:ue=f}var q=f;f=ue;try{return te()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var q=f;f=te;try{return ue()}finally{f=q}},e.unstable_scheduleCallback=function(te,ue,q){var be=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?be+q:be):q=be,te){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=q+Te,te={id:c++,callback:ue,priorityLevel:te,startTime:q,expirationTime:Te,sortIndex:-1},q>be?(te.sortIndex=q,t(u,te),n(l)===null&&te===n(u)&&(y?(v(C),C=-1):y=!0,ee(N,q-be))):(te.sortIndex=Te,t(l,te),g||p||(g=!0,ce(I))),te},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(te){var ue=f;return function(){var q=f;f=ue;try{return te.apply(this,arguments)}finally{f=q}}}})(Nv);kv.exports=Nv;var xS=kv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=P,Zn=xS;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cv=new Set,Ql={};function $i(e,t){Ta(e,t),Ta(e+"Capture",t)}function Ta(e,t){for(Ql[e]=t,e=0;e<t.length;e++)Cv.add(t[e])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=Object.prototype.hasOwnProperty,ES=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},$0={};function TS(e){return Mh.call($0,e)?!0:Mh.call(T0,e)?!1:ES.test(e)?$0[e]=!0:(T0[e]=!0,!1)}function $S(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kS(e,t,n,r){if(t===null||typeof t>"u"||$S(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cn[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cn[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cn[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cn[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cn[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cn[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cn[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cn[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cn[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var em=/[\-:]([a-z])/g;function tm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(em,tm);cn[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(em,tm);cn[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(em,tm);cn[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function nm(e,t,n,r){var s=cn.hasOwnProperty(t)?cn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kS(t,n,s,r)&&(n=null),r||s===null?TS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ms=SS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cc=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),_v=Symbol.for("react.provider"),Pv=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),jh=Symbol.for("react.suspense_list"),om=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),Av=Symbol.for("react.offscreen"),k0=Symbol.iterator;function dl(e){return e===null||typeof e!="object"?null:(e=k0&&e[k0]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,xp;function Pl(e){if(xp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xp=t&&t[1]||""}return`
`+xp+e}var Sp=!1;function Ep(e,t){if(!e||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pl(e):""}function NS(e){switch(e.tag){case 5:return Pl(e.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return e=Ep(e.type,!1),e;case 11:return e=Ep(e.type.render,!1),e;case 1:return e=Ep(e.type,!0),e;default:return""}}function zh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zi:return"Fragment";case Qi:return"Portal";case Lh:return"Profiler";case rm:return"StrictMode";case Bh:return"Suspense";case jh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pv:return(e.displayName||"Context")+".Consumer";case _v:return(e._context.displayName||"Context")+".Provider";case sm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case om:return t=e.displayName||null,t!==null?t:zh(e.type)||"Memo";case Qs:t=e._payload,e=e._init;try{return zh(e(t))}catch{}}return null}function CS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zh(t);case 8:return t===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Iv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _S(e){var t=Iv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dc(e){e._valueTracker||(e._valueTracker=_S(e))}function Ov(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Iv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vh(e,t){var n=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function N0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dv(e,t){t=t.checked,t!=null&&nm(e,"checked",t,!1)}function Kh(e,t){Dv(e,t);var n=xo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uh(e,t.type,xo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function C0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uh(e,t,n){(t!=="number"||fd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Al=Array.isArray;function pa(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(de(92));if(Al(n)){if(1<n.length)throw Error(de(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xo(n)}}function Rv(e,t){var n=xo(t.value),r=xo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function P0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fc,Mv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PS=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){PS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function Lv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function Bv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var AS=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(e,t){if(t){if(AS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function qh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=null;function im(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yh=null,ha=null,ma=null;function A0(e){if(e=Iu(e)){if(typeof Yh!="function")throw Error(de(280));var t=e.stateNode;t&&(t=kf(t),Yh(e.stateNode,e.type,t))}}function jv(e){ha?ma?ma.push(e):ma=[e]:ha=e}function zv(){if(ha){var e=ha,t=ma;if(ma=ha=null,A0(e),t)for(e=0;e<t.length;e++)A0(t[e])}}function Vv(e,t){return e(t)}function Kv(){}var Tp=!1;function Uv(e,t,n){if(Tp)return e(t,n);Tp=!0;try{return Vv(e,t,n)}finally{Tp=!1,(ha!==null||ma!==null)&&(Kv(),zv())}}function eu(e,t){var n=e.stateNode;if(n===null)return null;var r=kf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(de(231,t,typeof n));return n}var Jh=!1;if(xs)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Jh=!1}function IS(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var jl=!1,pd=null,hd=!1,Qh=null,OS={onError:function(e){jl=!0,pd=e}};function DS(e,t,n,r,s,o,i,a,l){jl=!1,pd=null,IS.apply(OS,arguments)}function RS(e,t,n,r,s,o,i,a,l){if(DS.apply(this,arguments),jl){if(jl){var u=pd;jl=!1,pd=null}else throw Error(de(198));hd||(hd=!0,Qh=u)}}function ki(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I0(e){if(ki(e)!==e)throw Error(de(188))}function FS(e){var t=e.alternate;if(!t){if(t=ki(e),t===null)throw Error(de(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return I0(s),e;if(o===r)return I0(s),t;o=o.sibling}throw Error(de(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?e:t}function Hv(e){return e=FS(e),e!==null?Gv(e):null}function Gv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gv(e);if(t!==null)return t;e=e.sibling}return null}var qv=Zn.unstable_scheduleCallback,O0=Zn.unstable_cancelCallback,MS=Zn.unstable_shouldYield,LS=Zn.unstable_requestPaint,Bt=Zn.unstable_now,BS=Zn.unstable_getCurrentPriorityLevel,am=Zn.unstable_ImmediatePriority,Xv=Zn.unstable_UserBlockingPriority,md=Zn.unstable_NormalPriority,jS=Zn.unstable_LowPriority,Yv=Zn.unstable_IdlePriority,Sf=null,qr=null;function zS(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:US,VS=Math.log,KS=Math.LN2;function US(e){return e>>>=0,e===0?32:31-(VS(e)/KS|0)|0}var pc=64,hc=4194304;function Il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Il(a):(o&=i,o!==0&&(r=Il(o)))}else i=n&~s,i!==0?r=Il(i):o!==0&&(r=Il(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dr(t),s=1<<n,r|=e[n],t&=~s;return r}function WS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Dr(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=WS(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Zh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jv(){var e=pc;return pc<<=1,!(pc&4194240)&&(pc=64),e}function $p(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dr(t),e[t]=n}function GS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dr(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function lm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ot=0;function Qv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zv,um,eb,tb,nb,e1=!1,mc=[],ao=null,lo=null,uo=null,tu=new Map,nu=new Map,eo=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D0(e,t){switch(e){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":tu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(t.pointerId)}}function pl(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Iu(t),t!==null&&um(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function XS(e,t,n,r,s){switch(t){case"focusin":return ao=pl(ao,e,t,n,r,s),!0;case"dragenter":return lo=pl(lo,e,t,n,r,s),!0;case"mouseover":return uo=pl(uo,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return tu.set(o,pl(tu.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,nu.set(o,pl(nu.get(o)||null,e,t,n,r,s)),!0}return!1}function rb(e){var t=Xo(e.target);if(t!==null){var n=ki(t);if(n!==null){if(t=n.tag,t===13){if(t=Wv(n),t!==null){e.blockedOn=t,nb(e.priority,function(){eb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=t1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xh=r,n.target.dispatchEvent(r),Xh=null}else return t=Iu(n),t!==null&&um(t),e.blockedOn=n,!1;t.shift()}return!0}function R0(e,t,n){Wc(e)&&n.delete(t)}function YS(){e1=!1,ao!==null&&Wc(ao)&&(ao=null),lo!==null&&Wc(lo)&&(lo=null),uo!==null&&Wc(uo)&&(uo=null),tu.forEach(R0),nu.forEach(R0)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,e1||(e1=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,YS)))}function ru(e){function t(s){return hl(s,e)}if(0<mc.length){hl(mc[0],e);for(var n=1;n<mc.length;n++){var r=mc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ao!==null&&hl(ao,e),lo!==null&&hl(lo,e),uo!==null&&hl(uo,e),tu.forEach(t),nu.forEach(t),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)rb(n),n.blockedOn===null&&eo.shift()}var ga=Ms.ReactCurrentBatchConfig,yd=!0;function JS(e,t,n,r){var s=ot,o=ga.transition;ga.transition=null;try{ot=1,cm(e,t,n,r)}finally{ot=s,ga.transition=o}}function QS(e,t,n,r){var s=ot,o=ga.transition;ga.transition=null;try{ot=4,cm(e,t,n,r)}finally{ot=s,ga.transition=o}}function cm(e,t,n,r){if(yd){var s=t1(e,t,n,r);if(s===null)Rp(e,t,r,vd,n),D0(e,r);else if(XS(s,e,t,n,r))r.stopPropagation();else if(D0(e,r),t&4&&-1<qS.indexOf(e)){for(;s!==null;){var o=Iu(s);if(o!==null&&Zv(o),o=t1(e,t,n,r),o===null&&Rp(e,t,r,vd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Rp(e,t,r,null,n)}}var vd=null;function t1(e,t,n,r){if(vd=null,e=im(r),e=Xo(e),e!==null)if(t=ki(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function sb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case am:return 1;case Xv:return 4;case md:case jS:return 16;case Yv:return 536870912;default:return 16}default:return 16}}var no=null,dm=null,Hc=null;function ob(){if(Hc)return Hc;var e,t=dm,n=t.length,r,s="value"in no?no.value:no.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Hc=s.slice(e,1<r?1-r:void 0)}function Gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gc(){return!0}function F0(){return!1}function tr(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gc:F0,this.isPropagationStopped=F0,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),t}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fm=tr(ja),Au=It({},ja,{view:0,detail:0}),ZS=tr(Au),kp,Np,ml,Ef=It({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(kp=e.screenX-ml.screenX,Np=e.screenY-ml.screenY):Np=kp=0,ml=e),kp)},movementY:function(e){return"movementY"in e?e.movementY:Np}}),M0=tr(Ef),eE=It({},Ef,{dataTransfer:0}),tE=tr(eE),nE=It({},Au,{relatedTarget:0}),Cp=tr(nE),rE=It({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),sE=tr(rE),oE=It({},ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iE=tr(oE),aE=It({},ja,{data:0}),L0=tr(aE),lE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cE[e])?!!t[e]:!1}function pm(){return dE}var fE=It({},Au,{key:function(e){if(e.key){var t=lE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(e){return e.type==="keypress"?Gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pE=tr(fE),hE=It({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B0=tr(hE),mE=It({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),gE=tr(mE),yE=It({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),vE=tr(yE),bE=It({},Ef,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wE=tr(bE),xE=[9,13,27,32],hm=xs&&"CompositionEvent"in window,zl=null;xs&&"documentMode"in document&&(zl=document.documentMode);var SE=xs&&"TextEvent"in window&&!zl,ib=xs&&(!hm||zl&&8<zl&&11>=zl),j0=" ",z0=!1;function ab(e,t){switch(e){case"keyup":return xE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function EE(e,t){switch(e){case"compositionend":return lb(t);case"keypress":return t.which!==32?null:(z0=!0,j0);case"textInput":return e=t.data,e===j0&&z0?null:e;default:return null}}function TE(e,t){if(ea)return e==="compositionend"||!hm&&ab(e,t)?(e=ob(),Hc=dm=no=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ib&&t.locale!=="ko"?null:t.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$E[e.type]:t==="textarea"}function ub(e,t,n,r){jv(r),t=bd(t,"onChange"),0<t.length&&(n=new fm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vl=null,su=null;function kE(e){wb(e,0)}function Tf(e){var t=ra(e);if(Ov(t))return e}function NE(e,t){if(e==="change")return t}var cb=!1;if(xs){var _p;if(xs){var Pp="oninput"in document;if(!Pp){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),Pp=typeof K0.oninput=="function"}_p=Pp}else _p=!1;cb=_p&&(!document.documentMode||9<document.documentMode)}function U0(){Vl&&(Vl.detachEvent("onpropertychange",db),su=Vl=null)}function db(e){if(e.propertyName==="value"&&Tf(su)){var t=[];ub(t,su,e,im(e)),Uv(kE,t)}}function CE(e,t,n){e==="focusin"?(U0(),Vl=t,su=n,Vl.attachEvent("onpropertychange",db)):e==="focusout"&&U0()}function _E(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tf(su)}function PE(e,t){if(e==="click")return Tf(t)}function AE(e,t){if(e==="input"||e==="change")return Tf(t)}function IE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:IE;function ou(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mh.call(t,s)||!Lr(e[s],t[s]))return!1}return!0}function W0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function H0(e,t){var n=W0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W0(n)}}function fb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pb(){for(var e=window,t=fd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fd(e.document)}return t}function mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OE(e){var t=pb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fb(n.ownerDocument.documentElement,n)){if(r!==null&&mm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=H0(n,o);var i=H0(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DE=xs&&"documentMode"in document&&11>=document.documentMode,ta=null,n1=null,Kl=null,r1=!1;function G0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r1||ta==null||ta!==fd(r)||(r=ta,"selectionStart"in r&&mm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&ou(Kl,r)||(Kl=r,r=bd(n1,"onSelect"),0<r.length&&(t=new fm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ta)))}function yc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var na={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Ap={},hb={};xs&&(hb=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function $f(e){if(Ap[e])return Ap[e];if(!na[e])return e;var t=na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hb)return Ap[e]=t[n];return e}var mb=$f("animationend"),gb=$f("animationiteration"),yb=$f("animationstart"),vb=$f("transitionend"),bb=new Map,q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(e,t){bb.set(e,t),$i(t,[e])}for(var Ip=0;Ip<q0.length;Ip++){var Op=q0[Ip],RE=Op.toLowerCase(),FE=Op[0].toUpperCase()+Op.slice(1);Co(RE,"on"+FE)}Co(mb,"onAnimationEnd");Co(gb,"onAnimationIteration");Co(yb,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(vb,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ME=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function X0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,RS(r,t,void 0,e),e.currentTarget=null}function wb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;X0(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;X0(s,a,u),o=l}}}if(hd)throw e=Qh,hd=!1,Qh=null,e}function bt(e,t){var n=t[l1];n===void 0&&(n=t[l1]=new Set);var r=e+"__bubble";n.has(r)||(xb(t,e,2,!1),n.add(r))}function Dp(e,t,n){var r=0;t&&(r|=4),xb(n,e,r,t)}var vc="_reactListening"+Math.random().toString(36).slice(2);function iu(e){if(!e[vc]){e[vc]=!0,Cv.forEach(function(n){n!=="selectionchange"&&(ME.has(n)||Dp(n,!1,e),Dp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vc]||(t[vc]=!0,Dp("selectionchange",!1,t))}}function xb(e,t,n,r){switch(sb(t)){case 1:var s=JS;break;case 4:s=QS;break;default:s=cm}n=s.bind(null,t,n,e),s=void 0,!Jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Rp(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Xo(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Uv(function(){var u=o,c=im(n),d=[];e:{var f=bb.get(e);if(f!==void 0){var p=fm,g=e;switch(e){case"keypress":if(Gc(n)===0)break e;case"keydown":case"keyup":p=pE;break;case"focusin":g="focus",p=Cp;break;case"focusout":g="blur",p=Cp;break;case"beforeblur":case"afterblur":p=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gE;break;case mb:case gb:case yb:p=sE;break;case vb:p=vE;break;case"scroll":p=ZS;break;case"wheel":p=wE;break;case"copy":case"cut":case"paste":p=iE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=B0}var y=(t&4)!==0,E=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var x=u,$;x!==null;){$=x;var N=$.stateNode;if($.tag===5&&N!==null&&($=N,v!==null&&(N=eu(x,v),N!=null&&y.push(au(x,N,$)))),E)break;x=x.return}0<y.length&&(f=new p(f,g,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Xh&&(g=n.relatedTarget||n.fromElement)&&(Xo(g)||g[Ss]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Xo(g):null,g!==null&&(E=ki(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=M0,N="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=B0,N="onPointerLeave",v="onPointerEnter",x="pointer"),E=p==null?f:ra(p),$=g==null?f:ra(g),f=new y(N,x+"leave",p,n,c),f.target=E,f.relatedTarget=$,N=null,Xo(c)===u&&(y=new y(v,x+"enter",g,n,c),y.target=$,y.relatedTarget=E,N=y),E=N,p&&g)t:{for(y=p,v=g,x=0,$=y;$;$=zi($))x++;for($=0,N=v;N;N=zi(N))$++;for(;0<x-$;)y=zi(y),x--;for(;0<$-x;)v=zi(v),$--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=zi(y),v=zi(v)}y=null}else y=null;p!==null&&Y0(d,f,p,y,!1),g!==null&&E!==null&&Y0(d,E,g,y,!0)}}e:{if(f=u?ra(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=NE;else if(V0(f))if(cb)I=AE;else{I=_E;var O=CE}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=PE);if(I&&(I=I(e,u))){ub(d,I,n,c);break e}O&&O(e,f,u),e==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Uh(f,"number",f.value)}switch(O=u?ra(u):window,e){case"focusin":(V0(O)||O.contentEditable==="true")&&(ta=O,n1=u,Kl=null);break;case"focusout":Kl=n1=ta=null;break;case"mousedown":r1=!0;break;case"contextmenu":case"mouseup":case"dragend":r1=!1,G0(d,n,c);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":G0(d,n,c)}var U;if(hm)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ea?ab(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ib&&n.locale!=="ko"&&(ea||C!=="onCompositionStart"?C==="onCompositionEnd"&&ea&&(U=ob()):(no=c,dm="value"in no?no.value:no.textContent,ea=!0)),O=bd(u,C),0<O.length&&(C=new L0(C,e,null,n,c),d.push({event:C,listeners:O}),U?C.data=U:(U=lb(n),U!==null&&(C.data=U)))),(U=SE?EE(e,n):TE(e,n))&&(u=bd(u,"onBeforeInput"),0<u.length&&(c=new L0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=U))}wb(d,t)})}function au(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=eu(e,n),o!=null&&r.unshift(au(e,o,s)),o=eu(e,t),o!=null&&r.push(au(e,o,s))),e=e.return}return r}function zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y0(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=eu(n,o),l!=null&&i.unshift(au(n,l,a))):s||(l=eu(n,o),l!=null&&i.push(au(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var LE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function J0(e){return(typeof e=="string"?e:""+e).replace(LE,`
`).replace(BE,"")}function bc(e,t,n){if(t=J0(t),J0(e)!==t&&n)throw Error(de(425))}function wd(){}var s1=null,o1=null;function i1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a1=typeof setTimeout=="function"?setTimeout:void 0,jE=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(e){return Q0.resolve(null).then(e).catch(VE)}:a1;function VE(e){setTimeout(function(){throw e})}function Fp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ru(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ru(t)}function co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Z0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var za=Math.random().toString(36).slice(2),Wr="__reactFiber$"+za,lu="__reactProps$"+za,Ss="__reactContainer$"+za,l1="__reactEvents$"+za,KE="__reactListeners$"+za,UE="__reactHandles$"+za;function Xo(e){var t=e[Wr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ss]||n[Wr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Z0(e);e!==null;){if(n=e[Wr])return n;e=Z0(e)}return t}e=n,n=e.parentNode}return null}function Iu(e){return e=e[Wr]||e[Ss],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function kf(e){return e[lu]||null}var u1=[],sa=-1;function _o(e){return{current:e}}function St(e){0>sa||(e.current=u1[sa],u1[sa]=null,sa--)}function pt(e,t){sa++,u1[sa]=e.current,e.current=t}var So={},yn=_o(So),jn=_o(!1),ci=So;function $a(e,t){var n=e.type.contextTypes;if(!n)return So;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function zn(e){return e=e.childContextTypes,e!=null}function xd(){St(jn),St(yn)}function eg(e,t,n){if(yn.current!==So)throw Error(de(168));pt(yn,t),pt(jn,n)}function Sb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(de(108,CS(e)||"Unknown",s));return It({},n,r)}function Sd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||So,ci=yn.current,pt(yn,e),pt(jn,jn.current),!0}function tg(e,t,n){var r=e.stateNode;if(!r)throw Error(de(169));n?(e=Sb(e,t,ci),r.__reactInternalMemoizedMergedChildContext=e,St(jn),St(yn),pt(yn,e)):St(jn),pt(jn,n)}var us=null,Nf=!1,Mp=!1;function Eb(e){us===null?us=[e]:us.push(e)}function WE(e){Nf=!0,Eb(e)}function Po(){if(!Mp&&us!==null){Mp=!0;var e=0,t=ot;try{var n=us;for(ot=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}us=null,Nf=!1}catch(s){throw us!==null&&(us=us.slice(e+1)),qv(am,Po),s}finally{ot=t,Mp=!1}}return null}var oa=[],ia=0,Ed=null,Td=0,fr=[],pr=0,di=null,ps=1,hs="";function Ko(e,t){oa[ia++]=Td,oa[ia++]=Ed,Ed=e,Td=t}function Tb(e,t,n){fr[pr++]=ps,fr[pr++]=hs,fr[pr++]=di,di=e;var r=ps;e=hs;var s=32-Dr(r)-1;r&=~(1<<s),n+=1;var o=32-Dr(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ps=1<<32-Dr(t)+s|n<<s|r,hs=o+e}else ps=1<<o|n<<s|r,hs=e}function gm(e){e.return!==null&&(Ko(e,1),Tb(e,1,0))}function ym(e){for(;e===Ed;)Ed=oa[--ia],oa[ia]=null,Td=oa[--ia],oa[ia]=null;for(;e===di;)di=fr[--pr],fr[pr]=null,hs=fr[--pr],fr[pr]=null,ps=fr[--pr],fr[pr]=null}var Jn=null,Yn=null,kt=!1,Ar=null;function $b(e,t){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ng(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Yn=co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=di!==null?{id:ps,overflow:hs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jn=e,Yn=null,!0):!1;default:return!1}}function c1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d1(e){if(kt){var t=Yn;if(t){var n=t;if(!ng(e,t)){if(c1(e))throw Error(de(418));t=co(n.nextSibling);var r=Jn;t&&ng(e,t)?$b(r,n):(e.flags=e.flags&-4097|2,kt=!1,Jn=e)}}else{if(c1(e))throw Error(de(418));e.flags=e.flags&-4097|2,kt=!1,Jn=e}}}function rg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function wc(e){if(e!==Jn)return!1;if(!kt)return rg(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!i1(e.type,e.memoizedProps)),t&&(t=Yn)){if(c1(e))throw kb(),Error(de(418));for(;t;)$b(e,t),t=co(t.nextSibling)}if(rg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yn=co(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yn=null}}else Yn=Jn?co(e.stateNode.nextSibling):null;return!0}function kb(){for(var e=Yn;e;)e=co(e.nextSibling)}function ka(){Yn=Jn=null,kt=!1}function vm(e){Ar===null?Ar=[e]:Ar.push(e)}var HE=Ms.ReactCurrentBatchConfig;function gl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,e))}return e}function xc(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sg(e){var t=e._init;return t(e._payload)}function Nb(e){function t(v,x){if(e){var $=v.deletions;$===null?(v.deletions=[x],v.flags|=16):$.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=mo(v,x),v.index=0,v.sibling=null,v}function o(v,x,$){return v.index=$,e?($=v.alternate,$!==null?($=$.index,$<x?(v.flags|=2,x):$):(v.flags|=2,x)):(v.flags|=1048576,x)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,x,$,N){return x===null||x.tag!==6?(x=Up($,v.mode,N),x.return=v,x):(x=s(x,$),x.return=v,x)}function l(v,x,$,N){var I=$.type;return I===Zi?c(v,x,$.props.children,N,$.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Qs&&sg(I)===x.type)?(N=s(x,$.props),N.ref=gl(v,x,$),N.return=v,N):(N=ed($.type,$.key,$.props,null,v.mode,N),N.ref=gl(v,x,$),N.return=v,N)}function u(v,x,$,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==$.containerInfo||x.stateNode.implementation!==$.implementation?(x=Wp($,v.mode,N),x.return=v,x):(x=s(x,$.children||[]),x.return=v,x)}function c(v,x,$,N,I){return x===null||x.tag!==7?(x=oi($,v.mode,N,I),x.return=v,x):(x=s(x,$),x.return=v,x)}function d(v,x,$){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Up(""+x,v.mode,$),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cc:return $=ed(x.type,x.key,x.props,null,v.mode,$),$.ref=gl(v,null,x),$.return=v,$;case Qi:return x=Wp(x,v.mode,$),x.return=v,x;case Qs:var N=x._init;return d(v,N(x._payload),$)}if(Al(x)||dl(x))return x=oi(x,v.mode,$,null),x.return=v,x;xc(v,x)}return null}function f(v,x,$,N){var I=x!==null?x.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return I!==null?null:a(v,x,""+$,N);if(typeof $=="object"&&$!==null){switch($.$$typeof){case cc:return $.key===I?l(v,x,$,N):null;case Qi:return $.key===I?u(v,x,$,N):null;case Qs:return I=$._init,f(v,x,I($._payload),N)}if(Al($)||dl($))return I!==null?null:c(v,x,$,N,null);xc(v,$)}return null}function p(v,x,$,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get($)||null,a(x,v,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case cc:return v=v.get(N.key===null?$:N.key)||null,l(x,v,N,I);case Qi:return v=v.get(N.key===null?$:N.key)||null,u(x,v,N,I);case Qs:var O=N._init;return p(v,x,$,O(N._payload),I)}if(Al(N)||dl(N))return v=v.get($)||null,c(x,v,N,I,null);xc(x,N)}return null}function g(v,x,$,N){for(var I=null,O=null,U=x,C=x=0,j=null;U!==null&&C<$.length;C++){U.index>C?(j=U,U=null):j=U.sibling;var F=f(v,U,$[C],N);if(F===null){U===null&&(U=j);break}e&&U&&F.alternate===null&&t(v,U),x=o(F,x,C),O===null?I=F:O.sibling=F,O=F,U=j}if(C===$.length)return n(v,U),kt&&Ko(v,C),I;if(U===null){for(;C<$.length;C++)U=d(v,$[C],N),U!==null&&(x=o(U,x,C),O===null?I=U:O.sibling=U,O=U);return kt&&Ko(v,C),I}for(U=r(v,U);C<$.length;C++)j=p(U,v,C,$[C],N),j!==null&&(e&&j.alternate!==null&&U.delete(j.key===null?C:j.key),x=o(j,x,C),O===null?I=j:O.sibling=j,O=j);return e&&U.forEach(function(H){return t(v,H)}),kt&&Ko(v,C),I}function y(v,x,$,N){var I=dl($);if(typeof I!="function")throw Error(de(150));if($=I.call($),$==null)throw Error(de(151));for(var O=I=null,U=x,C=x=0,j=null,F=$.next();U!==null&&!F.done;C++,F=$.next()){U.index>C?(j=U,U=null):j=U.sibling;var H=f(v,U,F.value,N);if(H===null){U===null&&(U=j);break}e&&U&&H.alternate===null&&t(v,U),x=o(H,x,C),O===null?I=H:O.sibling=H,O=H,U=j}if(F.done)return n(v,U),kt&&Ko(v,C),I;if(U===null){for(;!F.done;C++,F=$.next())F=d(v,F.value,N),F!==null&&(x=o(F,x,C),O===null?I=F:O.sibling=F,O=F);return kt&&Ko(v,C),I}for(U=r(v,U);!F.done;C++,F=$.next())F=p(U,v,C,F.value,N),F!==null&&(e&&F.alternate!==null&&U.delete(F.key===null?C:F.key),x=o(F,x,C),O===null?I=F:O.sibling=F,O=F);return e&&U.forEach(function(Y){return t(v,Y)}),kt&&Ko(v,C),I}function E(v,x,$,N){if(typeof $=="object"&&$!==null&&$.type===Zi&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case cc:e:{for(var I=$.key,O=x;O!==null;){if(O.key===I){if(I=$.type,I===Zi){if(O.tag===7){n(v,O.sibling),x=s(O,$.props.children),x.return=v,v=x;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Qs&&sg(I)===O.type){n(v,O.sibling),x=s(O,$.props),x.ref=gl(v,O,$),x.return=v,v=x;break e}n(v,O);break}else t(v,O);O=O.sibling}$.type===Zi?(x=oi($.props.children,v.mode,N,$.key),x.return=v,v=x):(N=ed($.type,$.key,$.props,null,v.mode,N),N.ref=gl(v,x,$),N.return=v,v=N)}return i(v);case Qi:e:{for(O=$.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===$.containerInfo&&x.stateNode.implementation===$.implementation){n(v,x.sibling),x=s(x,$.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Wp($,v.mode,N),x.return=v,v=x}return i(v);case Qs:return O=$._init,E(v,x,O($._payload),N)}if(Al($))return g(v,x,$,N);if(dl($))return y(v,x,$,N);xc(v,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,x!==null&&x.tag===6?(n(v,x.sibling),x=s(x,$),x.return=v,v=x):(n(v,x),x=Up($,v.mode,N),x.return=v,v=x),i(v)):n(v,x)}return E}var Na=Nb(!0),Cb=Nb(!1),$d=_o(null),kd=null,aa=null,bm=null;function wm(){bm=aa=kd=null}function xm(e){var t=$d.current;St($d),e._currentValue=t}function f1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ya(e,t){kd=e,bm=aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function wr(e){var t=e._currentValue;if(bm!==e)if(e={context:e,memoizedValue:t,next:null},aa===null){if(kd===null)throw Error(de(308));aa=e,kd.dependencies={lanes:0,firstContext:e}}else aa=aa.next=e;return t}var Yo=null;function Sm(e){Yo===null?Yo=[e]:Yo.push(e)}function _b(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Sm(t)):(n.next=s.next,s.next=n),t.interleaved=n,Es(e,r)}function Es(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zs=!1;function Em(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Es(e,n)}return s=r.interleaved,s===null?(t.next=t,Sm(r)):(t.next=s.next,s.next=t),r.interleaved=t,Es(e,n)}function qc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lm(e,n)}}function og(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nd(e,t,n,r){var s=e.updateQueue;Zs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==i&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=s.baseState;i=0,c=u=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=It({},d,f);break e;case 2:Zs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);pi|=i,e.lanes=i,e.memoizedState=d}}function ig(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(de(191,s));s.call(r)}}}var Ou={},Xr=_o(Ou),uu=_o(Ou),cu=_o(Ou);function Jo(e){if(e===Ou)throw Error(de(174));return e}function Tm(e,t){switch(pt(cu,t),pt(uu,e),pt(Xr,Ou),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hh(t,e)}St(Xr),pt(Xr,t)}function Ca(){St(Xr),St(uu),St(cu)}function Ab(e){Jo(cu.current);var t=Jo(Xr.current),n=Hh(t,e.type);t!==n&&(pt(uu,e),pt(Xr,n))}function $m(e){uu.current===e&&(St(Xr),St(uu))}var _t=_o(0);function Cd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lp=[];function km(){for(var e=0;e<Lp.length;e++)Lp[e]._workInProgressVersionPrimary=null;Lp.length=0}var Xc=Ms.ReactCurrentDispatcher,Bp=Ms.ReactCurrentBatchConfig,fi=0,At=null,Ht=null,Jt=null,_d=!1,Ul=!1,du=0,GE=0;function dn(){throw Error(de(321))}function Nm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function Cm(e,t,n,r,s,o){if(fi=o,At=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xc.current=e===null||e.memoizedState===null?JE:QE,e=n(r,s),Ul){o=0;do{if(Ul=!1,du=0,25<=o)throw Error(de(301));o+=1,Jt=Ht=null,t.updateQueue=null,Xc.current=ZE,e=n(r,s)}while(Ul)}if(Xc.current=Pd,t=Ht!==null&&Ht.next!==null,fi=0,Jt=Ht=At=null,_d=!1,t)throw Error(de(300));return e}function _m(){var e=du!==0;return du=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?At.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function xr(){if(Ht===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Jt===null?At.memoizedState:Jt.next;if(t!==null)Jt=t,Ht=e;else{if(e===null)throw Error(de(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?At.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function fu(e,t){return typeof t=="function"?t(e):t}function jp(e){var t=xr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var r=Ht,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var c=u.lane;if((fi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,At.lanes|=c,pi|=c}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,Lr(r,t.memoizedState)||(Bn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,At.lanes|=o,pi|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zp(e){var t=xr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Lr(o,t.memoizedState)||(Bn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ib(){}function Ob(e,t){var n=At,r=xr(),s=t(),o=!Lr(r.memoizedState,s);if(o&&(r.memoizedState=s,Bn=!0),r=r.queue,Pm(Fb.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,pu(9,Rb.bind(null,n,r,s,t),void 0,null),Zt===null)throw Error(de(349));fi&30||Db(n,t,s)}return s}function Db(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rb(e,t,n,r){t.value=n,t.getSnapshot=r,Mb(t)&&Lb(e)}function Fb(e,t,n){return n(function(){Mb(t)&&Lb(e)})}function Mb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lr(e,n)}catch{return!0}}function Lb(e){var t=Es(e,1);t!==null&&Rr(t,e,1,-1)}function ag(e){var t=Ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:e},t.queue=e,e=e.dispatch=YE.bind(null,At,e),[t.memoizedState,e]}function pu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bb(){return xr().memoizedState}function Yc(e,t,n,r){var s=Ur();At.flags|=e,s.memoizedState=pu(1|t,n,void 0,r===void 0?null:r)}function Cf(e,t,n,r){var s=xr();r=r===void 0?null:r;var o=void 0;if(Ht!==null){var i=Ht.memoizedState;if(o=i.destroy,r!==null&&Nm(r,i.deps)){s.memoizedState=pu(t,n,o,r);return}}At.flags|=e,s.memoizedState=pu(1|t,n,o,r)}function lg(e,t){return Yc(8390656,8,e,t)}function Pm(e,t){return Cf(2048,8,e,t)}function jb(e,t){return Cf(4,2,e,t)}function zb(e,t){return Cf(4,4,e,t)}function Vb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kb(e,t,n){return n=n!=null?n.concat([e]):null,Cf(4,4,Vb.bind(null,t,e),n)}function Am(){}function Ub(e,t){var n=xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wb(e,t){var n=xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hb(e,t,n){return fi&21?(Lr(n,t)||(n=Jv(),At.lanes|=n,pi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=n)}function qE(e,t){var n=ot;ot=n!==0&&4>n?n:4,e(!0);var r=Bp.transition;Bp.transition={};try{e(!1),t()}finally{ot=n,Bp.transition=r}}function Gb(){return xr().memoizedState}function XE(e,t,n){var r=ho(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qb(e))Xb(t,n);else if(n=_b(e,t,n,r),n!==null){var s=$n();Rr(n,e,r,s),Yb(n,t,r)}}function YE(e,t,n){var r=ho(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qb(e))Xb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Lr(a,i)){var l=t.interleaved;l===null?(s.next=s,Sm(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=_b(e,t,s,r),n!==null&&(s=$n(),Rr(n,e,r,s),Yb(n,t,r))}}function qb(e){var t=e.alternate;return e===At||t!==null&&t===At}function Xb(e,t){Ul=_d=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lm(e,n)}}var Pd={readContext:wr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},JE={readContext:wr,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:wr,useEffect:lg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yc(4194308,4,Vb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yc(4,2,e,t)},useMemo:function(e,t){var n=Ur();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ur();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=XE.bind(null,At,e),[r.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:ag,useDebugValue:Am,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=ag(!1),t=e[0];return e=qE.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=At,s=Ur();if(kt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=t(),Zt===null)throw Error(de(349));fi&30||Db(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,lg(Fb.bind(null,r,o,e),[e]),r.flags|=2048,pu(9,Rb.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ur(),t=Zt.identifierPrefix;if(kt){var n=hs,r=ps;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=du++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QE={readContext:wr,useCallback:Ub,useContext:wr,useEffect:Pm,useImperativeHandle:Kb,useInsertionEffect:jb,useLayoutEffect:zb,useMemo:Wb,useReducer:jp,useRef:Bb,useState:function(){return jp(fu)},useDebugValue:Am,useDeferredValue:function(e){var t=xr();return Hb(t,Ht.memoizedState,e)},useTransition:function(){var e=jp(fu)[0],t=xr().memoizedState;return[e,t]},useMutableSource:Ib,useSyncExternalStore:Ob,useId:Gb,unstable_isNewReconciler:!1},ZE={readContext:wr,useCallback:Ub,useContext:wr,useEffect:Pm,useImperativeHandle:Kb,useInsertionEffect:jb,useLayoutEffect:zb,useMemo:Wb,useReducer:zp,useRef:Bb,useState:function(){return zp(fu)},useDebugValue:Am,useDeferredValue:function(e){var t=xr();return Ht===null?t.memoizedState=e:Hb(t,Ht.memoizedState,e)},useTransition:function(){var e=zp(fu)[0],t=xr().memoizedState;return[e,t]},useMutableSource:Ib,useSyncExternalStore:Ob,useId:Gb,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function p1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:It({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _f={isMounted:function(e){return(e=e._reactInternals)?ki(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$n(),s=ho(e),o=ws(r,s);o.payload=t,n!=null&&(o.callback=n),t=fo(e,o,s),t!==null&&(Rr(t,e,s,r),qc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$n(),s=ho(e),o=ws(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=fo(e,o,s),t!==null&&(Rr(t,e,s,r),qc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$n(),r=ho(e),s=ws(n,r);s.tag=2,t!=null&&(s.callback=t),t=fo(e,s,r),t!==null&&(Rr(t,e,r,n),qc(t,e,r))}};function ug(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ou(n,r)||!ou(s,o):!0}function Jb(e,t,n){var r=!1,s=So,o=t.contextType;return typeof o=="object"&&o!==null?o=wr(o):(s=zn(t)?ci:yn.current,r=t.contextTypes,o=(r=r!=null)?$a(e,s):So),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_f,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function cg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_f.enqueueReplaceState(t,t.state,null)}function h1(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Em(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=wr(o):(o=zn(t)?ci:yn.current,s.context=$a(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(p1(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_f.enqueueReplaceState(s,s.state,null),Nd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _a(e,t){try{var n="",r=t;do n+=NS(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Vp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function m1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eT=typeof WeakMap=="function"?WeakMap:Map;function Qb(e,t,n){n=ws(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Id||(Id=!0,$1=r),m1(e,t)},n}function Zb(e,t,n){n=ws(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){m1(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){m1(e,t),typeof r!="function"&&(po===null?po=new Set([this]):po.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function dg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eT;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=hT.bind(null,e,t,n),t.then(e,e))}function fg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ws(-1,1),t.tag=2,fo(n,t,1))),n.lanes|=1),e)}var tT=Ms.ReactCurrentOwner,Bn=!1;function xn(e,t,n,r){t.child=e===null?Cb(t,null,n,r):Na(t,e.child,n,r)}function hg(e,t,n,r,s){n=n.render;var o=t.ref;return ya(t,s),r=Cm(e,t,n,r,o,s),n=_m(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ts(e,t,s)):(kt&&n&&gm(t),t.flags|=1,xn(e,t,r,s),t.child)}function mg(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Bm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,e5(e,t,o,r,s)):(e=ed(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ou,n(i,r)&&e.ref===t.ref)return Ts(e,t,s)}return t.flags|=1,e=mo(o,r),e.ref=t.ref,e.return=t,t.child=e}function e5(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ou(o,r)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,Ts(e,t,s)}return g1(e,t,n,r,s)}function t5(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(ua,qn),qn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(ua,qn),qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pt(ua,qn),qn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,pt(ua,qn),qn|=r;return xn(e,t,s,n),t.child}function n5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function g1(e,t,n,r,s){var o=zn(n)?ci:yn.current;return o=$a(t,o),ya(t,s),n=Cm(e,t,n,r,o,s),r=_m(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ts(e,t,s)):(kt&&r&&gm(t),t.flags|=1,xn(e,t,n,s),t.child)}function gg(e,t,n,r,s){if(zn(n)){var o=!0;Sd(t)}else o=!1;if(ya(t,s),t.stateNode===null)Jc(e,t),Jb(t,n,r),h1(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=wr(u):(u=zn(n)?ci:yn.current,u=$a(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&cg(t,i,r,u),Zs=!1;var f=t.memoizedState;i.state=f,Nd(t,r,i,s),l=t.memoizedState,a!==r||f!==l||jn.current||Zs?(typeof c=="function"&&(p1(t,n,c,r),l=t.memoizedState),(a=Zs||ug(t,n,a,r,f,l,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Pb(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Cr(t.type,a),i.props=u,d=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=wr(l):(l=zn(n)?ci:yn.current,l=$a(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&cg(t,i,r,l),Zs=!1,f=t.memoizedState,i.state=f,Nd(t,r,i,s);var g=t.memoizedState;a!==d||f!==g||jn.current||Zs?(typeof p=="function"&&(p1(t,n,p,r),g=t.memoizedState),(u=Zs||ug(t,n,u,r,f,g,l)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return y1(e,t,n,r,o,s)}function y1(e,t,n,r,s,o){n5(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&tg(t,n,!1),Ts(e,t,o);r=t.stateNode,tT.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Na(t,e.child,null,o),t.child=Na(t,null,a,o)):xn(e,t,a,o),t.memoizedState=r.state,s&&tg(t,n,!0),t.child}function r5(e){var t=e.stateNode;t.pendingContext?eg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eg(e,t.context,!1),Tm(e,t.containerInfo)}function yg(e,t,n,r,s){return ka(),vm(s),t.flags|=256,xn(e,t,n,r),t.child}var v1={dehydrated:null,treeContext:null,retryLane:0};function b1(e){return{baseLanes:e,cachePool:null,transitions:null}}function s5(e,t,n){var r=t.pendingProps,s=_t.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pt(_t,s&1),e===null)return d1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=If(i,r,0,null),e=oi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=b1(n),t.memoizedState=v1,e):Im(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nT(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=mo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=mo(a,o):(o=oi(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?b1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=v1,r}return o=e.child,e=o.sibling,r=mo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Im(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sc(e,t,n,r){return r!==null&&vm(r),Na(t,e.child,null,n),e=Im(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nT(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Vp(Error(de(422))),Sc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=If({mode:"visible",children:r.children},s,0,null),o=oi(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Na(t,e.child,null,i),t.child.memoizedState=b1(i),t.memoizedState=v1,o);if(!(t.mode&1))return Sc(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(de(419)),r=Vp(o,r,void 0),Sc(e,t,i,r)}if(a=(i&e.childLanes)!==0,Bn||a){if(r=Zt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Es(e,s),Rr(r,e,s,-1))}return Lm(),r=Vp(Error(de(421))),Sc(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mT.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Yn=co(s.nextSibling),Jn=t,kt=!0,Ar=null,e!==null&&(fr[pr++]=ps,fr[pr++]=hs,fr[pr++]=di,ps=e.id,hs=e.overflow,di=t),t=Im(t,r.children),t.flags|=4096,t)}function vg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),f1(e.return,t,n)}function Kp(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function o5(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(xn(e,t,r.children,n),r=_t.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vg(e,n,t);else if(e.tag===19)vg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pt(_t,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Cd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Kp(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Kp(t,!0,n,null,o);break;case"together":Kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ts(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,n=mo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rT(e,t,n){switch(t.tag){case 3:r5(t),ka();break;case 5:Ab(t);break;case 1:zn(t.type)&&Sd(t);break;case 4:Tm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pt($d,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pt(_t,_t.current&1),t.flags|=128,null):n&t.child.childLanes?s5(e,t,n):(pt(_t,_t.current&1),e=Ts(e,t,n),e!==null?e.sibling:null);pt(_t,_t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return o5(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pt(_t,_t.current),r)break;return null;case 22:case 23:return t.lanes=0,t5(e,t,n)}return Ts(e,t,n)}var i5,w1,a5,l5;i5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w1=function(){};a5=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Jo(Xr.current);var o=null;switch(n){case"input":s=Vh(e,s),r=Vh(e,r),o=[];break;case"select":s=It({},s,{value:void 0}),r=It({},r,{value:void 0}),o=[];break;case"textarea":s=Wh(e,s),r=Wh(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wd)}Gh(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&bt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};l5=function(e,t,n,r){n!==r&&(t.flags|=4)};function yl(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sT(e,t,n){var r=t.pendingProps;switch(ym(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return zn(t.type)&&xd(),fn(t),null;case 3:return r=t.stateNode,Ca(),St(jn),St(yn),km(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ar!==null&&(C1(Ar),Ar=null))),w1(e,t),fn(t),null;case 5:$m(t);var s=Jo(cu.current);if(n=t.type,e!==null&&t.stateNode!=null)a5(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(de(166));return fn(t),null}if(e=Jo(Xr.current),wc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Wr]=t,r[lu]=o,e=(t.mode&1)!==0,n){case"dialog":bt("cancel",r),bt("close",r);break;case"iframe":case"object":case"embed":bt("load",r);break;case"video":case"audio":for(s=0;s<Ol.length;s++)bt(Ol[s],r);break;case"source":bt("error",r);break;case"img":case"image":case"link":bt("error",r),bt("load",r);break;case"details":bt("toggle",r);break;case"input":N0(r,o),bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},bt("invalid",r);break;case"textarea":_0(r,o),bt("invalid",r)}Gh(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&bc(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bc(r.textContent,a,e),s=["children",""+a]):Ql.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&bt("scroll",r)}switch(n){case"input":dc(r),C0(r,o,!0);break;case"textarea":dc(r),P0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=wd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Wr]=t,e[lu]=r,i5(e,t,!1,!1),t.stateNode=e;e:{switch(i=qh(n,r),n){case"dialog":bt("cancel",e),bt("close",e),s=r;break;case"iframe":case"object":case"embed":bt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ol.length;s++)bt(Ol[s],e);s=r;break;case"source":bt("error",e),s=r;break;case"img":case"image":case"link":bt("error",e),bt("load",e),s=r;break;case"details":bt("toggle",e),s=r;break;case"input":N0(e,r),s=Vh(e,r),bt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=It({},r,{value:void 0}),bt("invalid",e);break;case"textarea":_0(e,r),s=Wh(e,r),bt("invalid",e);break;default:s=r}Gh(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Bv(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mv(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ql.hasOwnProperty(o)?l!=null&&o==="onScroll"&&bt("scroll",e):l!=null&&nm(e,o,l,i))}switch(n){case"input":dc(e),C0(e,r,!1);break;case"textarea":dc(e),P0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?pa(e,!!r.multiple,o,!1):r.defaultValue!=null&&pa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)l5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(de(166));if(n=Jo(cu.current),Jo(Xr.current),wc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wr]=t,(o=r.nodeValue!==n)&&(e=Jn,e!==null))switch(e.tag){case 3:bc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=t,t.stateNode=r}return fn(t),null;case 13:if(St(_t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&Yn!==null&&t.mode&1&&!(t.flags&128))kb(),ka(),t.flags|=98560,o=!1;else if(o=wc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(de(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(de(317));o[Wr]=t}else ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),o=!1}else Ar!==null&&(C1(Ar),Ar=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_t.current&1?Gt===0&&(Gt=3):Lm())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Ca(),w1(e,t),e===null&&iu(t.stateNode.containerInfo),fn(t),null;case 10:return xm(t.type._context),fn(t),null;case 17:return zn(t.type)&&xd(),fn(t),null;case 19:if(St(_t),o=t.memoizedState,o===null)return fn(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)yl(o,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Cd(e),i!==null){for(t.flags|=128,yl(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pt(_t,_t.current&1|2),t.child}e=e.sibling}o.tail!==null&&Bt()>Pa&&(t.flags|=128,r=!0,yl(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cd(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!kt)return fn(t),null}else 2*Bt()-o.renderingStartTime>Pa&&n!==1073741824&&(t.flags|=128,r=!0,yl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Bt(),t.sibling=null,n=_t.current,pt(_t,r?n&1|2:n&1),t):(fn(t),null);case 22:case 23:return Mm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qn&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function oT(e,t){switch(ym(t),t.tag){case 1:return zn(t.type)&&xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(),St(jn),St(yn),km(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $m(t),null;case 13:if(St(_t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St(_t),null;case 4:return Ca(),null;case 10:return xm(t.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var Ec=!1,mn=!1,iT=typeof WeakSet=="function"?WeakSet:Set,xe=null;function la(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ft(e,t,r)}else n.current=null}function x1(e,t,n){try{n()}catch(r){Ft(e,t,r)}}var bg=!1;function aT(e,t){if(s1=yd,e=pb(),mm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=i+s),d!==o||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===s&&(a=i),f===o&&++c===r&&(l=i),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(o1={focusedElem:e,selectionRange:n},yd=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,E=g.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Cr(t.type,y),E);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var $=t.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(N){Ft(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return g=bg,bg=!1,g}function Wl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&x1(t,n,o)}s=s.next}while(s!==r)}}function Pf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function S1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function u5(e){var t=e.alternate;t!==null&&(e.alternate=null,u5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wr],delete t[lu],delete t[l1],delete t[KE],delete t[UE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c5(e){return e.tag===5||e.tag===3||e.tag===4}function wg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function E1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wd));else if(r!==4&&(e=e.child,e!==null))for(E1(e,t,n),e=e.sibling;e!==null;)E1(e,t,n),e=e.sibling}function T1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(T1(e,t,n),e=e.sibling;e!==null;)T1(e,t,n),e=e.sibling}var on=null,_r=!1;function Gs(e,t,n){for(n=n.child;n!==null;)d5(e,t,n),n=n.sibling}function d5(e,t,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Sf,n)}catch{}switch(n.tag){case 5:mn||la(n,t);case 6:var r=on,s=_r;on=null,Gs(e,t,n),on=r,_r=s,on!==null&&(_r?(e=on,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):on.removeChild(n.stateNode));break;case 18:on!==null&&(_r?(e=on,n=n.stateNode,e.nodeType===8?Fp(e.parentNode,n):e.nodeType===1&&Fp(e,n),ru(e)):Fp(on,n.stateNode));break;case 4:r=on,s=_r,on=n.stateNode.containerInfo,_r=!0,Gs(e,t,n),on=r,_r=s;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&x1(n,t,i),s=s.next}while(s!==r)}Gs(e,t,n);break;case 1:if(!mn&&(la(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ft(n,t,a)}Gs(e,t,n);break;case 21:Gs(e,t,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Gs(e,t,n),mn=r):Gs(e,t,n);break;default:Gs(e,t,n)}}function xg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new iT),t.forEach(function(r){var s=gT.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:on=a.stateNode,_r=!1;break e;case 3:on=a.stateNode.containerInfo,_r=!0;break e;case 4:on=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(on===null)throw Error(de(160));d5(o,i,s),on=null,_r=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ft(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f5(t,e),t=t.sibling}function f5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kr(t,e),Kr(e),r&4){try{Wl(3,e,e.return),Pf(3,e)}catch(y){Ft(e,e.return,y)}try{Wl(5,e,e.return)}catch(y){Ft(e,e.return,y)}}break;case 1:kr(t,e),Kr(e),r&512&&n!==null&&la(n,n.return);break;case 5:if(kr(t,e),Kr(e),r&512&&n!==null&&la(n,n.return),e.flags&32){var s=e.stateNode;try{Zl(s,"")}catch(y){Ft(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Dv(s,o),qh(a,i);var u=qh(a,o);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];c==="style"?Bv(s,d):c==="dangerouslySetInnerHTML"?Mv(s,d):c==="children"?Zl(s,d):nm(s,c,d,u)}switch(a){case"input":Kh(s,o);break;case"textarea":Rv(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?pa(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?pa(s,!!o.multiple,o.defaultValue,!0):pa(s,!!o.multiple,o.multiple?[]:"",!1))}s[lu]=o}catch(y){Ft(e,e.return,y)}}break;case 6:if(kr(t,e),Kr(e),r&4){if(e.stateNode===null)throw Error(de(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Ft(e,e.return,y)}}break;case 3:if(kr(t,e),Kr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ru(t.containerInfo)}catch(y){Ft(e,e.return,y)}break;case 4:kr(t,e),Kr(e);break;case 13:kr(t,e),Kr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Rm=Bt())),r&4&&xg(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(mn=(u=mn)||c,kr(t,e),mn=u):kr(t,e),Kr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(xe=e,c=e.child;c!==null;){for(d=xe=c;xe!==null;){switch(f=xe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Wl(4,f,f.return);break;case 1:la(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Ft(r,n,y)}}break;case 5:la(f,f.return);break;case 22:if(f.memoizedState!==null){Eg(d);continue}}p!==null?(p.return=f,xe=p):Eg(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lv("display",i))}catch(y){Ft(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Ft(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kr(t,e),Kr(e),r&4&&xg(e);break;case 21:break;default:kr(t,e),Kr(e)}}function Kr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(c5(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zl(s,""),r.flags&=-33);var o=wg(e);T1(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=wg(e);E1(e,a,i);break;default:throw Error(de(161))}}catch(l){Ft(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lT(e,t,n){xe=e,p5(e)}function p5(e,t,n){for(var r=(e.mode&1)!==0;xe!==null;){var s=xe,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ec;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mn;a=Ec;var u=mn;if(Ec=i,(mn=l)&&!u)for(xe=s;xe!==null;)i=xe,l=i.child,i.tag===22&&i.memoizedState!==null?Tg(s):l!==null?(l.return=i,xe=l):Tg(s);for(;o!==null;)xe=o,p5(o),o=o.sibling;xe=s,Ec=a,mn=u}Sg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,xe=o):Sg(e)}}function Sg(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mn||Pf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Cr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ig(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ig(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ru(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}mn||t.flags&512&&S1(t)}catch(f){Ft(t,t.return,f)}}if(t===e){xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,xe=n;break}xe=t.return}}function Eg(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xe=n;break}xe=t.return}}function Tg(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pf(4,t)}catch(l){Ft(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ft(t,s,l)}}var o=t.return;try{S1(t)}catch(l){Ft(t,o,l)}break;case 5:var i=t.return;try{S1(t)}catch(l){Ft(t,i,l)}}}catch(l){Ft(t,t.return,l)}if(t===e){xe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,xe=a;break}xe=t.return}}var uT=Math.ceil,Ad=Ms.ReactCurrentDispatcher,Om=Ms.ReactCurrentOwner,yr=Ms.ReactCurrentBatchConfig,Je=0,Zt=null,Kt=null,un=0,qn=0,ua=_o(0),Gt=0,hu=null,pi=0,Af=0,Dm=0,Hl=null,Mn=null,Rm=0,Pa=1/0,ls=null,Id=!1,$1=null,po=null,Tc=!1,ro=null,Od=0,Gl=0,k1=null,Qc=-1,Zc=0;function $n(){return Je&6?Bt():Qc!==-1?Qc:Qc=Bt()}function ho(e){return e.mode&1?Je&2&&un!==0?un&-un:HE.transition!==null?(Zc===0&&(Zc=Jv()),Zc):(e=ot,e!==0||(e=window.event,e=e===void 0?16:sb(e.type)),e):1}function Rr(e,t,n,r){if(50<Gl)throw Gl=0,k1=null,Error(de(185));Pu(e,n,r),(!(Je&2)||e!==Zt)&&(e===Zt&&(!(Je&2)&&(Af|=n),Gt===4&&to(e,un)),Vn(e,r),n===1&&Je===0&&!(t.mode&1)&&(Pa=Bt()+500,Nf&&Po()))}function Vn(e,t){var n=e.callbackNode;HS(e,t);var r=gd(e,e===Zt?un:0);if(r===0)n!==null&&O0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&O0(n),t===1)e.tag===0?WE($g.bind(null,e)):Eb($g.bind(null,e)),zE(function(){!(Je&6)&&Po()}),n=null;else{switch(Qv(r)){case 1:n=am;break;case 4:n=Xv;break;case 16:n=md;break;case 536870912:n=Yv;break;default:n=md}n=x5(n,h5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function h5(e,t){if(Qc=-1,Zc=0,Je&6)throw Error(de(327));var n=e.callbackNode;if(va()&&e.callbackNode!==n)return null;var r=gd(e,e===Zt?un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dd(e,r);else{t=r;var s=Je;Je|=2;var o=g5();(Zt!==e||un!==t)&&(ls=null,Pa=Bt()+500,si(e,t));do try{fT();break}catch(a){m5(e,a)}while(!0);wm(),Ad.current=o,Je=s,Kt!==null?t=0:(Zt=null,un=0,t=Gt)}if(t!==0){if(t===2&&(s=Zh(e),s!==0&&(r=s,t=N1(e,s))),t===1)throw n=hu,si(e,0),to(e,r),Vn(e,Bt()),n;if(t===6)to(e,r);else{if(s=e.current.alternate,!(r&30)&&!cT(s)&&(t=Dd(e,r),t===2&&(o=Zh(e),o!==0&&(r=o,t=N1(e,o))),t===1))throw n=hu,si(e,0),to(e,r),Vn(e,Bt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(de(345));case 2:Uo(e,Mn,ls);break;case 3:if(to(e,r),(r&130023424)===r&&(t=Rm+500-Bt(),10<t)){if(gd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){$n(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=a1(Uo.bind(null,e,Mn,ls),t);break}Uo(e,Mn,ls);break;case 4:if(to(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Dr(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uT(r/1960))-r,10<r){e.timeoutHandle=a1(Uo.bind(null,e,Mn,ls),r);break}Uo(e,Mn,ls);break;case 5:Uo(e,Mn,ls);break;default:throw Error(de(329))}}}return Vn(e,Bt()),e.callbackNode===n?h5.bind(null,e):null}function N1(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(si(e,t).flags|=256),e=Dd(e,t),e!==2&&(t=Mn,Mn=n,t!==null&&C1(t)),e}function C1(e){Mn===null?Mn=e:Mn.push.apply(Mn,e)}function cT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Lr(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function to(e,t){for(t&=~Dm,t&=~Af,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dr(t),r=1<<n;e[n]=-1,t&=~r}}function $g(e){if(Je&6)throw Error(de(327));va();var t=gd(e,0);if(!(t&1))return Vn(e,Bt()),null;var n=Dd(e,t);if(e.tag!==0&&n===2){var r=Zh(e);r!==0&&(t=r,n=N1(e,r))}if(n===1)throw n=hu,si(e,0),to(e,t),Vn(e,Bt()),n;if(n===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uo(e,Mn,ls),Vn(e,Bt()),null}function Fm(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(Pa=Bt()+500,Nf&&Po())}}function hi(e){ro!==null&&ro.tag===0&&!(Je&6)&&va();var t=Je;Je|=1;var n=yr.transition,r=ot;try{if(yr.transition=null,ot=1,e)return e()}finally{ot=r,yr.transition=n,Je=t,!(Je&6)&&Po()}}function Mm(){qn=ua.current,St(ua)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jE(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(ym(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:Ca(),St(jn),St(yn),km();break;case 5:$m(r);break;case 4:Ca();break;case 13:St(_t);break;case 19:St(_t);break;case 10:xm(r.type._context);break;case 22:case 23:Mm()}n=n.return}if(Zt=e,Kt=e=mo(e.current,null),un=qn=t,Gt=0,hu=null,Dm=Af=pi=0,Mn=Hl=null,Yo!==null){for(t=0;t<Yo.length;t++)if(n=Yo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Yo=null}return e}function m5(e,t){do{var n=Kt;try{if(wm(),Xc.current=Pd,_d){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_d=!1}if(fi=0,Jt=Ht=At=null,Ul=!1,du=0,Om.current=null,n===null||n.return===null){Gt=1,hu=t,Kt=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=un,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=fg(i);if(p!==null){p.flags&=-257,pg(p,i,a,o,t),p.mode&1&&dg(o,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){dg(o,u,t),Lm();break e}l=Error(de(426))}}else if(kt&&a.mode&1){var E=fg(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),pg(E,i,a,o,t),vm(_a(l,a));break e}}o=l=_a(l,a),Gt!==4&&(Gt=2),Hl===null?Hl=[o]:Hl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Qb(o,l,t);og(o,v);break e;case 1:a=l;var x=o.type,$=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(po===null||!po.has($)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=Zb(o,a,t);og(o,N);break e}}o=o.return}while(o!==null)}v5(n)}catch(I){t=I,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function g5(){var e=Ad.current;return Ad.current=Pd,e===null?Pd:e}function Lm(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Zt===null||!(pi&268435455)&&!(Af&268435455)||to(Zt,un)}function Dd(e,t){var n=Je;Je|=2;var r=g5();(Zt!==e||un!==t)&&(ls=null,si(e,t));do try{dT();break}catch(s){m5(e,s)}while(!0);if(wm(),Je=n,Ad.current=r,Kt!==null)throw Error(de(261));return Zt=null,un=0,Gt}function dT(){for(;Kt!==null;)y5(Kt)}function fT(){for(;Kt!==null&&!MS();)y5(Kt)}function y5(e){var t=w5(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?v5(e):Kt=t,Om.current=null}function v5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=oT(n,t),n!==null){n.flags&=32767,Kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Kt=null;return}}else if(n=sT(n,t,qn),n!==null){Kt=n;return}if(t=t.sibling,t!==null){Kt=t;return}Kt=t=e}while(t!==null);Gt===0&&(Gt=5)}function Uo(e,t,n){var r=ot,s=yr.transition;try{yr.transition=null,ot=1,pT(e,t,n,r)}finally{yr.transition=s,ot=r}return null}function pT(e,t,n,r){do va();while(ro!==null);if(Je&6)throw Error(de(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(GS(e,o),e===Zt&&(Kt=Zt=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,x5(md,function(){return va(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yr.transition,yr.transition=null;var i=ot;ot=1;var a=Je;Je|=4,Om.current=null,aT(e,n),f5(n,e),OE(o1),yd=!!s1,o1=s1=null,e.current=n,lT(n),LS(),Je=a,ot=i,yr.transition=o}else e.current=n;if(Tc&&(Tc=!1,ro=e,Od=s),o=e.pendingLanes,o===0&&(po=null),zS(n.stateNode),Vn(e,Bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Id)throw Id=!1,e=$1,$1=null,e;return Od&1&&e.tag!==0&&va(),o=e.pendingLanes,o&1?e===k1?Gl++:(Gl=0,k1=e):Gl=0,Po(),null}function va(){if(ro!==null){var e=Qv(Od),t=yr.transition,n=ot;try{if(yr.transition=null,ot=16>e?16:e,ro===null)var r=!1;else{if(e=ro,ro=null,Od=0,Je&6)throw Error(de(331));var s=Je;for(Je|=4,xe=e.current;xe!==null;){var o=xe,i=o.child;if(xe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(xe=u;xe!==null;){var c=xe;switch(c.tag){case 0:case 11:case 15:Wl(8,c,o)}var d=c.child;if(d!==null)d.return=c,xe=d;else for(;xe!==null;){c=xe;var f=c.sibling,p=c.return;if(u5(c),c===u){xe=null;break}if(f!==null){f.return=p,xe=f;break}xe=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}xe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,xe=i;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wl(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,xe=v;break e}xe=o.return}}var x=e.current;for(xe=x;xe!==null;){i=xe;var $=i.child;if(i.subtreeFlags&2064&&$!==null)$.return=i,xe=$;else e:for(i=x;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pf(9,a)}}catch(I){Ft(a,a.return,I)}if(a===i){xe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,xe=N;break e}xe=a.return}}if(Je=s,Po(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Sf,e)}catch{}r=!0}return r}finally{ot=n,yr.transition=t}}return!1}function kg(e,t,n){t=_a(n,t),t=Qb(e,t,1),e=fo(e,t,1),t=$n(),e!==null&&(Pu(e,1,t),Vn(e,t))}function Ft(e,t,n){if(e.tag===3)kg(e,e,n);else for(;t!==null;){if(t.tag===3){kg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(po===null||!po.has(r))){e=_a(n,e),e=Zb(t,e,1),t=fo(t,e,1),e=$n(),t!==null&&(Pu(t,1,e),Vn(t,e));break}}t=t.return}}function hT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$n(),e.pingedLanes|=e.suspendedLanes&n,Zt===e&&(un&n)===n&&(Gt===4||Gt===3&&(un&130023424)===un&&500>Bt()-Rm?si(e,0):Dm|=n),Vn(e,t)}function b5(e,t){t===0&&(e.mode&1?(t=hc,hc<<=1,!(hc&130023424)&&(hc=4194304)):t=1);var n=$n();e=Es(e,t),e!==null&&(Pu(e,t,n),Vn(e,n))}function mT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),b5(e,n)}function gT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(t),b5(e,n)}var w5;w5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jn.current)Bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bn=!1,rT(e,t,n);Bn=!!(e.flags&131072)}else Bn=!1,kt&&t.flags&1048576&&Tb(t,Td,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jc(e,t),e=t.pendingProps;var s=$a(t,yn.current);ya(t,n),s=Cm(null,t,r,e,s,n);var o=_m();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zn(r)?(o=!0,Sd(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Em(t),s.updater=_f,t.stateNode=s,s._reactInternals=t,h1(t,r,e,n),t=y1(null,t,r,!0,o,n)):(t.tag=0,kt&&o&&gm(t),xn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=vT(r),e=Cr(r,e),s){case 0:t=g1(null,t,r,e,n);break e;case 1:t=gg(null,t,r,e,n);break e;case 11:t=hg(null,t,r,e,n);break e;case 14:t=mg(null,t,r,Cr(r.type,e),n);break e}throw Error(de(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cr(r,s),g1(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cr(r,s),gg(e,t,r,s,n);case 3:e:{if(r5(t),e===null)throw Error(de(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Pb(e,t),Nd(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=_a(Error(de(423)),t),t=yg(e,t,r,n,s);break e}else if(r!==s){s=_a(Error(de(424)),t),t=yg(e,t,r,n,s);break e}else for(Yn=co(t.stateNode.containerInfo.firstChild),Jn=t,kt=!0,Ar=null,n=Cb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===s){t=Ts(e,t,n);break e}xn(e,t,r,n)}t=t.child}return t;case 5:return Ab(t),e===null&&d1(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,i1(r,s)?i=null:o!==null&&i1(r,o)&&(t.flags|=32),n5(e,t),xn(e,t,i,n),t.child;case 6:return e===null&&d1(t),null;case 13:return s5(e,t,n);case 4:return Tm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Na(t,null,r,n):xn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cr(r,s),hg(e,t,r,s,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,pt($d,r._currentValue),r._currentValue=i,o!==null)if(Lr(o.value,i)){if(o.children===s.children&&!jn.current){t=Ts(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ws(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),f1(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(de(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),f1(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}xn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ya(t,n),s=wr(s),r=r(s),t.flags|=1,xn(e,t,r,n),t.child;case 14:return r=t.type,s=Cr(r,t.pendingProps),s=Cr(r.type,s),mg(e,t,r,s,n);case 15:return e5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cr(r,s),Jc(e,t),t.tag=1,zn(r)?(e=!0,Sd(t)):e=!1,ya(t,n),Jb(t,r,s),h1(t,r,s,n),y1(null,t,r,!0,e,n);case 19:return o5(e,t,n);case 22:return t5(e,t,n)}throw Error(de(156,t.tag))};function x5(e,t){return qv(e,t)}function yT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,t,n,r){return new yT(e,t,n,r)}function Bm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vT(e){if(typeof e=="function")return Bm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sm)return 11;if(e===om)return 14}return 2}function mo(e,t){var n=e.alternate;return n===null?(n=gr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ed(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Bm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Zi:return oi(n.children,s,o,t);case rm:i=8,s|=8;break;case Lh:return e=gr(12,n,t,s|2),e.elementType=Lh,e.lanes=o,e;case Bh:return e=gr(13,n,t,s),e.elementType=Bh,e.lanes=o,e;case jh:return e=gr(19,n,t,s),e.elementType=jh,e.lanes=o,e;case Av:return If(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _v:i=10;break e;case Pv:i=9;break e;case sm:i=11;break e;case om:i=14;break e;case Qs:i=16,r=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=gr(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function oi(e,t,n,r){return e=gr(7,e,r,t),e.lanes=n,e}function If(e,t,n,r){return e=gr(22,e,r,t),e.elementType=Av,e.lanes=n,e.stateNode={isHidden:!1},e}function Up(e,t,n){return e=gr(6,e,null,t),e.lanes=n,e}function Wp(e,t,n){return t=gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bT(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$p(0),this.expirationTimes=$p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jm(e,t,n,r,s,o,i,a,l){return e=new bT(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Em(o),e}function wT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function S5(e){if(!e)return So;e=e._reactInternals;e:{if(ki(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var n=e.type;if(zn(n))return Sb(e,n,t)}return t}function E5(e,t,n,r,s,o,i,a,l){return e=jm(n,r,!0,e,s,o,i,a,l),e.context=S5(null),n=e.current,r=$n(),s=ho(n),o=ws(r,s),o.callback=t??null,fo(n,o,s),e.current.lanes=s,Pu(e,s,r),Vn(e,r),e}function Of(e,t,n,r){var s=t.current,o=$n(),i=ho(s);return n=S5(n),t.context===null?t.context=n:t.pendingContext=n,t=ws(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fo(s,t,i),e!==null&&(Rr(e,s,i,o),qc(e,s,i)),i}function Rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ng(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zm(e,t){Ng(e,t),(e=e.alternate)&&Ng(e,t)}function xT(){return null}var T5=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vm(e){this._internalRoot=e}Df.prototype.render=Vm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));Of(e,t,null,null)};Df.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hi(function(){Of(null,e,null,null)}),t[Ss]=null}};function Df(e){this._internalRoot=e}Df.prototype.unstable_scheduleHydration=function(e){if(e){var t=tb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<eo.length&&t!==0&&t<eo[n].priority;n++);eo.splice(n,0,e),n===0&&rb(e)}};function Km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function ST(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Rd(i);o.call(u)}}var i=E5(t,r,e,0,null,!1,!1,"",Cg);return e._reactRootContainer=i,e[Ss]=i.current,iu(e.nodeType===8?e.parentNode:e),hi(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Rd(l);a.call(u)}}var l=jm(e,0,!1,null,null,!1,!1,"",Cg);return e._reactRootContainer=l,e[Ss]=l.current,iu(e.nodeType===8?e.parentNode:e),hi(function(){Of(t,l,n,r)}),l}function Ff(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Rd(i);a.call(l)}}Of(t,i,e,s)}else i=ST(n,t,e,s,r);return Rd(i)}Zv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Il(t.pendingLanes);n!==0&&(lm(t,n|1),Vn(t,Bt()),!(Je&6)&&(Pa=Bt()+500,Po()))}break;case 13:hi(function(){var r=Es(e,1);if(r!==null){var s=$n();Rr(r,e,1,s)}}),zm(e,1)}};um=function(e){if(e.tag===13){var t=Es(e,134217728);if(t!==null){var n=$n();Rr(t,e,134217728,n)}zm(e,134217728)}};eb=function(e){if(e.tag===13){var t=ho(e),n=Es(e,t);if(n!==null){var r=$n();Rr(n,e,t,r)}zm(e,t)}};tb=function(){return ot};nb=function(e,t){var n=ot;try{return ot=e,t()}finally{ot=n}};Yh=function(e,t,n){switch(t){case"input":if(Kh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=kf(r);if(!s)throw Error(de(90));Ov(r),Kh(r,s)}}}break;case"textarea":Rv(e,n);break;case"select":t=n.value,t!=null&&pa(e,!!n.multiple,t,!1)}};Vv=Fm;Kv=hi;var ET={usingClientEntryPoint:!1,Events:[Iu,ra,kf,jv,zv,Fm]},vl={findFiberByHostInstance:Xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TT={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hv(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||xT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Sf=$c.inject(TT),qr=$c}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ET;er.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Km(t))throw Error(de(200));return wT(e,t,null,n)};er.createRoot=function(e,t){if(!Km(e))throw Error(de(299));var n=!1,r="",s=T5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jm(e,1,!1,null,null,n,!1,r,s),e[Ss]=t.current,iu(e.nodeType===8?e.parentNode:e),new Vm(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=Hv(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return hi(e)};er.hydrate=function(e,t,n){if(!Rf(t))throw Error(de(200));return Ff(null,e,t,!0,n)};er.hydrateRoot=function(e,t,n){if(!Km(e))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=T5;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=E5(t,null,e,1,n??null,s,!1,o,i),e[Ss]=t.current,iu(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Df(t)};er.render=function(e,t,n){if(!Rf(t))throw Error(de(200));return Ff(null,e,t,!1,n)};er.unmountComponentAtNode=function(e){if(!Rf(e))throw Error(de(40));return e._reactRootContainer?(hi(function(){Ff(null,null,e,!1,function(){e._reactRootContainer=null,e[Ss]=null})}),!0):!1};er.unstable_batchedUpdates=Fm;er.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rf(n))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return Ff(e,t,n,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function $5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($5)}catch(e){console.error(e)}}$5(),$v.exports=er;var Um=$v.exports;const $T=wf(Um);var _g=Um;Fh.createRoot=_g.createRoot,Fh.hydrateRoot=_g.hydrateRoot;function Wm(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,s=P.createContext(void 0);s.displayName=r;function o(){var i;const a=P.useContext(s);if(!a&&t){const l=new Error(n);throw l.name="ContextError",(i=Error.captureStackTrace)==null||i.call(Error,l,o),l}return a}return[s.Provider,o,s]}function $s(e){const t=P.useRef(null);return P.useImperativeHandle(e,()=>t.current),t}function k5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=k5(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ut(...e){for(var t=0,n,r,s="";t<e.length;)(n=e[t++])&&(r=k5(n))&&(s&&(s+=" "),s+=r);return s}var kT=e=>e.charAt(0).toUpperCase()+e.slice(1);function NT(e){return`${e}-${Math.floor(Math.random()*1e6)}`}function CT(e){for(const t in e)t.startsWith("on")&&delete e[t];return e}function Ni(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}function _T(e,t,n){return Math.min(Math.max(e,t),n)}var Me=e=>e?"true":void 0,PT=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),AT=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),Pg=/^(data-.*)$/,IT=/^(aria-.*)$/,kc=/^(on[A-Z].*)$/;function ks(e,t={}){let{labelable:n=!0,enabled:r=!0,propNames:s,omitPropNames:o,omitEventNames:i,omitDataProps:a,omitEventProps:l}=t,u={};if(!r)return e;for(const c in e)o!=null&&o.has(c)||i!=null&&i.has(c)&&kc.test(c)||kc.test(c)&&!AT.has(c)||a&&Pg.test(c)||l&&kc.test(c)||(Object.prototype.hasOwnProperty.call(e,c)&&(PT.has(c)||n&&IT.test(c)||s!=null&&s.has(c)||Pg.test(c))||kc.test(c))&&(u[c]=e[c]);return u}var[OT,WQ]=Wm({name:"ProviderContext",strict:!1});const DT=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),RT=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function N5(e){if(Intl.Locale){let n=new Intl.Locale(e).maximize(),r=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(r)return r.direction==="rtl";if(n.script)return DT.has(n.script)}let t=e.split("-")[0];return RT.has(t)}const Fd={prefix:String(Math.round(Math.random()*1e10)),current:0},C5=Ge.createContext(Fd),FT=Ge.createContext(!1);let MT=!!(typeof window<"u"&&window.document&&window.document.createElement),Hp=new WeakMap;function LT(e=!1){let t=P.useContext(C5),n=P.useRef(null);if(n.current===null&&!e){var r,s;let o=(s=Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let i=Hp.get(o);i==null?Hp.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==i.state&&(t.current=i.id,Hp.delete(o))}n.current=++t.current}return n.current}function BT(e){let t=P.useContext(C5);t===Fd&&!MT&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=LT(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function jT(e){let t=Ge.useId(),[n]=P.useState(Du()),r=n?"react-aria":`react-aria${Fd.prefix}`;return e||`${r}-${t}`}const zT=typeof Ge.useId=="function"?jT:BT;function VT(){return!1}function KT(){return!0}function UT(e){return()=>{}}function Du(){return typeof Ge.useSyncExternalStore=="function"?Ge.useSyncExternalStore(UT,VT,KT):P.useContext(FT)}const WT=Symbol.for("react-aria.i18n.locale");function _5(){let e=typeof window<"u"&&window[WT]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:N5(e)?"rtl":"ltr"}}let _1=_5(),Dl=new Set;function Ag(){_1=_5();for(let e of Dl)e(_1)}function P5(){let e=Du(),[t,n]=P.useState(_1);return P.useEffect(()=>(Dl.size===0&&window.addEventListener("languagechange",Ag),Dl.add(n),()=>{Dl.delete(n),Dl.size===0&&window.removeEventListener("languagechange",Ag)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const A5=Ge.createContext(null);function HT(e){let{locale:t,children:n}=e,r=P5(),s=t?{locale:t,direction:N5(t)?"rtl":"ltr"}:r;return Ge.createElement(A5.Provider,{value:s},n)}function Mf(){let e=P5();return P.useContext(A5)||e}const GT=Symbol.for("react-aria.i18n.locale"),qT=Symbol.for("react-aria.i18n.strings");let Vi;class Lf{getStringForLocale(t,n){let s=this.getStringsForLocale(n)[t];if(!s)throw new Error(`Could not find intl message ${t} in ${n} locale`);return s}getStringsForLocale(t){let n=this.strings[t];return n||(n=XT(t,this.strings,this.defaultLocale),this.strings[t]=n),n}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let n=window[GT];if(Vi===void 0){let s=window[qT];if(!s)return null;Vi={};for(let o in s)Vi[o]=new Lf({[n]:s[o]},n)}let r=Vi==null?void 0:Vi[t];if(!r)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(t,n="en-US"){this.strings=Object.fromEntries(Object.entries(t).filter(([,r])=>r)),this.defaultLocale=n}}function XT(e,t,n="en-US"){if(t[e])return t[e];let r=YT(e);if(t[r])return t[r];for(let s in t)if(s.startsWith(r+"-"))return t[s];return t[n]}function YT(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const Ig=new Map,Og=new Map;class JT{format(t,n){let r=this.strings.getStringForLocale(t,this.locale);return typeof r=="function"?r(n,this):r}plural(t,n,r="cardinal"){let s=n["="+t];if(s)return typeof s=="function"?s():s;let o=this.locale+":"+r,i=Ig.get(o);i||(i=new Intl.PluralRules(this.locale,{type:r}),Ig.set(o,i));let a=i.select(t);return s=n[a]||n.other,typeof s=="function"?s():s}number(t){let n=Og.get(this.locale);return n||(n=new Intl.NumberFormat(this.locale),Og.set(this.locale,n)),n.format(t)}select(t,n){let r=t[n]||t.other;return typeof r=="function"?r():r}constructor(t,n){this.locale=t,this.strings=n}}const Dg=new WeakMap;function QT(e){let t=Dg.get(e);return t||(t=new Lf(e),Dg.set(e,t)),t}function ZT(e,t){return t&&Lf.getGlobalDictionaryForPackage(t)||QT(e)}function I5(e,t){let{locale:n}=Mf(),r=ZT(e,t);return P.useMemo(()=>new JT(n,r),[n,r])}function Gp(e,t){return e-t*Math.floor(e/t)}const O5=1721426;function Nc(e,t,n,r){t=Hm(e,t);let s=t-1,o=-2;return n<=2?o=0:td(t)&&(o=-1),O5-1+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)+Math.floor((367*n-362)/12+o+r)}function td(e){return e%4===0&&(e%100!==0||e%400===0)}function Hm(e,t){return e==="BC"?1-t:t}function e$(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}const t$={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class Bf{fromJulianDay(t){let n=t,r=n-O5,s=Math.floor(r/146097),o=Gp(r,146097),i=Math.floor(o/36524),a=Gp(o,36524),l=Math.floor(a/1461),u=Gp(a,1461),c=Math.floor(u/365),d=s*400+i*100+l*4+c+(i!==4&&c!==4?1:0),[f,p]=e$(d),g=n-Nc(f,p,1,1),y=2;n<Nc(f,p,3,1)?y=0:td(p)&&(y=1);let E=Math.floor(((g+y)*12+373)/367),v=n-Nc(f,p,E,1)+1;return new Ia(f,p,E,v)}toJulianDay(t){return Nc(t.era,t.year,t.month,t.day)}getDaysInMonth(t){return t$[td(t.year)?"leapyear":"standard"][t.month-1]}getMonthsInYear(t){return 12}getDaysInYear(t){return td(t.year)?366:365}getYearsInEra(t){return 9999}getEras(){return["BC","AD"]}isInverseEra(t){return t.era==="BC"}balanceDate(t){t.year<=0&&(t.era=t.era==="BC"?"AD":"BC",t.year=1-t.year)}constructor(){this.identifier="gregory"}}function D5(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function n$(e,t){return Rg(e)-Rg(t)}function Rg(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}let qp=null;function R5(){return qp==null&&(qp=new Intl.DateTimeFormat().resolvedOptions().timeZone),qp}function Fg(e){e=Gm(e,new Bf);let t=Hm(e.era,e.year);return F5(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function F5(e,t,n,r,s,o,i){let a=new Date;return a.setUTCHours(r,s,o,i),a.setUTCFullYear(e,t-1,n),a.getTime()}function Mg(e,t){if(t==="UTC")return 0;if(e>0&&t===R5())return new Date(e).getTimezoneOffset()*-6e4;let{year:n,month:r,day:s,hour:o,minute:i,second:a}=M5(e,t);return F5(n,r,s,o,i,a,0)-Math.floor(e/1e3)*1e3}const Lg=new Map;function M5(e,t){let n=Lg.get(t);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Lg.set(t,n));let r=n.formatToParts(new Date(e)),s={};for(let o of r)o.type!=="literal"&&(s[o.type]=o.value);return{year:s.era==="BC"||s.era==="B"?-s.year+1:+s.year,month:+s.month,day:+s.day,hour:s.hour==="24"?0:+s.hour,minute:+s.minute,second:+s.second}}const Bg=864e5;function r$(e,t,n,r){return(n===r?[n]:[n,r]).filter(o=>s$(e,t,o))}function s$(e,t,n){let r=M5(n,t);return e.year===r.year&&e.month===r.month&&e.day===r.day&&e.hour===r.hour&&e.minute===r.minute&&e.second===r.second}function o$(e,t,n="compatible"){let r=B5(e);if(t==="UTC")return Fg(r);if(t===R5()&&n==="compatible"){r=Gm(r,new Bf);let l=new Date,u=Hm(r.era,r.year);return l.setFullYear(u,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let s=Fg(r),o=Mg(s-Bg,t),i=Mg(s+Bg,t),a=r$(r,t,s-o,s-i);if(a.length===1)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(s-o,s-i);case"compatible":case"later":return Math.max(s-o,s-i);case"reject":throw new RangeError("No such absolute time found")}}function L5(e,t,n="compatible"){return new Date(o$(e,t,n))}function B5(e,t){let n=0,r=0,s=0,o=0;if("timeZone"in e)({hour:n,minute:r,second:s,millisecond:o}=e);else if("hour"in e&&!t)return e;return t&&({hour:n,minute:r,second:s,millisecond:o}=t),new Md(e.calendar,e.era,e.year,e.month,e.day,n,r,s,o)}function Gm(e,t){if(e.calendar.identifier===t.identifier)return e;let n=t.fromJulianDay(e.calendar.toJulianDay(e)),r=e.copy();return r.calendar=t,r.era=n.era,r.year=n.year,r.month=n.month,r.day=n.day,Aa(r),r}function qm(e,t){let n=e.copy(),r="hour"in n?d$(n,t):0;P1(n,t.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e),n.month+=t.months||0,A1(n),j5(n),n.day+=(t.weeks||0)*7,n.day+=t.days||0,n.day+=r,i$(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let s=n.calendar.getYearsInEra(n);if(n.year>s){var o,i;let l=(o=(i=n.calendar).isInverseEra)===null||o===void 0?void 0:o.call(i,n);n.year=s,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function P1(e,t){var n,r;!((n=(r=e.calendar).isInverseEra)===null||n===void 0)&&n.call(r,e)&&(t=-t),e.year+=t}function A1(e){for(;e.month<1;)P1(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,P1(e,1)}function i$(e){for(;e.day<1;)e.month--,A1(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,A1(e)}function j5(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function Aa(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),j5(e)}function a$(e){let t={};for(let n in e)typeof e[n]=="number"&&(t[n]=-e[n]);return t}function z5(e,t){return qm(e,a$(t))}function V5(e,t){let n=e.copy();return t.era!=null&&(n.era=t.era),t.year!=null&&(n.year=t.year),t.month!=null&&(n.month=t.month),t.day!=null&&(n.day=t.day),Aa(n),n}function l$(e,t){let n=e.copy();return t.hour!=null&&(n.hour=t.hour),t.minute!=null&&(n.minute=t.minute),t.second!=null&&(n.second=t.second),t.millisecond!=null&&(n.millisecond=t.millisecond),c$(n),n}function u$(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=Cc(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=Cc(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=Cc(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=Cc(e.hour,24),t}function c$(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function Cc(e,t){let n=e%t;return n<0&&(n+=t),n}function d$(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,u$(e)}function K5(e,t,n,r){let s=e.copy();switch(t){case"era":{let a=e.calendar.getEras(),l=a.indexOf(e.era);if(l<0)throw new Error("Invalid era: "+e.era);l=so(l,n,0,a.length-1,r==null?void 0:r.round),s.era=a[l],Aa(s);break}case"year":var o,i;!((o=(i=s.calendar).isInverseEra)===null||o===void 0)&&o.call(i,s)&&(n=-n),s.year=so(e.year,n,-1/0,9999,r==null?void 0:r.round),s.year===-1/0&&(s.year=1),s.calendar.balanceYearMonth&&s.calendar.balanceYearMonth(s,e);break;case"month":s.month=so(e.month,n,1,e.calendar.getMonthsInYear(e),r==null?void 0:r.round);break;case"day":s.day=so(e.day,n,1,e.calendar.getDaysInMonth(e),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(s),Aa(s),s}function f$(e,t,n,r){let s=e.copy();switch(t){case"hour":{let o=e.hour,i=0,a=23;if((r==null?void 0:r.hourCycle)===12){let l=o>=12;i=l?12:0,a=l?23:11}s.hour=so(o,n,i,a,r==null?void 0:r.round);break}case"minute":s.minute=so(e.minute,n,0,59,r==null?void 0:r.round);break;case"second":s.second=so(e.second,n,0,59,r==null?void 0:r.round);break;case"millisecond":s.millisecond=so(e.millisecond,n,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return s}function so(e,t,n,r,s=!1){if(s){e+=Math.sign(t),e<n&&(e=r);let o=Math.abs(t);t>0?e=Math.ceil(e/o)*o:e=Math.floor(e/o)*o,e>r&&(e=n)}else e+=t,e<n?e=r-(n-e-1):e>r&&(e=n+(e-r-1));return e}function p$(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function U5(e){let t=Gm(e,new Bf);return`${String(t.year).padStart(4,"0")}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function h$(e){return`${U5(e)}T${p$(e)}`}function m$(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xm(e,t,n){m$(e,t),t.set(e,n)}function W5(e){let t=typeof e[0]=="object"?e.shift():new Bf,n;if(typeof e[0]=="string")n=e.shift();else{let i=t.getEras();n=i[i.length-1]}let r=e.shift(),s=e.shift(),o=e.shift();return[t,n,r,s,o]}var g$=new WeakMap;class Ia{copy(){return this.era?new Ia(this.calendar,this.era,this.year,this.month,this.day):new Ia(this.calendar,this.year,this.month,this.day)}add(t){return qm(this,t)}subtract(t){return z5(this,t)}set(t){return V5(this,t)}cycle(t,n,r){return K5(this,t,n,r)}toDate(t){return L5(this,t)}toString(){return U5(this)}compare(t){return D5(this,t)}constructor(...t){Xm(this,g$,{writable:!0,value:void 0});let[n,r,s,o,i]=W5(t);this.calendar=n,this.era=r,this.year=s,this.month=o,this.day=i,Aa(this)}}var y$=new WeakMap;class Md{copy(){return this.era?new Md(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Md(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return qm(this,t)}subtract(t){return z5(this,t)}set(t){return V5(l$(this,t),t)}cycle(t,n,r){switch(t){case"era":case"year":case"month":case"day":return K5(this,t,n,r);default:return f$(this,t,n,r)}}toDate(t,n){return L5(this,t,n)}toString(){return h$(this)}compare(t){let n=D5(this,t);return n===0?n$(this,B5(t)):n}constructor(...t){Xm(this,y$,{writable:!0,value:void 0});let[n,r,s,o,i]=W5(t);this.calendar=n,this.era=r,this.year=s,this.month=o,this.day=i,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Aa(this)}}const Mt=typeof document<"u"?Ge.useLayoutEffect:()=>{};function Sn(e){const t=P.useRef(null);return Mt(()=>{t.current=e},[e]),P.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}function v$(e){let[t,n]=P.useState(e),r=P.useRef(null),s=Sn(()=>{if(!r.current)return;let i=r.current.next();if(i.done){r.current=null;return}t===i.value?s():n(i.value)});Mt(()=>{r.current&&s()});let o=Sn(i=>{r.current=i(t),s()});return[t,o]}let b$=!!(typeof window<"u"&&window.document&&window.document.createElement),Ld=new Map;function Ns(e){let[t,n]=P.useState(e),r=P.useRef(null),s=zT(t),o=P.useCallback(i=>{r.current=i},[]);return b$&&Ld.set(s,o),Mt(()=>{let i=s;return()=>{Ld.delete(i)}},[s]),P.useEffect(()=>{let i=r.current;i&&(r.current=null,n(i))}),s}function w$(e,t){if(e===t)return e;let n=Ld.get(e);if(n)return n(t),t;let r=Ld.get(t);return r?(r(e),e):t}function mu(e=[]){let t=Ns(),[n,r]=v$(t),s=P.useCallback(()=>{r(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,r]);return Mt(s,[t,s,...e]),n}function Va(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const xt=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Or=e=>e&&"window"in e&&e.window===e?e:xt(e).defaultView||window;function H5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=H5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function x$(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=H5(e))&&(r&&(r+=" "),r+=t);return r}function Be(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let s in r){let o=t[s],i=r[s];typeof o=="function"&&typeof i=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?t[s]=Va(o,i):(s==="className"||s==="UNSAFE_className")&&typeof o=="string"&&typeof i=="string"?t[s]=x$(o,i):s==="id"&&o&&i?t.id=w$(o,i):t[s]=i!==void 0?i:o}}return t}function S$(...e){return e.length===1?e[0]:t=>{for(let n of e)typeof n=="function"?n(t):n!=null&&(n.current=t)}}const E$=new Set(["id"]),T$=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),$$=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),k$=/^(data-.*)$/;function Ru(e,t={}){let{labelable:n,isLink:r,propNames:s}=t,o={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(E$.has(i)||n&&T$.has(i)||r&&$$.has(i)||s!=null&&s.has(i)||k$.test(i))&&(o[i]=e[i]);return o}function ms(e){if(N$())e.focus({preventScroll:!0});else{let t=C$(e);e.focus(),_$(t)}}let _c=null;function N$(){if(_c==null){_c=!1;try{document.createElement("div").focus({get preventScroll(){return _c=!0,!0}})}catch{}}return _c}function C$(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function _$(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function jf(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Ym(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Eo(){return Ym(/^Mac/i)}function P$(){return Ym(/^iPhone/i)}function G5(){return Ym(/^iPad/i)||Eo()&&navigator.maxTouchPoints>1}function Jm(){return P$()||G5()}function A$(){return Eo()||Jm()}function Qm(){return jf(/AppleWebKit/i)&&!I$()}function I$(){return jf(/Chrome/i)}function q5(){return jf(/Android/i)}function O$(){return jf(/Firefox/i)}const X5=P.createContext({isNative:!0,open:F$,useHref:e=>e});function D$(e){let{children:t,navigate:n,useHref:r}=e,s=P.useMemo(()=>({isNative:!1,open:(o,i,a,l)=>{Y5(o,u=>{R$(u,i)?n(a,l):To(u,i)})},useHref:r||(o=>o)}),[n,r]);return Ge.createElement(X5.Provider,{value:s},t)}function Zm(){return P.useContext(X5)}function R$(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function To(e,t,n=!0){var r,s;let{metaKey:o,ctrlKey:i,altKey:a,shiftKey:l}=t;O$()&&(!((s=window.event)===null||s===void 0||(r=s.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(Eo()?o=!0:i=!0);let u=Qm()&&Eo()&&!G5()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:i,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:i,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});To.isOpening=n,ms(e),e.dispatchEvent(u),To.isOpening=!1}To.isOpening=!1;function Y5(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function F$(e,t){Y5(e,n=>To(n,t))}function M$(e){let t=Zm();return{href:e!=null&&e.href?t.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let Gi=new Map,I1=new Set;function jg(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let s=Gi.get(r.target);s||(s=new Set,Gi.set(r.target,s),r.target.addEventListener("transitioncancel",n,{once:!0})),s.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let s=Gi.get(r.target);if(s&&(s.delete(r.propertyName),s.size===0&&(r.target.removeEventListener("transitioncancel",n),Gi.delete(r.target)),Gi.size===0)){for(let o of I1)o();I1.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?jg():document.addEventListener("DOMContentLoaded",jg));function J5(e){requestAnimationFrame(()=>{Gi.size===0?e():I1.add(e)})}function Q5(){let e=P.useRef(new Map),t=P.useCallback((s,o,i,a)=>{let l=a!=null&&a.once?(...u)=>{e.current.delete(i),i(...u)}:i;e.current.set(i,{type:o,eventTarget:s,fn:l,options:a}),s.addEventListener(o,i,a)},[]),n=P.useCallback((s,o,i,a)=>{var l;let u=((l=e.current.get(i))===null||l===void 0?void 0:l.fn)||i;s.removeEventListener(o,u,a),e.current.delete(i)},[]),r=P.useCallback(()=>{e.current.forEach((s,o)=>{n(s.eventTarget,s.type,o,s.options)})},[n]);return P.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Z5(e,t){let{id:n,"aria-label":r,"aria-labelledby":s}=e;return n=Ns(n),s&&r?s=[...new Set([n,...s.trim().split(/\s+/)])].join(" "):s&&(s=s.trim().split(/\s+/).join(" ")),!r&&!s&&t&&(r=t),{id:n,"aria-label":r,"aria-labelledby":s}}function L$(){return typeof window.ResizeObserver<"u"}function B$(e){const{ref:t,onResize:n}=e;P.useEffect(()=>{let r=t==null?void 0:t.current;if(r)if(L$()){const s=new window.ResizeObserver(o=>{o.length&&n()});return s.observe(r),()=>{r&&s.unobserve(r)}}else return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)}},[n,t])}function e6(e,t){Mt(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function O1(e,t){let n=window.getComputedStyle(e),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&t&&(r=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),r}function j$(e,t){const n=[];for(;e&&e!==document.documentElement;)O1(e,t)&&n.push(e),e=e.parentElement;return n}let z$=0;const Xp=new Map;function V$(e){let[t,n]=P.useState();return Mt(()=>{if(!e)return;let r=Xp.get(e);if(r)n(r.element.id);else{let s=`react-aria-description-${z$++}`;n(s);let o=document.createElement("div");o.id=s,o.style.display="none",o.textContent=e,document.body.appendChild(o),r={refCount:0,element:o},Xp.set(e,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),Xp.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function K$(e,t,n,r){let s=Sn(n),o=n==null;P.useEffect(()=>{if(o||!e.current)return;let i=e.current;return i.addEventListener(t,s,r),()=>{i.removeEventListener(t,s,r)}},[e,t,r,o,s])}function t6(e,t){let n=zg(e,t,"left"),r=zg(e,t,"top"),s=t.offsetWidth,o=t.offsetHeight,i=e.scrollLeft,a=e.scrollTop,{borderTopWidth:l,borderLeftWidth:u}=getComputedStyle(e),c=e.scrollLeft+parseInt(u,10),d=e.scrollTop+parseInt(l,10),f=c+e.clientWidth,p=d+e.clientHeight;n<=i?i=n-parseInt(u,10):n+s>f&&(i+=n+s-f),r<=d?a=r-parseInt(l,10):r+o>p&&(a+=r+o-p),e.scrollLeft=i,e.scrollTop=a}function zg(e,t,n){const r=n==="left"?"offsetLeft":"offsetTop";let s=0;for(;t.offsetParent&&(s+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){s-=e[r];break}t=t.offsetParent}return s}function Vg(e,t){if(document.contains(e)){let i=document.scrollingElement||document.documentElement;if(window.getComputedStyle(i).overflow==="hidden"){let l=j$(e);for(let u of l)t6(u,e)}else{var n;let{left:l,top:u}=e.getBoundingClientRect();e==null||(n=e.scrollIntoView)===null||n===void 0||n.call(e,{block:"nearest"});let{left:c,top:d}=e.getBoundingClientRect();if(Math.abs(l-c)>1||Math.abs(u-d)>1){var r,s,o;t==null||(s=t.containingElement)===null||s===void 0||(r=s.scrollIntoView)===null||r===void 0||r.call(s,{block:"center",inline:"center"}),(o=e.scrollIntoView)===null||o===void 0||o.call(e,{block:"nearest"})}}}}function D1(e){return e.mozInputSource===0&&e.isTrusted?!0:q5()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function U$(e){return!q5()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function W$(e,t,n){let r=P.useRef(t),s=Sn(()=>{n&&n(r.current)});P.useEffect(()=>{var o;let i=e==null||(o=e.current)===null||o===void 0?void 0:o.form;return i==null||i.addEventListener("reset",s),()=>{i==null||i.removeEventListener("reset",s)}},[e,s])}function n6(e,t,n){let[r,s]=P.useState(e||t),o=P.useRef(e!==void 0),i=e!==void 0;P.useEffect(()=>{let u=o.current;u!==i&&console.warn(`WARN: A component changed from ${u?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}.`),o.current=i},[i]);let a=i?e:r,l=P.useCallback((u,...c)=>{let d=(f,...p)=>{n&&(Object.is(a,f)||n(f,...p)),i||(a=f)};typeof u=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),s((p,...g)=>{let y=u(i?a:p,...g);return d(y,...c),i?p:y})):(i||s(u),d(u,...c))},[i,a,n]);return[a,l]}function R1(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}let Yp=new Map;function r6(e){let{locale:t}=Mf(),n=t+(e?Object.entries(e).sort((s,o)=>s[0]<o[0]?-1:1).join():"");if(Yp.has(n))return Yp.get(n);let r=new Intl.Collator(t,e);return Yp.set(n,r),r}const ca={top:"top",bottom:"top",left:"left",right:"left"},Bd={top:"bottom",bottom:"top",left:"right",right:"left"},H$={top:"left",left:"top"},F1={top:"height",left:"width"},s6={width:"totalWidth",height:"totalHeight"},Pc={};let On=typeof document<"u"&&window.visualViewport;function Kg(e){let t=0,n=0,r=0,s=0,o=0,i=0,a={},l=(On==null?void 0:On.scale)>1;if(e.tagName==="BODY"){let d=document.documentElement;r=d.clientWidth,s=d.clientHeight;var u;t=(u=On==null?void 0:On.width)!==null&&u!==void 0?u:r;var c;n=(c=On==null?void 0:On.height)!==null&&c!==void 0?c:s,a.top=d.scrollTop||e.scrollTop,a.left=d.scrollLeft||e.scrollLeft,On&&(o=On.offsetTop,i=On.offsetLeft)}else({width:t,height:n,top:o,left:i}=ba(e)),a.top=e.scrollTop,a.left=e.scrollLeft,r=t,s=n;return Qm()&&(e.tagName==="BODY"||e.tagName==="HTML")&&l&&(a.top=0,a.left=0,o=On.pageTop,i=On.pageLeft),{width:t,height:n,totalWidth:r,totalHeight:s,scroll:a,top:o,left:i}}function G$(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function Ug(e,t,n,r,s,o,i){let a=s.scroll[e],l=r[F1[e]],u=r.scroll[ca[e]]+o,c=l+r.scroll[ca[e]]-o,d=t-a+i[e]-r[ca[e]],f=t-a+n+i[e]-r[ca[e]];return d<u?u-d:f>c?Math.max(c-f,u-d):0}function q$(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function Wg(e){if(Pc[e])return Pc[e];let[t,n]=e.split(" "),r=ca[t]||"right",s=H$[r];ca[n]||(n="center");let o=F1[r],i=F1[s];return Pc[e]={placement:t,crossPlacement:n,axis:r,crossAxis:s,size:o,crossSize:i},Pc[e]}function Jp(e,t,n,r,s,o,i,a,l,u){let{placement:c,crossPlacement:d,axis:f,crossAxis:p,size:g,crossSize:y}=r,E={};E[p]=e[p],d==="center"?E[p]+=(e[y]-n[y])/2:d!==p&&(E[p]+=e[y]-n[y]),E[p]+=o;const v=e[p]-n[y]+l+u,x=e[p]+e[y]-l-u;if(E[p]=R1(E[p],v,x),c===f){const $=a?i[g]:t[s6[g]];E[Bd[f]]=Math.floor($-e[f]+s)}else E[f]=Math.floor(e[f]+e[g]+s);return E}function X$(e,t,n,r,s,o,i,a){const l=r?n.height:t[s6.height];let u=e.top!=null?n.top+e.top:n.top+(l-e.bottom-i),c=a!=="top"?Math.max(0,t.height+t.top+t.scroll.top-u-(s.top+s.bottom+o)):Math.max(0,u+i-(t.top+t.scroll.top)-(s.top+s.bottom+o));return Math.min(t.height-o*2,c)}function Hg(e,t,n,r,s,o){let{placement:i,axis:a,size:l}=o;return i===a?Math.max(0,n[a]-e[a]-e.scroll[a]+t[a]-r[a]-r[Bd[a]]-s):Math.max(0,e[l]+e[a]+e.scroll[a]-t[a]-n[a]-n[l]-r[a]-r[Bd[a]]-s)}function Y$(e,t,n,r,s,o,i,a,l,u,c,d,f,p,g,y){let E=Wg(e),{size:v,crossAxis:x,crossSize:$,placement:N,crossPlacement:I}=E,O=Jp(t,a,n,E,c,d,u,f,g,y),U=c,C=Hg(a,u,t,s,o+c,E);if(i&&r[v]>C){let ue=Wg(`${Bd[N]} ${I}`),q=Jp(t,a,n,ue,c,d,u,f,g,y);Hg(a,u,t,s,o+c,ue)>C&&(E=ue,O=q,U=c)}let j="bottom";E.axis==="top"?E.placement==="top"?j="top":E.placement==="bottom"&&(j="bottom"):E.crossAxis==="top"&&(E.crossPlacement==="top"?j="bottom":E.crossPlacement==="bottom"&&(j="top"));let F=Ug(x,O[x],n[$],a,l,o,u);O[x]+=F;let H=X$(O,a,u,f,s,o,n.height,j);p&&p<H&&(H=p),n.height=Math.min(n.height,H),O=Jp(t,a,n,E,U,d,u,f,g,y),F=Ug(x,O[x],n[$],a,l,o,u),O[x]+=F;let Y={},V=t[x]+.5*t[$]-n[x];const G=g/2+y,ne=n[$]-g/2-y,ce=t[x]-n[x]+g/2,ee=t[x]+t[$]-n[x]-g/2,te=R1(V,ce,ee);return Y[x]=R1(te,G,ne),{position:O,maxHeight:H,arrowOffsetLeft:Y.left,arrowOffsetTop:Y.top,placement:E.placement}}function J$(e){let{placement:t,targetNode:n,overlayNode:r,scrollNode:s,padding:o,shouldFlip:i,boundaryElement:a,offset:l,crossOffset:u,maxHeight:c,arrowSize:d=0,arrowBoundaryOffset:f=0}=e,p=r instanceof HTMLElement?Q$(r):document.documentElement,g=p===document.documentElement;const y=window.getComputedStyle(p).position;let E=!!y&&y!=="static",v=g?ba(n):Gg(n,p);if(!g){let{marginTop:C,marginLeft:j}=window.getComputedStyle(n);v.top+=parseInt(C,10)||0,v.left+=parseInt(j,10)||0}let x=ba(r),$=q$(r);x.width+=$.left+$.right,x.height+=$.top+$.bottom;let N=G$(s),I=Kg(a),O=Kg(p),U=a.tagName==="BODY"?ba(p):Gg(p,a);return p.tagName==="HTML"&&a.tagName==="BODY"&&(O.scroll.top=0,O.scroll.left=0),Y$(t,v,x,N,$,o,i,I,O,U,l,u,E,c,d,f)}function ba(e){let{top:t,left:n,width:r,height:s}=e.getBoundingClientRect(),{scrollTop:o,scrollLeft:i,clientTop:a,clientLeft:l}=document.documentElement;return{top:t+o-a,left:n+i-l,width:r,height:s}}function Gg(e,t){let n=window.getComputedStyle(e),r;if(n.position==="fixed"){let{top:s,left:o,width:i,height:a}=e.getBoundingClientRect();r={top:s,left:o,width:i,height:a}}else{r=ba(e);let s=ba(t),o=window.getComputedStyle(t);s.top+=(parseInt(o.borderTopWidth,10)||0)-t.scrollTop,s.left+=(parseInt(o.borderLeftWidth,10)||0)-t.scrollLeft,r.top-=s.top,r.left-=s.left}return r.top-=parseInt(n.marginTop,10)||0,r.left-=parseInt(n.marginLeft,10)||0,r}function Q$(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!qg(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!qg(t);)t=t.parentElement;return t||document.documentElement}function qg(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const o6=new WeakMap;function Z$(e){let{triggerRef:t,isOpen:n,onClose:r}=e;P.useEffect(()=>{if(!n||r===null)return;let s=o=>{let i=o.target;if(!t.current||i instanceof Node&&!i.contains(t.current))return;let a=r||o6.get(t.current);a&&a()};return window.addEventListener("scroll",s,!0),()=>{window.removeEventListener("scroll",s,!0)}},[n,r,t])}let Lt=typeof document<"u"&&window.visualViewport;function ek(e){let{direction:t}=Mf(),{arrowSize:n=0,targetRef:r,overlayRef:s,scrollRef:o=s,placement:i="bottom",containerPadding:a=12,shouldFlip:l=!0,boundaryElement:u=typeof document<"u"?document.body:null,offset:c=0,crossOffset:d=0,shouldUpdatePosition:f=!0,isOpen:p=!0,onClose:g,maxHeight:y,arrowBoundaryOffset:E=0}=e,[v,x]=P.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),$=[f,i,s.current,r.current,o.current,a,l,u,c,d,p,t,y,E,n],N=P.useRef(Lt==null?void 0:Lt.scale);P.useEffect(()=>{p&&(N.current=Lt==null?void 0:Lt.scale)},[p]);let I=P.useCallback(()=>{if(f===!1||!p||!s.current||!r.current||!o.current||!u||(Lt==null?void 0:Lt.scale)!==N.current)return;!y&&s.current&&(s.current.style.maxHeight="none");let C=J$({placement:nk(i,t),overlayNode:s.current,targetNode:r.current,scrollNode:o.current,padding:a,shouldFlip:l,boundaryElement:u,offset:c,crossOffset:d,maxHeight:y,arrowSize:n,arrowBoundaryOffset:E});Object.keys(C.position).forEach(j=>s.current.style[j]=C.position[j]+"px"),s.current.style.maxHeight=C.maxHeight!=null?C.maxHeight+"px":void 0,x(C)},$);Mt(I,$),tk(I),B$({ref:s,onResize:I});let O=P.useRef(!1);Mt(()=>{let C,j=()=>{O.current=!0,clearTimeout(C),C=setTimeout(()=>{O.current=!1},500),I()},F=()=>{O.current&&j()};return Lt==null||Lt.addEventListener("resize",j),Lt==null||Lt.addEventListener("scroll",F),()=>{Lt==null||Lt.removeEventListener("resize",j),Lt==null||Lt.removeEventListener("scroll",F)}},[I]);let U=P.useCallback(()=>{O.current||g()},[g,O]);return Z$({triggerRef:r,isOpen:p,onClose:g&&U}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...v.position,maxHeight:v.maxHeight}},placement:v.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:v.arrowOffsetLeft,top:v.arrowOffsetTop}},updatePosition:I}}function tk(e){Mt(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function nk(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}let da="default",M1="",nd=new WeakMap;function Xg(e){if(Jm()){if(da==="default"){const t=xt(e);M1=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}da="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(nd.set(e,e.style.userSelect),e.style.userSelect="none")}function Ac(e){if(Jm()){if(da!=="disabled")return;da="restoring",setTimeout(()=>{J5(()=>{if(da==="restoring"){const t=xt(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=M1||""),M1="",da="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&nd.has(e)){let t=nd.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),nd.delete(e)}}const e3=Ge.createContext({register:()=>{}});e3.displayName="PressResponderContext";function rk(e,t){return t.get?t.get.call(e):t.value}function i6(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function sk(e,t){var n=i6(e,t,"get");return rk(e,n)}function ok(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Yg(e,t,n){var r=i6(e,t,"set");return ok(e,r,n),n}function ik(e){let t=P.useContext(e3);if(t){let{register:n,...r}=t;e=Be(r,e),n()}return e6(t,e.ref),e}var Ic=new WeakMap;class Oc{continuePropagation(){Yg(this,Ic,!1)}get shouldStopPropagation(){return sk(this,Ic)}constructor(t,n,r){Xm(this,Ic,{writable:!0,value:void 0}),Yg(this,Ic,!0),this.type=t,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey}}const Jg=Symbol("linkClicked");function Fu(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:s,onPressUp:o,isDisabled:i,isPressed:a,preventFocusOnPress:l,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:c,ref:d,...f}=ik(e),[p,g]=P.useState(!1),y=P.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:E,removeAllGlobalListeners:v}=Q5(),x=Sn((C,j)=>{let F=y.current;if(i||F.didFirePressStart)return!1;let H=!0;if(F.isTriggeringEvent=!0,r){let Y=new Oc("pressstart",j,C);r(Y),H=Y.shouldStopPropagation}return n&&n(!0),F.isTriggeringEvent=!1,F.didFirePressStart=!0,g(!0),H}),$=Sn((C,j,F=!0)=>{let H=y.current;if(!H.didFirePressStart)return!1;H.ignoreClickAfterPress=!0,H.didFirePressStart=!1,H.isTriggeringEvent=!0;let Y=!0;if(s){let V=new Oc("pressend",j,C);s(V),Y=V.shouldStopPropagation}if(n&&n(!1),g(!1),t&&F&&!i){let V=new Oc("press",j,C);t(V),Y&&(Y=V.shouldStopPropagation)}return H.isTriggeringEvent=!1,Y}),N=Sn((C,j)=>{let F=y.current;if(i)return!1;if(o){F.isTriggeringEvent=!0;let H=new Oc("pressup",j,C);return o(H),F.isTriggeringEvent=!1,H.shouldStopPropagation}return!0}),I=Sn(C=>{let j=y.current;j.isPressed&&j.target&&(j.isOverTarget&&j.pointerType!=null&&$(is(j.target,C),j.pointerType,!1),j.isPressed=!1,j.isOverTarget=!1,j.activePointerId=null,j.pointerType=null,v(),c||Ac(j.target))}),O=Sn(C=>{u&&I(C)}),U=P.useMemo(()=>{let C=y.current,j={onKeyDown(H){if(Qp(H.nativeEvent,H.currentTarget)&&H.currentTarget.contains(H.target)){var Y;Zg(H.target,H.key)&&H.preventDefault();let V=!0;if(!C.isPressed&&!H.repeat){C.target=H.currentTarget,C.isPressed=!0,V=x(H,"keyboard");let G=H.currentTarget,ne=ce=>{Qp(ce,G)&&!ce.repeat&&G.contains(ce.target)&&C.target&&N(is(C.target,ce),"keyboard")};E(xt(H.currentTarget),"keyup",Va(ne,F),!0)}V&&H.stopPropagation(),H.metaKey&&Eo()&&((Y=C.metaKeyEvents)===null||Y===void 0||Y.set(H.key,H.nativeEvent))}else H.key==="Meta"&&(C.metaKeyEvents=new Map)},onClick(H){if(!(H&&!H.currentTarget.contains(H.target))&&H&&H.button===0&&!C.isTriggeringEvent&&!To.isOpening){let Y=!0;if(i&&H.preventDefault(),!C.ignoreClickAfterPress&&!C.ignoreEmulatedMouseEvents&&!C.isPressed&&(C.pointerType==="virtual"||D1(H.nativeEvent))){!i&&!l&&ms(H.currentTarget);let V=x(H,"virtual"),G=N(H,"virtual"),ne=$(H,"virtual");Y=V&&G&&ne}C.ignoreEmulatedMouseEvents=!1,C.ignoreClickAfterPress=!1,Y&&H.stopPropagation()}}},F=H=>{var Y;if(C.isPressed&&C.target&&Qp(H,C.target)){var V;Zg(H.target,H.key)&&H.preventDefault();let ne=H.target;$(is(C.target,H),"keyboard",C.target.contains(ne)),v(),H.key!=="Enter"&&t3(C.target)&&C.target.contains(ne)&&!H[Jg]&&(H[Jg]=!0,To(C.target,H,!1)),C.isPressed=!1,(V=C.metaKeyEvents)===null||V===void 0||V.delete(H.key)}else if(H.key==="Meta"&&(!((Y=C.metaKeyEvents)===null||Y===void 0)&&Y.size)){var G;let ne=C.metaKeyEvents;C.metaKeyEvents=void 0;for(let ce of ne.values())(G=C.target)===null||G===void 0||G.dispatchEvent(new KeyboardEvent("keyup",ce))}};if(typeof PointerEvent<"u"){j.onPointerDown=G=>{if(G.button!==0||!G.currentTarget.contains(G.target))return;if(U$(G.nativeEvent)){C.pointerType="virtual";return}Zp(G.currentTarget)&&G.preventDefault(),C.pointerType=G.pointerType;let ne=!0;C.isPressed||(C.isPressed=!0,C.isOverTarget=!0,C.activePointerId=G.pointerId,C.target=G.currentTarget,!i&&!l&&ms(G.currentTarget),c||Xg(C.target),ne=x(G,C.pointerType),E(xt(G.currentTarget),"pointermove",H,!1),E(xt(G.currentTarget),"pointerup",Y,!1),E(xt(G.currentTarget),"pointercancel",V,!1)),ne&&G.stopPropagation()},j.onMouseDown=G=>{G.currentTarget.contains(G.target)&&G.button===0&&(Zp(G.currentTarget)&&G.preventDefault(),G.stopPropagation())},j.onPointerUp=G=>{!G.currentTarget.contains(G.target)||C.pointerType==="virtual"||G.button===0&&Ki(G,G.currentTarget)&&N(G,C.pointerType||G.pointerType)};let H=G=>{G.pointerId===C.activePointerId&&(C.target&&Ki(G,C.target)?!C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!0,x(is(C.target,G),C.pointerType)):C.target&&C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!1,$(is(C.target,G),C.pointerType,!1),O(G)))},Y=G=>{G.pointerId===C.activePointerId&&C.isPressed&&G.button===0&&C.target&&(Ki(G,C.target)&&C.pointerType!=null?$(is(C.target,G),C.pointerType):C.isOverTarget&&C.pointerType!=null&&$(is(C.target,G),C.pointerType,!1),C.isPressed=!1,C.isOverTarget=!1,C.activePointerId=null,C.pointerType=null,v(),c||Ac(C.target))},V=G=>{I(G)};j.onDragStart=G=>{G.currentTarget.contains(G.target)&&I(G)}}else{j.onMouseDown=V=>{if(V.button!==0||!V.currentTarget.contains(V.target))return;if(Zp(V.currentTarget)&&V.preventDefault(),C.ignoreEmulatedMouseEvents){V.stopPropagation();return}C.isPressed=!0,C.isOverTarget=!0,C.target=V.currentTarget,C.pointerType=D1(V.nativeEvent)?"virtual":"mouse",!i&&!l&&ms(V.currentTarget),x(V,C.pointerType)&&V.stopPropagation(),E(xt(V.currentTarget),"mouseup",H,!1)},j.onMouseEnter=V=>{if(!V.currentTarget.contains(V.target))return;let G=!0;C.isPressed&&!C.ignoreEmulatedMouseEvents&&C.pointerType!=null&&(C.isOverTarget=!0,G=x(V,C.pointerType)),G&&V.stopPropagation()},j.onMouseLeave=V=>{if(!V.currentTarget.contains(V.target))return;let G=!0;C.isPressed&&!C.ignoreEmulatedMouseEvents&&C.pointerType!=null&&(C.isOverTarget=!1,G=$(V,C.pointerType,!1),O(V)),G&&V.stopPropagation()},j.onMouseUp=V=>{V.currentTarget.contains(V.target)&&!C.ignoreEmulatedMouseEvents&&V.button===0&&N(V,C.pointerType||"mouse")};let H=V=>{if(V.button===0){if(C.isPressed=!1,v(),C.ignoreEmulatedMouseEvents){C.ignoreEmulatedMouseEvents=!1;return}C.target&&Ki(V,C.target)&&C.pointerType!=null?$(is(C.target,V),C.pointerType):C.target&&C.isOverTarget&&C.pointerType!=null&&$(is(C.target,V),C.pointerType,!1),C.isOverTarget=!1}};j.onTouchStart=V=>{if(!V.currentTarget.contains(V.target))return;let G=ak(V.nativeEvent);if(!G)return;C.activePointerId=G.identifier,C.ignoreEmulatedMouseEvents=!0,C.isOverTarget=!0,C.isPressed=!0,C.target=V.currentTarget,C.pointerType="touch",!i&&!l&&ms(V.currentTarget),c||Xg(C.target),x(V,C.pointerType)&&V.stopPropagation(),E(Or(V.currentTarget),"scroll",Y,!0)},j.onTouchMove=V=>{if(!V.currentTarget.contains(V.target))return;if(!C.isPressed){V.stopPropagation();return}let G=Qg(V.nativeEvent,C.activePointerId),ne=!0;G&&Ki(G,V.currentTarget)?!C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!0,ne=x(V,C.pointerType)):C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!1,ne=$(V,C.pointerType,!1),O(V)),ne&&V.stopPropagation()},j.onTouchEnd=V=>{if(!V.currentTarget.contains(V.target))return;if(!C.isPressed){V.stopPropagation();return}let G=Qg(V.nativeEvent,C.activePointerId),ne=!0;G&&Ki(G,V.currentTarget)&&C.pointerType!=null?(N(V,C.pointerType),ne=$(V,C.pointerType)):C.isOverTarget&&C.pointerType!=null&&(ne=$(V,C.pointerType,!1)),ne&&V.stopPropagation(),C.isPressed=!1,C.activePointerId=null,C.isOverTarget=!1,C.ignoreEmulatedMouseEvents=!0,C.target&&!c&&Ac(C.target),v()},j.onTouchCancel=V=>{V.currentTarget.contains(V.target)&&(V.stopPropagation(),C.isPressed&&I(V))};let Y=V=>{C.isPressed&&V.target.contains(C.target)&&I({currentTarget:C.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};j.onDragStart=V=>{V.currentTarget.contains(V.target)&&I(V)}}return j},[E,i,l,v,c,I,O,$,x,N]);return P.useEffect(()=>()=>{var C;c||Ac((C=y.current.target)!==null&&C!==void 0?C:void 0)},[c]),{isPressed:a||p,pressProps:Be(f,U)}}function t3(e){return e.tagName==="A"&&e.hasAttribute("href")}function Qp(e,t){const{key:n,code:r}=e,s=t,o=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(s instanceof Or(s).HTMLInputElement&&!a6(s,n)||s instanceof Or(s).HTMLTextAreaElement||s.isContentEditable)&&!((o==="link"||!o&&t3(s))&&n!=="Enter")}function ak(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Qg(e,t){const n=e.changedTouches;for(let r=0;r<n.length;r++){const s=n[r];if(s.identifier===t)return s}return null}function is(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function lk(e){let t=0,n=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function uk(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Ki(e,t){let n=t.getBoundingClientRect(),r=lk(e);return uk(n,r)}function Zp(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Zg(e,t){return e instanceof HTMLInputElement?!a6(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!t3(e)}const ck=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function a6(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":ck.has(e.type)}function dk({children:e}){let t=P.useMemo(()=>({register:()=>{}}),[]);return Ge.createElement(e3.Provider,{value:t},e)}class fk{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function l6(e){let t=P.useRef({isFocused:!1,observer:null});Mt(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Sn(r=>{e==null||e(r)});return P.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,o=i=>{t.current.isFocused=!1,s.disabled&&n(new fk("blur",i)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let a=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function u6(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const o=P.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),s&&s(!1),!0},[r,s]),i=l6(o),a=P.useCallback(l=>{const u=xt(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),s&&s(!0),i(l))},[s,n,i]);return{focusProps:{onFocus:!t&&(n||s||r)?a:void 0,onBlur:!t&&(r||s)?o:void 0}}}let Cs=null,gu=new Set,ql=new Map,mi=!1,L1=!1;const pk={Tab:!0,Escape:!0};function zf(e,t){for(let n of gu)n(e,t)}function hk(e){return!(e.metaKey||!Eo()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function jd(e){mi=!0,hk(e)&&(Cs="keyboard",zf("keyboard",e))}function hr(e){Cs="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(mi=!0,zf("pointer",e))}function c6(e){D1(e)&&(mi=!0,Cs="virtual")}function d6(e){e.target===window||e.target===document||(!mi&&!L1&&(Cs="virtual",zf("virtual",e)),mi=!1,L1=!1)}function f6(){mi=!1,L1=!0}function zd(e){if(typeof window>"u"||ql.get(Or(e)))return;const t=Or(e),n=xt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){mi=!0,r.apply(this,arguments)},n.addEventListener("keydown",jd,!0),n.addEventListener("keyup",jd,!0),n.addEventListener("click",c6,!0),t.addEventListener("focus",d6,!0),t.addEventListener("blur",f6,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",hr,!0),n.addEventListener("pointermove",hr,!0),n.addEventListener("pointerup",hr,!0)):(n.addEventListener("mousedown",hr,!0),n.addEventListener("mousemove",hr,!0),n.addEventListener("mouseup",hr,!0)),t.addEventListener("beforeunload",()=>{p6(e)},{once:!0}),ql.set(t,{focus:r})}const p6=(e,t)=>{const n=Or(e),r=xt(e);t&&r.removeEventListener("DOMContentLoaded",t),ql.has(n)&&(n.HTMLElement.prototype.focus=ql.get(n).focus,r.removeEventListener("keydown",jd,!0),r.removeEventListener("keyup",jd,!0),r.removeEventListener("click",c6,!0),n.removeEventListener("focus",d6,!0),n.removeEventListener("blur",f6,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",hr,!0),r.removeEventListener("pointermove",hr,!0),r.removeEventListener("pointerup",hr,!0)):(r.removeEventListener("mousedown",hr,!0),r.removeEventListener("mousemove",hr,!0),r.removeEventListener("mouseup",hr,!0)),ql.delete(n))};function mk(e){const t=xt(e);let n;return t.readyState!=="loading"?zd(e):(n=()=>{zd(e)},t.addEventListener("DOMContentLoaded",n)),()=>p6(e,n)}typeof document<"u"&&mk();function Vd(){return Cs!=="pointer"}function B1(){return Cs}function h6(e){Cs=e,zf(e,null)}function gk(){zd();let[e,t]=P.useState(Cs);return P.useEffect(()=>{let n=()=>{t(Cs)};return gu.add(n),()=>{gu.delete(n)}},[]),Du()?null:e}const yk=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vk(e,t,n){var r;const s=typeof window<"u"?Or(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Or(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?Or(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Or(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof s&&!yk.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof i&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!pk[n.key])}function bk(e,t,n){zd(),P.useEffect(()=>{let r=(s,o)=>{vk(!!(n!=null&&n.isTextInput),s,o)&&e(Vd())};return gu.add(r),()=>{gu.delete(r)}},t)}function Vf(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,o=P.useRef({isFocusWithin:!1}),i=P.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),s&&s(!1))},[n,s,o]),a=l6(i),l=P.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),s&&s(!0),o.current.isFocusWithin=!0,a(u))},[r,s,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:i}}}let Kd=!1,eh=0;function j1(){Kd=!0,setTimeout(()=>{Kd=!1},50)}function e4(e){e.pointerType==="touch"&&j1()}function wk(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",e4):document.addEventListener("touchend",j1),eh++,()=>{eh--,!(eh>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",e4):document.removeEventListener("touchend",j1))}}function Mu(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[o,i]=P.useState(!1),a=P.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;P.useEffect(wk,[]);let{hoverProps:l,triggerHoverEnd:u}=P.useMemo(()=>{let c=(p,g)=>{if(a.pointerType=g,s||g==="touch"||a.isHovered||!p.currentTarget.contains(p.target))return;a.isHovered=!0;let y=p.currentTarget;a.target=y,t&&t({type:"hoverstart",target:y,pointerType:g}),n&&n(!0),i(!0)},d=(p,g)=>{if(a.pointerType="",a.target=null,g==="touch"||!a.isHovered)return;a.isHovered=!1;let y=p.currentTarget;r&&r({type:"hoverend",target:y,pointerType:g}),n&&n(!1),i(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=p=>{Kd&&p.pointerType==="mouse"||c(p,p.pointerType)},f.onPointerLeave=p=>{!s&&p.currentTarget.contains(p.target)&&d(p,p.pointerType)}):(f.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=p=>{!a.ignoreEmulatedMouseEvents&&!Kd&&c(p,"mouse"),a.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=p=>{!s&&p.currentTarget.contains(p.target)&&d(p,"mouse")}),{hoverProps:f,triggerHoverEnd:d}},[t,n,r,s,a]);return P.useEffect(()=>{s&&u({currentTarget:a.target},a.pointerType)},[s]),{hoverProps:l,isHovered:o}}function xk(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:s}=e,o=P.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=Sn(l=>{n&&Dc(l,t)&&(s&&s(l),o.current.isPointerDown=!0)}),a=Sn(l=>{n&&n(l)});P.useEffect(()=>{let l=o.current;if(r)return;const u=t.current,c=xt(u);if(typeof PointerEvent<"u"){let d=f=>{l.isPointerDown&&Dc(f,t)&&a(f),l.isPointerDown=!1};return c.addEventListener("pointerdown",i,!0),c.addEventListener("pointerup",d,!0),()=>{c.removeEventListener("pointerdown",i,!0),c.removeEventListener("pointerup",d,!0)}}else{let d=p=>{l.ignoreEmulatedMouseEvents?l.ignoreEmulatedMouseEvents=!1:l.isPointerDown&&Dc(p,t)&&a(p),l.isPointerDown=!1},f=p=>{l.ignoreEmulatedMouseEvents=!0,l.isPointerDown&&Dc(p,t)&&a(p),l.isPointerDown=!1};return c.addEventListener("mousedown",i,!0),c.addEventListener("mouseup",d,!0),c.addEventListener("touchstart",i,!0),c.addEventListener("touchend",f,!0),()=>{c.removeEventListener("mousedown",i,!0),c.removeEventListener("mouseup",d,!0),c.removeEventListener("touchstart",i,!0),c.removeEventListener("touchend",f,!0)}}},[t,r,i,a])}function Dc(e,t){if(e.button>0)return!1;if(e.target){const n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function t4(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(r),t&&n.stopPropagation()}}function Sk(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:t4(e.onKeyDown),onKeyUp:t4(e.onKeyUp)}}}const Ek=500;function m6(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:r,onLongPress:s,threshold:o=Ek,accessibilityDescription:i}=e;const a=P.useRef();let{addGlobalListener:l,removeGlobalListener:u}=Q5(),{pressProps:c}=Fu({isDisabled:t,onPressStart(f){if(f.continuePropagation(),(f.pointerType==="mouse"||f.pointerType==="touch")&&(n&&n({...f,type:"longpressstart"}),a.current=setTimeout(()=>{f.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),s&&s({...f,type:"longpress"}),a.current=void 0},o),f.pointerType==="touch")){let p=g=>{g.preventDefault()};l(f.target,"contextmenu",p,{once:!0}),l(window,"pointerup",()=>{setTimeout(()=>{u(f.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd(f){a.current&&clearTimeout(a.current),r&&(f.pointerType==="mouse"||f.pointerType==="touch")&&r({...f,type:"longpressend"})}}),d=V$(s&&!t?i:void 0);return{longPressProps:Be(c,d)}}function gi(e){const t=xt(e);if(B1()==="virtual"){let n=t.activeElement;J5(()=>{t.activeElement===n&&e.isConnected&&ms(e)})}else ms(e)}function Tk(e){const t=Or(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,s=n!=="none"&&r!=="hidden"&&r!=="collapse";if(s){const{getComputedStyle:o}=e.ownerDocument.defaultView;let{display:i,visibility:a}=o(e);s=i!=="none"&&a!=="hidden"&&a!=="collapse"}return s}function $k(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function g6(e,t){return e.nodeName!=="#comment"&&Tk(e)&&$k(e,t)&&(!e.parentElement||g6(e.parentElement,e))}const n4=Ge.createContext(null);let dt=null;function kk(e){let{children:t,contain:n,restoreFocus:r,autoFocus:s}=e,o=P.useRef(null),i=P.useRef(null),a=P.useRef([]),{parentNode:l}=P.useContext(n4)||{},u=P.useMemo(()=>new z1({scopeRef:a}),[a]);Mt(()=>{let f=l||Vt.root;if(Vt.getTreeNode(f.scopeRef)&&dt&&!Wd(dt,f.scopeRef)){let p=Vt.getTreeNode(dt);p&&(f=p)}f.addChild(u),Vt.addNode(u)},[u,l]),Mt(()=>{let f=Vt.getTreeNode(a);f&&(f.contain=!!n)},[n]),Mt(()=>{var f;let p=(f=o.current)===null||f===void 0?void 0:f.nextSibling,g=[];for(;p&&p!==i.current;)g.push(p),p=p.nextSibling;a.current=g},[t]),Ok(a,r,n),Pk(a,n),Rk(a,r,n),Ik(a,s),P.useEffect(()=>{const f=xt(a.current?a.current[0]:void 0).activeElement;let p=null;if(gn(f,a.current)){for(let g of Vt.traverse())g.scopeRef&&gn(f,g.scopeRef.current)&&(p=g);p===Vt.getTreeNode(a)&&(dt=p.scopeRef)}},[a]),Mt(()=>()=>{var f,p,g;let y=(g=(p=Vt.getTreeNode(a))===null||p===void 0||(f=p.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&g!==void 0?g:null;(a===dt||Wd(a,dt))&&(!y||Vt.getTreeNode(y))&&(dt=y),Vt.removeTreeNode(a)},[a]);let c=P.useMemo(()=>Nk(a),[]),d=P.useMemo(()=>({focusManager:c,parentNode:u}),[u,c]);return Ge.createElement(n4.Provider,{value:d},Ge.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:o}),t,Ge.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:i}))}function Nk(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:s,wrap:o,accept:i}=t,a=r||xt(n[0]).activeElement,l=n[0].previousElementSibling,u=Qo(n),c=ys(u,{tabbable:s,accept:i},n);c.currentNode=gn(a,n)?a:l;let d=c.nextNode();return!d&&o&&(c.currentNode=l,d=c.nextNode()),d&&gs(d,!0),d},focusPrevious(t={}){let n=e.current,{from:r,tabbable:s,wrap:o,accept:i}=t,a=r||xt(n[0]).activeElement,l=n[n.length-1].nextElementSibling,u=Qo(n),c=ys(u,{tabbable:s,accept:i},n);c.currentNode=gn(a,n)?a:l;let d=c.previousNode();return!d&&o&&(c.currentNode=l,d=c.previousNode()),d&&gs(d,!0),d},focusFirst(t={}){let n=e.current,{tabbable:r,accept:s}=t,o=Qo(n),i=ys(o,{tabbable:r,accept:s},n);i.currentNode=n[0].previousElementSibling;let a=i.nextNode();return a&&gs(a,!0),a},focusLast(t={}){let n=e.current,{tabbable:r,accept:s}=t,o=Qo(n),i=ys(o,{tabbable:r,accept:s},n);i.currentNode=n[n.length-1].nextElementSibling;let a=i.previousNode();return a&&gs(a,!0),a}}}const n3=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Ck=n3.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";n3.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const _k=n3.join(':not([hidden]):not([tabindex="-1"]),');function Qo(e){return e[0].parentElement}function Rl(e){let t=Vt.getTreeNode(dt);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Pk(e,t){let n=P.useRef(),r=P.useRef();Mt(()=>{let s=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const o=xt(s?s[0]:void 0);let i=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!Rl(e)||u.isComposing)return;let c=o.activeElement,d=e.current;if(!d||!gn(c,d))return;let f=Qo(d),p=ys(f,{tabbable:!0},d);if(!c)return;p.currentNode=c;let g=u.shiftKey?p.previousNode():p.nextNode();g||(p.currentNode=u.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,g=u.shiftKey?p.previousNode():p.nextNode()),u.preventDefault(),g&&gs(g,!0)},a=u=>{(!dt||Wd(dt,e))&&gn(u.target,e.current)?(dt=e,n.current=u.target):Rl(e)&&!Ud(u.target,e)?n.current?n.current.focus():dt&&dt.current&&Hd(dt.current):Rl(e)&&(n.current=u.target)},l=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(o.activeElement&&Rl(e)&&!Ud(o.activeElement,e))if(dt=e,o.body.contains(u.target)){var c;n.current=u.target,(c=n.current)===null||c===void 0||c.focus()}else dt.current&&Hd(dt.current)})};return o.addEventListener("keydown",i,!1),o.addEventListener("focusin",a,!1),s==null||s.forEach(u=>u.addEventListener("focusin",a,!1)),s==null||s.forEach(u=>u.addEventListener("focusout",l,!1)),()=>{o.removeEventListener("keydown",i,!1),o.removeEventListener("focusin",a,!1),s==null||s.forEach(u=>u.removeEventListener("focusin",a,!1)),s==null||s.forEach(u=>u.removeEventListener("focusout",l,!1))}},[e,t]),Mt(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function y6(e){return Ud(e)}function gn(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function Ud(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of Vt.traverse(Vt.getTreeNode(t)))if(n&&gn(e,n.current))return!0;return!1}function Ak(e){return Ud(e,dt)}function Wd(e,t){var n;let r=(n=Vt.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function gs(e,t=!1){if(e!=null&&!t)try{gi(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function Hd(e,t=!0){let n=e[0].previousElementSibling,r=Qo(e),s=ys(r,{tabbable:t},e);s.currentNode=n;let o=s.nextNode();t&&!o&&(r=Qo(e),s=ys(r,{tabbable:!1},e),s.currentNode=n,o=s.nextNode()),gs(o)}function Ik(e,t){const n=Ge.useRef(t);P.useEffect(()=>{if(n.current){dt=e;const r=xt(e.current?e.current[0]:void 0);!gn(r.activeElement,dt.current)&&e.current&&Hd(e.current)}n.current=!1},[e])}function Ok(e,t,n){Mt(()=>{if(t||n)return;let r=e.current;const s=xt(r?r[0]:void 0);let o=i=>{let a=i.target;gn(a,e.current)?dt=e:y6(a)||(dt=null)};return s.addEventListener("focusin",o,!1),r==null||r.forEach(i=>i.addEventListener("focusin",o,!1)),()=>{s.removeEventListener("focusin",o,!1),r==null||r.forEach(i=>i.removeEventListener("focusin",o,!1))}},[e,t,n])}function Dk(e){let t=Vt.getTreeNode(dt);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function Rk(e,t,n){const r=P.useRef(typeof document<"u"?xt(e.current?e.current[0]:void 0).activeElement:null);Mt(()=>{let s=e.current;const o=xt(s?s[0]:void 0);if(!t||n)return;let i=()=>{(!dt||Wd(dt,e))&&gn(o.activeElement,e.current)&&(dt=e)};return o.addEventListener("focusin",i,!1),s==null||s.forEach(a=>a.addEventListener("focusin",i,!1)),()=>{o.removeEventListener("focusin",i,!1),s==null||s.forEach(a=>a.removeEventListener("focusin",i,!1))}},[e,n]),Mt(()=>{const s=xt(e.current?e.current[0]:void 0);if(!t)return;let o=i=>{if(i.key!=="Tab"||i.altKey||i.ctrlKey||i.metaKey||!Rl(e)||i.isComposing)return;let a=s.activeElement;if(!gn(a,e.current))return;let l=Vt.getTreeNode(e);if(!l)return;let u=l.nodeToRestore,c=ys(s.body,{tabbable:!0});c.currentNode=a;let d=i.shiftKey?c.previousNode():c.nextNode();if((!u||!s.body.contains(u)||u===s.body)&&(u=void 0,l.nodeToRestore=void 0),(!d||!gn(d,e.current))&&u){c.currentNode=u;do d=i.shiftKey?c.previousNode():c.nextNode();while(gn(d,e.current));i.preventDefault(),i.stopPropagation(),d?gs(d,!0):y6(u)?gs(u,!0):a.blur()}};return n||s.addEventListener("keydown",o,!0),()=>{n||s.removeEventListener("keydown",o,!0)}},[e,t,n]),Mt(()=>{const s=xt(e.current?e.current[0]:void 0);if(!t)return;let o=Vt.getTreeNode(e);if(o){var i;return o.nodeToRestore=(i=r.current)!==null&&i!==void 0?i:void 0,()=>{let a=Vt.getTreeNode(e);if(!a)return;let l=a.nodeToRestore;if(t&&l&&(gn(s.activeElement,e.current)||s.activeElement===s.body&&Dk(e))){let u=Vt.clone();requestAnimationFrame(()=>{if(s.activeElement===s.body){let c=u.getTreeNode(e);for(;c;){if(c.nodeToRestore&&c.nodeToRestore.isConnected){gs(c.nodeToRestore);return}c=c.parent}for(c=u.getTreeNode(e);c;){if(c.scopeRef&&c.scopeRef.current&&Vt.getTreeNode(c.scopeRef)){Hd(c.scopeRef.current,!0);return}c=c.parent}}})}}}},[e,t])}function ys(e,t,n){let r=t!=null&&t.tabbable?_k:Ck,s=xt(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var i;return!(t==null||(i=t.from)===null||i===void 0)&&i.contains(o)?NodeFilter.FILTER_REJECT:o.matches(r)&&g6(o)&&(!n||gn(o,n))&&(!(t!=null&&t.accept)||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(s.currentNode=t.from),s}class r3{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let s=this.fastMap.get(n??null);if(!s)return;let o=new z1({scopeRef:t});s.addChild(o),o.parent=s,this.fastMap.set(t,o),r&&(o.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let o of this.traverse())o!==n&&n.nodeToRestore&&o.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&gn(o.nodeToRestore,n.scopeRef.current)&&(o.nodeToRestore=n.nodeToRestore);let s=n.children;r&&(r.removeChild(n),s.size>0&&s.forEach(o=>r&&r.addChild(o))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new r3;var r;for(let s of this.traverse())n.addTreeNode(s.scopeRef,(r=(t=s.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,s.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new z1({scopeRef:null}),this.fastMap.set(null,this.root)}}class z1{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let Vt=new r3;function Ka(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=P.useRef({isFocused:!1,isFocusVisible:t||Vd()}),[o,i]=P.useState(!1),[a,l]=P.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=P.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),c=P.useCallback(p=>{s.current.isFocused=p,i(p),u()},[u]);bk(p=>{s.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:d}=u6({isDisabled:r,onFocusChange:c}),{focusWithinProps:f}=Vf({isDisabled:!r,onFocusWithinChange:c});return{isFocused:o,isFocusVisible:a,focusProps:r?f:d}}let Fk=Ge.createContext(null);function Mk(e){let t=P.useContext(Fk)||{};e6(t,e);let{ref:n,...r}=t;return r}function Lk(e,t){let{focusProps:n}=u6(e),{keyboardProps:r}=Sk(e),s=Be(n,r),o=Mk(t),i=e.isDisabled?{}:o,a=P.useRef(e.autoFocus);return P.useEffect(()=>{a.current&&t.current&&gi(t.current),a.current=!1},[t]),{focusableProps:Be({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},i)}}const as=[];function Bk(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:s,isDismissable:o=!1,isKeyboardDismissDisabled:i=!1,shouldCloseOnInteractOutside:a}=e;P.useEffect(()=>(s&&as.push(t),()=>{let g=as.indexOf(t);g>=0&&as.splice(g,1)}),[s,t]);let l=()=>{as[as.length-1]===t&&n&&n()},u=g=>{(!a||a(g.target))&&as[as.length-1]===t&&(g.stopPropagation(),g.preventDefault())},c=g=>{(!a||a(g.target))&&(as[as.length-1]===t&&(g.stopPropagation(),g.preventDefault()),l())},d=g=>{g.key==="Escape"&&!i&&!g.nativeEvent.isComposing&&(g.stopPropagation(),g.preventDefault(),l())};xk({ref:t,onInteractOutside:o&&s?c:null,onInteractOutsideStart:u});let{focusWithinProps:f}=Vf({isDisabled:!r,onBlurWithin:g=>{!g.relatedTarget||Ak(g.relatedTarget)||(!a||a(g.relatedTarget))&&n()}}),p=g=>{g.target===g.currentTarget&&g.preventDefault()};return{overlayProps:{onKeyDown:d,...f},underlayProps:{onPointerDown:p}}}function v6(e,t,n){let{type:r}=e,{isOpen:s}=t;P.useEffect(()=>{n&&n.current&&o6.set(n.current,t.close)});let o;r==="menu"?o=!0:r==="listbox"&&(o="listbox");let i=Ns();return{triggerProps:{"aria-haspopup":o,"aria-expanded":s,"aria-controls":s?i:null,onPress:t.toggle},overlayProps:{id:i}}}const V1=Ge.createContext(null);function jk(e){let{children:t}=e,n=P.useContext(V1),[r,s]=P.useState(0),o=P.useMemo(()=>({parent:n,modalCount:r,addModal(){s(i=>i+1),n&&n.addModal()},removeModal(){s(i=>i-1),n&&n.removeModal()}}),[n,r]);return Ge.createElement(V1.Provider,{value:o},t)}function zk(){let e=P.useContext(V1);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function Vk(e){let{modalProviderProps:t}=zk();return Ge.createElement("div",{"data-overlay-container":!0,...e,...t})}function Kk(e){return Ge.createElement(jk,null,Ge.createElement(Vk,e))}var b6={};b6={dismiss:"تجاهل"};var w6={};w6={dismiss:"Отхвърляне"};var x6={};x6={dismiss:"Odstranit"};var S6={};S6={dismiss:"Luk"};var E6={};E6={dismiss:"Schließen"};var T6={};T6={dismiss:"Απόρριψη"};var $6={};$6={dismiss:"Dismiss"};var k6={};k6={dismiss:"Descartar"};var N6={};N6={dismiss:"Lõpeta"};var C6={};C6={dismiss:"Hylkää"};var _6={};_6={dismiss:"Rejeter"};var P6={};P6={dismiss:"התעלם"};var A6={};A6={dismiss:"Odbaci"};var I6={};I6={dismiss:"Elutasítás"};var O6={};O6={dismiss:"Ignora"};var D6={};D6={dismiss:"閉じる"};var R6={};R6={dismiss:"무시"};var F6={};F6={dismiss:"Atmesti"};var M6={};M6={dismiss:"Nerādīt"};var L6={};L6={dismiss:"Lukk"};var B6={};B6={dismiss:"Negeren"};var j6={};j6={dismiss:"Zignoruj"};var z6={};z6={dismiss:"Descartar"};var V6={};V6={dismiss:"Dispensar"};var K6={};K6={dismiss:"Revocare"};var U6={};U6={dismiss:"Пропустить"};var W6={};W6={dismiss:"Zrušiť"};var H6={};H6={dismiss:"Opusti"};var G6={};G6={dismiss:"Odbaci"};var q6={};q6={dismiss:"Avvisa"};var X6={};X6={dismiss:"Kapat"};var Y6={};Y6={dismiss:"Скасувати"};var J6={};J6={dismiss:"取消"};var Q6={};Q6={dismiss:"關閉"};var Z6={};Z6={"ar-AE":b6,"bg-BG":w6,"cs-CZ":x6,"da-DK":S6,"de-DE":E6,"el-GR":T6,"en-US":$6,"es-ES":k6,"et-EE":N6,"fi-FI":C6,"fr-FR":_6,"he-IL":P6,"hr-HR":A6,"hu-HU":I6,"it-IT":O6,"ja-JP":D6,"ko-KR":R6,"lt-LT":F6,"lv-LV":M6,"nb-NO":L6,"nl-NL":B6,"pl-PL":j6,"pt-BR":z6,"pt-PT":V6,"ro-RO":K6,"ru-RU":U6,"sk-SK":W6,"sl-SI":H6,"sr-SP":G6,"sv-SE":q6,"tr-TR":X6,"uk-UA":Y6,"zh-CN":J6,"zh-TW":Q6};const r4={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function e7(e={}){let{style:t,isFocusable:n}=e,[r,s]=P.useState(!1),{focusWithinProps:o}=Vf({isDisabled:!n,onFocusWithinChange:a=>s(a)}),i=P.useMemo(()=>r?t:t?{...r4,...t}:r4,[r]);return{visuallyHiddenProps:{...o,style:i}}}function t7(e){let{children:t,elementType:n="div",isFocusable:r,style:s,...o}=e,{visuallyHiddenProps:i}=e7(e);return Ge.createElement(n,Be(o,i),t)}function Uk(e){return e&&e.__esModule?e.default:e}function s4(e){let{onDismiss:t,...n}=e,r=I5(Uk(Z6),"@react-aria/overlays"),s=Z5(n,r.format("dismiss")),o=()=>{t&&t()};return Ge.createElement(t7,null,Ge.createElement("button",{...s,tabIndex:-1,onClick:o,style:{width:1,height:1}}))}let bl=new WeakMap,ur=[];function Wk(e,t=document.body){let n=new Set(e),r=new Set,s=l=>{for(let f of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(f);let u=f=>{if(n.has(f)||r.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let p of n)if(f.contains(p))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},c=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),d=u(l);if(d===NodeFilter.FILTER_ACCEPT&&o(l),d!==NodeFilter.FILTER_REJECT){let f=c.nextNode();for(;f!=null;)o(f),f=c.nextNode()}},o=l=>{var u;let c=(u=bl.get(l))!==null&&u!==void 0?u:0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),r.add(l),bl.set(l,c+1))};ur.length&&ur[ur.length-1].disconnect(),s(t);let i=new MutationObserver(l=>{for(let u of l)if(!(u.type!=="childList"||u.addedNodes.length===0)&&![...n,...r].some(c=>c.contains(u.target))){for(let c of u.removedNodes)c instanceof Element&&(n.delete(c),r.delete(c));for(let c of u.addedNodes)(c instanceof HTMLElement||c instanceof SVGElement)&&(c.dataset.liveAnnouncer==="true"||c.dataset.reactAriaTopLayer==="true")?n.add(c):c instanceof Element&&s(c)}});i.observe(t,{childList:!0,subtree:!0});let a={observe(){i.observe(t,{childList:!0,subtree:!0})},disconnect(){i.disconnect()}};return ur.push(a),()=>{i.disconnect();for(let l of r){let u=bl.get(l);u===1?(l.removeAttribute("aria-hidden"),bl.delete(l)):bl.set(l,u-1)}a===ur[ur.length-1]?(ur.pop(),ur.length&&ur[ur.length-1].observe()):ur.splice(ur.indexOf(a),1)}}const Hk=P.createContext({});function Gk(){var e;return(e=P.useContext(Hk))!==null&&e!==void 0?e:{}}const n7=Ge.createContext(null);function qk(e){let t=Du(),{portalContainer:n=t?null:document.body,isExiting:r}=e,[s,o]=P.useState(!1),i=P.useMemo(()=>({contain:s,setContain:o}),[s,o]),{getContainer:a}=Gk();if(!e.portalContainer&&a&&(n=a()),!n)return null;let l=e.children;return e.disableFocusManagement||(l=Ge.createElement(kk,{restoreFocus:!0,contain:s&&!r},l)),l=Ge.createElement(n7.Provider,{value:i},Ge.createElement(dk,null,l)),$T.createPortal(l,n)}function Xk(){let e=P.useContext(n7),t=e==null?void 0:e.setContain;Mt(()=>{t==null||t(!0)},[t])}var Yk=({children:e,navigate:t,locale:n="en-US",defaultDates:r={minDate:new Ia(1900,1,1),maxDate:new Ia(2099,12,31)},createCalendar:s,...o})=>{let i=e;t&&(i=J.jsx(D$,{navigate:t,children:i}));const a=P.useMemo(()=>({createCalendar:s,defaultDates:r}),[s,r==null?void 0:r.maxDate,r==null?void 0:r.minDate]);return J.jsx(OT,{value:a,children:J.jsx(HT,{locale:n,children:J.jsx(Kk,{...o,children:i})})})};function nr(e){return P.forwardRef(e)}var Ci=(e,t,n=!0)=>{if(!t)return[e,{}];const r=t.reduce((s,o)=>o in e?{...s,[o]:e[o]}:s,{});return n?[Object.keys(e).filter(o=>!t.includes(o)).reduce((o,i)=>({...o,[i]:e[i]}),{}),r]:[e,r]},Jk={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},Qk={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},Zk={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},eN={default:"bg-default/40 text-default-foreground",primary:"bg-primary/20 text-primary",secondary:"bg-secondary/20 text-secondary",success:"bg-success/20 text-success-600 dark:text-success",warning:"bg-warning/20 text-warning-600 dark:text-warning",danger:"bg-danger/20 text-danger dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},tN={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},nN={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},rN={default:"border-default text-default-foreground hover:!bg-default",primary:"border-primary text-primary hover:!text-primary-foreground hover:!bg-primary",secondary:"border-secondary text-secondary hover:text-secondary-foreground hover:!bg-secondary",success:"border-success text-success hover:!text-success-foreground hover:!bg-success",warning:"border-warning text-warning hover:!text-warning-foreground hover:!bg-warning",danger:"border-danger text-danger hover:!text-danger-foreground hover:!bg-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},ye={solid:Jk,shadow:Qk,bordered:Zk,flat:eN,faded:tN,light:nN,ghost:rN},o4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gn=e=>!e||typeof e!="object"||Object.keys(e).length===0,sN=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function r7(e,t){e.forEach(function(n){Array.isArray(n)?r7(n,t):t.push(n)})}function s7(e){let t=[];return r7(e,t),t}var o7=(...e)=>s7(e).filter(Boolean),i7=(e,t)=>{let n={},r=Object.keys(e),s=Object.keys(t);for(let o of r)if(s.includes(o)){let i=e[o],a=t[o];typeof i=="object"&&typeof a=="object"?n[o]=i7(i,a):Array.isArray(i)||Array.isArray(a)?n[o]=o7(a,i):n[o]=a+" "+i}else n[o]=e[o];for(let o of s)r.includes(o)||(n[o]=t[o]);return n},i4=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim();function oN(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=a7(t))&&(r&&(r+=" "),r+=n);return r}function a7(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=a7(e[r]))&&(n&&(n+=" "),n+=t);return n}var s3="-";function iN(e){var t=lN(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(a){var l=a.split(s3);return l[0]===""&&l.length!==1&&l.shift(),l7(l,t)||aN(a)}function i(a,l){var u=n[a]||[];return l&&s[a]?[].concat(u,s[a]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function l7(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?l7(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(s3);return(i=t.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:i.classGroupId}}var a4=/^\[(.+)\]$/;function aN(e){if(a4.test(e)){var t=a4.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function lN(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=cN(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],a=o[1];K1(a,r,i,t)}),r}function K1(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:l4(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(uN(s)){K1(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var a=i[0],l=i[1];K1(l,l4(t,a),n,r)})})}function l4(e,t){var n=e;return t.split(s3).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function uN(e){return e.isThemeGetter}function cN(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(a){var l=a[0],u=a[1];return[t+l,u]})):i});return[r,o]}):e}function dN(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set:function(i,a){n.has(i)?n.set(i,a):s(i,a)}}}var u7="!";function fN(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var a=[],l=0,u=0,c,d=0;d<i.length;d++){var f=i[d];if(l===0){if(f===r&&(n||i.slice(d,d+s)===t)){a.push(i.slice(u,d)),u=d+s;continue}if(f==="/"){c=d;continue}}f==="["?l++:f==="]"&&l--}var p=a.length===0?i:i.substring(u),g=p.startsWith(u7),y=g?p.substring(1):p,E=c&&c>u?c-u:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:E}}}function pN(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function hN(e){return{cache:dN(e.cacheSize),splitModifiers:fN(e),...iN(e)}}var mN=/\s+/;function gN(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(mN).map(function(i){var a=n(i),l=a.modifiers,u=a.hasImportantModifier,c=a.baseClassName,d=a.maybePostfixModifierPosition,f=r(d?c.substring(0,d):c),p=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:i};if(f=r(c),!f)return{isTailwindClass:!1,originalClassName:i};p=!1}var g=pN(l).join(":"),y=u?g+u7:g;return{isTailwindClass:!0,modifierId:y,classGroupId:f,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var a=i.modifierId,l=i.classGroupId,u=i.hasPostfixModifier,c=a+l;return o.has(c)?!1:(o.add(c),s(l,u).forEach(function(d){return o.add(a+d)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function U1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=a;function a(u){var c=t[0],d=t.slice(1),f=d.reduce(function(p,g){return g(p)},c());return r=hN(f),s=r.cache.get,o=r.cache.set,i=l,l(u)}function l(u){var c=s(u);if(c)return c;var d=gN(u,r);return o(u,d),d}return function(){return i(oN.apply(null,arguments))}}function vt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var c7=/^\[(?:([a-z-]+):)?(.+)\]$/i,yN=/^\d+\/\d+$/,vN=new Set(["px","full","screen"]),bN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Nr(e){return Zo(e)||vN.has(e)||yN.test(e)||W1(e)}function W1(e){return _i(e,"length",NN)}function SN(e){return _i(e,"size",d7)}function EN(e){return _i(e,"position",d7)}function TN(e){return _i(e,"url",CN)}function Rc(e){return _i(e,"number",Zo)}function Zo(e){return!Number.isNaN(Number(e))}function $N(e){return e.endsWith("%")&&Zo(e.slice(0,-1))}function wl(e){return u4(e)||_i(e,"number",u4)}function He(e){return c7.test(e)}function xl(){return!0}function qs(e){return bN.test(e)}function kN(e){return _i(e,"",_N)}function _i(e,t,n){var r=c7.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function NN(e){return wN.test(e)}function d7(){return!1}function CN(e){return e.startsWith("url(")}function u4(e){return Number.isInteger(Number(e))}function _N(e){return xN.test(e)}function H1(){var e=vt("colors"),t=vt("spacing"),n=vt("blur"),r=vt("brightness"),s=vt("borderColor"),o=vt("borderRadius"),i=vt("borderSpacing"),a=vt("borderWidth"),l=vt("contrast"),u=vt("grayscale"),c=vt("hueRotate"),d=vt("invert"),f=vt("gap"),p=vt("gradientColorStops"),g=vt("gradientColorStopPositions"),y=vt("inset"),E=vt("margin"),v=vt("opacity"),x=vt("padding"),$=vt("saturate"),N=vt("scale"),I=vt("sepia"),O=vt("skew"),U=vt("space"),C=vt("translate"),j=function(){return["auto","contain","none"]},F=function(){return["auto","hidden","clip","visible","scroll"]},H=function(){return["auto",He,t]},Y=function(){return[He,t]},V=function(){return["",Nr]},G=function(){return["auto",Zo,He]},ne=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ce=function(){return["solid","dashed","dotted","double","none"]},ee=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},te=function(){return["start","end","center","between","around","evenly","stretch"]},ue=function(){return["","0",He]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},be=function(){return[Zo,Rc]},Te=function(){return[Zo,He]};return{cacheSize:500,theme:{colors:[xl],spacing:[Nr],blur:["none","",qs,He],brightness:be(),borderColor:[e],borderRadius:["none","","full",qs,He],borderSpacing:Y(),borderWidth:V(),contrast:be(),grayscale:ue(),hueRotate:Te(),invert:ue(),gap:Y(),gradientColorStops:[e],gradientColorStopPositions:[$N,W1],inset:H(),margin:H(),opacity:be(),padding:Y(),saturate:be(),scale:be(),sepia:ue(),skew:Te(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[qs]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ne(),[He])}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wl]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",wl]}],"grid-cols":[{"grid-cols":[xl]}],"col-start-end":[{col:["auto",{span:["full",wl]},He]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[xl]}],"row-start-end":[{row:["auto",{span:[wl]},He]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(te())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(te(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(te(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",He,t]}],"min-w":[{"min-w":["min","max","fit",He,Nr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[qs]},qs,He]}],h:[{h:[He,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",He,Nr]}],"max-h":[{"max-h":[He,t,"min","max","fit"]}],"font-size":[{text:["base",qs,W1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rc]}],"font-family":[{font:[xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",Zo,Rc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",He,Nr]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ce(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Nr]}],"underline-offset":[{"underline-offset":["auto",He,Nr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ne(),[EN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(ce(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ce()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(ce())}],"outline-offset":[{"outline-offset":[He,Nr]}],"outline-w":[{outline:[Nr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Nr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qs,kN]}],"shadow-color":[{shadow:[xl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":ee()}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qs,He]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[$]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:Te()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:Te()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[wl,He]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nr,Rc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function PN(e,t){for(var n in t)f7(e,n,t[n]);return e}var AN=Object.prototype.hasOwnProperty,IN=new Set(["string","number","boolean"]);function f7(e,t,n){if(!AN.call(e,t)||IN.has(typeof n)||n===null){e[t]=n;return}if(Array.isArray(n)&&Array.isArray(e[t])){e[t]=e[t].concat(n);return}if(typeof n=="object"&&typeof e[t]=="object"){if(e[t]===null){e[t]=n;return}for(var r in n)f7(e[t],r,n[r])}}function ON(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return typeof e=="function"?U1.apply(void 0,[H1,e].concat(n)):U1.apply(void 0,[function(){return PN(H1(),e)}].concat(n))}var DN=U1(H1),RN={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},p7=e=>e||void 0,yu=(...e)=>p7(s7(e).filter(Boolean).join(" ")),th=null,Gd={},G1=!1,Sl=(...e)=>t=>t.twMerge?((!th||G1)&&(G1=!1,th=Gn(Gd)?DN:ON(Gd)),p7(th(yu(e)))):yu(e),c4=(e,t)=>{for(let n in t)e.hasOwnProperty(n)?e[n]=yu(e[n],t[n]):e[n]=t[n];return e},FN=(e,t)=>{let{extend:n=null,slots:r={},variants:s={},compoundVariants:o=[],compoundSlots:i=[],defaultVariants:a={}}=e,l={...RN,...t},u=n!=null&&n.base?yu(n.base,e==null?void 0:e.base):e==null?void 0:e.base,c=n!=null&&n.variants&&!Gn(n.variants)?i7(s,n.variants):s,d=n!=null&&n.defaultVariants&&!Gn(n.defaultVariants)?{...n.defaultVariants,...a}:a;!Gn(l.twMergeConfig)&&!sN(l.twMergeConfig,Gd)&&(G1=!0,Gd=l.twMergeConfig);let f=Gn(n==null?void 0:n.slots),p=Gn(r)?{}:{base:yu(e==null?void 0:e.base,f&&(n==null?void 0:n.base)),...r},g=f?p:c4({...n==null?void 0:n.slots},Gn(p)?{base:e==null?void 0:e.base}:p),y=v=>{if(Gn(c)&&Gn(r)&&f)return Sl(u,v==null?void 0:v.class,v==null?void 0:v.className)(l);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof o}`);if(i&&!Array.isArray(i))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof i}`);let x=(Y,V,G=[],ne)=>{let ce=G;if(typeof V=="string")ce=ce.concat(i4(V).split(" ").map(ee=>`${Y}:${ee}`));else if(Array.isArray(V))ce=ce.concat(V.reduce((ee,te)=>ee.concat(`${Y}:${te}`),[]));else if(typeof V=="object"&&typeof ne=="string"){for(let ee in V)if(V.hasOwnProperty(ee)&&ee===ne){let te=V[ee];if(te&&typeof te=="string"){let ue=i4(te);ce[ne]?ce[ne]=ce[ne].concat(ue.split(" ").map(q=>`${Y}:${q}`)):ce[ne]=ue.split(" ").map(q=>`${Y}:${q}`)}else Array.isArray(te)&&te.length>0&&(ce[ne]=te.reduce((ue,q)=>ue.concat(`${Y}:${q}`),[]))}}return ce},$=(Y,V=c,G=null,ne=null)=>{var ce;let ee=V[Y];if(!ee||Gn(ee))return null;let te=(ce=ne==null?void 0:ne[Y])!=null?ce:v==null?void 0:v[Y];if(te===null)return null;let ue=o4(te),q=Array.isArray(l.responsiveVariants)&&l.responsiveVariants.length>0||l.responsiveVariants===!0,be=d==null?void 0:d[Y],Te=[];if(typeof ue=="object"&&q)for(let[Ue,Qe]of Object.entries(ue)){let We=ee[Qe];if(Ue==="initial"){be=Qe;continue}Array.isArray(l.responsiveVariants)&&!l.responsiveVariants.includes(Ue)||(Te=x(Ue,We,Te,G))}let Ee=ee[ue]||ee[o4(be)];return typeof Te=="object"&&typeof G=="string"&&Te[G]?c4(Te,Ee):Te.length>0?(Te.push(Ee),Te):Ee},N=()=>c?Object.keys(c).map(Y=>$(Y,c)):null,I=(Y,V)=>{if(!c||typeof c!="object")return null;let G=new Array;for(let ne in c){let ce=$(ne,c,Y,V),ee=Y==="base"&&typeof ce=="string"?ce:ce&&ce[Y];ee&&(G[G.length]=ee)}return G},O={};for(let Y in v)v[Y]!==void 0&&(O[Y]=v[Y]);let U=(Y,V)=>{var G;let ne=typeof(v==null?void 0:v[Y])=="object"?{[Y]:(G=v[Y])==null?void 0:G.initial}:{};return{...d,...O,...ne,...V}},C=(Y=[],V)=>{let G=[];for(let{class:ne,className:ce,...ee}of Y){let te=!0;for(let[ue,q]of Object.entries(ee)){let be=U(ue,V);if(Array.isArray(q)){if(!q.includes(be[ue])){te=!1;break}}else if(be[ue]!==q){te=!1;break}}te&&(ne&&G.push(ne),ce&&G.push(ce))}return G},j=Y=>{let V=C(o,Y),G=C(n==null?void 0:n.compoundVariants,Y);return o7(G,V)},F=Y=>{let V=j(Y);if(!Array.isArray(V))return V;let G={};for(let ne of V)if(typeof ne=="string"&&(G.base=Sl(G.base,ne)(l)),typeof ne=="object")for(let[ce,ee]of Object.entries(ne))G[ce]=Sl(G[ce],ee)(l);return G},H=Y=>{if(i.length<1)return null;let V={};for(let{slots:G=[],class:ne,className:ce,...ee}of i){if(!Gn(ee)){let te=!0;for(let ue of Object.keys(ee)){let q=U(ue,Y)[ue];if(q===void 0||(Array.isArray(ee[ue])?!ee[ue].includes(q):ee[ue]!==q)){te=!1;break}}if(!te)continue}for(let te of G)V[te]=V[te]||[],V[te].push([ne,ce])}return V};if(!Gn(r)||!f){let Y={};if(typeof g=="object"&&!Gn(g))for(let V of Object.keys(g))Y[V]=G=>{var ne,ce;return Sl(g[V],I(V,G),((ne=F(G))!=null?ne:[])[V],((ce=H(G))!=null?ce:[])[V],G==null?void 0:G.class,G==null?void 0:G.className)(l)};return Y}return Sl(u,N(),j(),v==null?void 0:v.class,v==null?void 0:v.className)(l)},E=()=>{if(!(!c||typeof c!="object"))return Object.keys(c)};return y.variantKeys=E(),y.extend=n,y.base=u,y.slots=g,y.variants=c,y.defaultVariants=d,y.compoundSlots=i,y.compoundVariants=o,y},Fc=["small","medium","large"],Er=(e,t)=>{var n,r,s;return FN(e,{...t,twMerge:(n=void 0)!=null?n:!0,twMergeConfig:{theme:{...(r=void 0)==null?void 0:r.theme,opacity:["disabled"],spacing:["divider"],borderWidth:Fc,borderRadius:Fc},classGroups:{...(s=void 0)==null?void 0:s.classGroups,shadow:[{shadow:Fc}],"font-size":[{text:["tiny",...Fc]}],"bg-image":["bg-stripe-gradient"]}}})},Lu=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],MN=["outline-none","ring-2","ring-focus","ring-offset-2","ring-offset-background"],Ui={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},LN=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],BN=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],d4=Er({base:[],variants:{orientation:{vertical:["overflow-y-auto",...LN],horizontal:["overflow-x-auto",...BN]},hideScrollBar:{true:"scrollbar-hide",false:""}},defaultVariants:{orientation:"vertical",hideScrollBar:!1}}),f4=Er({slots:{base:["group inline-flex flex-col relative w-full"],label:["block","absolute","z-10","origin-top-left","rtl:origin-top-right","subpixel-antialiased","text-small","text-foreground-500","pointer-events-none"],mainWrapper:"w-full flex flex-col",trigger:"relative px-3 gap-3 w-full inline-flex flex-row items-center shadow-sm outline-none tap-highlight-transparent",innerWrapper:"inline-flex h-full w-[calc(100%_-_theme(spacing.6))] min-h-4 items-center gap-1.5 box-border",selectorIcon:"absolute right-3 rtl:left-3 rtl:right-[unset] w-4 h-4",spinner:"absolute right-3 rtl:left-3 rtl:right-[unset]",value:["text-foreground-500","font-normal","w-full","text-left","rtl:text-right"],listboxWrapper:"scroll-py-6 max-h-64 w-full",listbox:"",popoverContent:"w-full p-1 overflow-hidden",helperWrapper:"p-1 flex relative flex-col gap-1.5",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{trigger:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-100"]},faded:{trigger:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{trigger:["border-medium","border-default-200","data-[hover=true]:border-default-400","data-[open=true]:border-default-foreground","data-[focus=true]:border-default-foreground","data-[focus=true]:border-default-foreground"]},underlined:{trigger:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","data-[open=true]:after:w-full","data-[focus=true]:after:w-full"],label:"group-data-[filled=true]:text-foreground"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{label:"text-tiny",trigger:"h-8 min-h-8 px-2 rounded-small",value:"text-small"},md:{trigger:"h-10 min-h-10 rounded-medium",value:"text-small"},lg:{trigger:"h-12 min-h-12 rounded-large",value:"text-medium"}},radius:{none:{trigger:"rounded-none"},sm:{trigger:"rounded-small"},md:{trigger:"rounded-medium"},lg:{trigger:"rounded-large"},full:{trigger:"rounded-full"}},labelPlacement:{outside:{base:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap items-start",label:"relative pr-2 rtl:pl-2 rtl:pr-[unset] text-foreground"},inside:{label:"text-tiny cursor-pointer",trigger:"flex-col items-start justify-center gap-0"}},fullWidth:{true:{base:"w-full"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",trigger:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",value:"!text-danger",selectorIcon:"text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ml-0.5"}},isMultiline:{true:{label:"relative",trigger:"!h-auto"},false:{value:"truncate"}},disableAnimation:{true:{trigger:"after:transition-none",base:"transition-none",label:"transition-none",selectorIcon:"transition-none"},false:{base:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","origin-top-left","rtl:origin-top-right","!duration-200","!ease-out","transition-[transform,color,left,opacity]","motion-reduce:transition-none"],selectorIcon:"transition-transform duration-150 ease motion-reduce:transition-none"}},disableSelectorIconRotation:{true:{},false:{selectorIcon:"data-[open=true]:rotate-180"}}},defaultVariants:{variant:"flat",color:"default",size:"md",labelPlacement:"inside",fullWidth:!0,isDisabled:!1,isMultiline:!1,disableAnimation:!1,disableSelectorIconRotation:!1},compoundVariants:[{variant:"flat",color:"default",class:{value:"group-data-[has-value=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{trigger:["bg-primary-50","text-primary","data-[hover=true]:bg-primary-100","group-data-[focus=true]:bg-primary-50"],value:"text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{trigger:["bg-secondary-50","text-secondary","data-[hover=true]:bg-secondary-100","group-data-[focus=true]:bg-secondary-50"],value:"text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{trigger:["bg-success-50","text-success-600","dark:text-success","data-[hover=true]:bg-success-100","group-data-[focus=true]:bg-success-50"],value:"text-success-600 dark:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{trigger:["bg-warning-50","text-warning-600","dark:text-warning","data-[hover=true]:bg-warning-100","group-data-[focus=true]:bg-warning-50"],value:"text-warning-600 dark:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{trigger:["bg-danger-50","text-danger","dark:text-danger-500","data-[hover=true]:bg-danger-100","group-data-[focus=true]:bg-danger-50"],value:"text-danger dark:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{trigger:"data-[hover=true]:border-primary",label:"text-primary"}},{variant:"faded",color:"secondary",class:{trigger:"data-[hover=true]:border-secondary",label:"text-secondary"}},{variant:"faded",color:"success",class:{trigger:"data-[hover=true]:border-success",label:"text-success"}},{variant:"faded",color:"warning",class:{trigger:"data-[hover=true]:border-warning",label:"text-warning"}},{variant:"faded",color:"danger",class:{trigger:"data-[hover=true]:border-danger",label:"text-danger"}},{variant:"underlined",color:"default",class:{value:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{trigger:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{trigger:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{trigger:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{trigger:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{trigger:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{trigger:["data-[open=true]:border-primary","data-[focus=true]:border-primary"],label:"text-primary"}},{variant:"bordered",color:"secondary",class:{trigger:["data-[open=true]:border-secondary","data-[focus=true]:border-secondary"],label:"text-secondary"}},{variant:"bordered",color:"success",class:{trigger:["data-[open=true]:border-success","data-[focus=true]:border-success"],label:"text-success"}},{variant:"bordered",color:"warning",class:{trigger:["data-[open=true]:border-warning","data-[focus=true]:border-warning"],label:"text-warning"}},{variant:"bordered",color:"danger",class:{trigger:["data-[open=true]:border-danger","data-[focus=true]:border-danger"],label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled=true]:text-foreground"}},{radius:"full",size:["sm"],class:{trigger:"px-3"}},{radius:"full",size:"md",class:{trigger:"px-4"}},{radius:"full",size:"lg",class:{trigger:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{trigger:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{trigger:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{trigger:[...Lu]}},{isInvalid:!0,variant:"flat",class:{trigger:["bg-danger-50","data-[hover=true]:bg-danger-100","group-data-[focus=true]:bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{trigger:"!border-danger group-data-[focus=true]:border-danger"}},{isInvalid:!0,variant:"underlined",class:{trigger:"after:bg-danger"}},{labelPlacement:"inside",size:"sm",class:{trigger:"h-12 min-h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{trigger:"h-14 min-h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{label:"text-small",trigger:"h-16 min-h-16 py-2.5 gap-0"}},{labelPlacement:["inside","outside"],class:{label:["group-data-[filled=true]:pointer-events-auto"]}},{labelPlacement:"outside",isMultiline:!1,class:{base:"group relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled=true]:left-0","rtl:group-data-[filled=true]:right-0","rtl:group-data-[filled=true]:left-[unset]"]}},{labelPlacement:["inside"],class:{label:"group-data-[filled=true]:scale-85"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-5"}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["left-2","rtl:right-2","rtl:left-[unset]","text-tiny","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"md",class:{label:["left-3","rtl:right-3","rtl:left-[unset]","text-small","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"lg",class:{label:["left-3","rtl:right-3","rtl:left-[unset]","text-medium","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}}]}),p4=Er({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),jN=Er({slots:{base:"w-full relative flex flex-col gap-1 p-1",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),h4=Er({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...Lu,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1,showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),zN=Er({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}}),m4=Er({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...Lu],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:ye.solid.foreground},primary:{base:"before:bg-primary",content:ye.solid.primary},secondary:{base:"before:bg-secondary",content:ye.solid.secondary},success:{base:"before:bg-success",content:ye.solid.success},warning:{base:"before:bg-warning",content:ye.solid.warning},danger:{base:"before:bg-danger",content:ye.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",disableAnimation:!1,triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),VN=Er({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),g4=Er({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...Lu],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}}),y4=Er({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...MN,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:ye.solid.default}},{variant:"solid",color:"primary",class:{base:ye.solid.primary}},{variant:"solid",color:"secondary",class:{base:ye.solid.secondary}},{variant:"solid",color:"success",class:{base:ye.solid.success}},{variant:"solid",color:"warning",class:{base:ye.solid.warning}},{variant:"solid",color:"danger",class:{base:ye.solid.danger}},{variant:"shadow",color:"default",class:{base:ye.shadow.default}},{variant:"shadow",color:"primary",class:{base:ye.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:ye.shadow.secondary}},{variant:"shadow",color:"success",class:{base:ye.shadow.success}},{variant:"shadow",color:"warning",class:{base:ye.shadow.warning}},{variant:"shadow",color:"danger",class:{base:ye.shadow.danger}},{variant:"bordered",color:"default",class:{base:ye.bordered.default}},{variant:"bordered",color:"primary",class:{base:ye.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:ye.bordered.secondary}},{variant:"bordered",color:"success",class:{base:ye.bordered.success}},{variant:"bordered",color:"warning",class:{base:ye.bordered.warning}},{variant:"bordered",color:"danger",class:{base:ye.bordered.danger}},{variant:"flat",color:"default",class:{base:ye.flat.default}},{variant:"flat",color:"primary",class:{base:ye.flat.primary}},{variant:"flat",color:"secondary",class:{base:ye.flat.secondary}},{variant:"flat",color:"success",class:{base:ye.flat.success}},{variant:"flat",color:"warning",class:{base:ye.flat.warning}},{variant:"flat",color:"danger",class:{base:ye.flat.danger}},{variant:"faded",color:"default",class:{base:ye.faded.default}},{variant:"faded",color:"primary",class:{base:ye.faded.primary}},{variant:"faded",color:"secondary",class:{base:ye.faded.secondary}},{variant:"faded",color:"success",class:{base:ye.faded.success}},{variant:"faded",color:"warning",class:{base:ye.faded.warning}},{variant:"faded",color:"danger",class:{base:ye.faded.danger}},{variant:"light",color:"default",class:{base:ye.light.default}},{variant:"light",color:"primary",class:{base:ye.light.primary}},{variant:"light",color:"secondary",class:{base:ye.light.secondary}},{variant:"light",color:"success",class:{base:ye.light.success}},{variant:"light",color:"warning",class:{base:ye.light.warning}},{variant:"light",color:"danger",class:{base:ye.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]}),KN=Er({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...Lu],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:ye.solid.default},{variant:"solid",color:"primary",class:ye.solid.primary},{variant:"solid",color:"secondary",class:ye.solid.secondary},{variant:"solid",color:"success",class:ye.solid.success},{variant:"solid",color:"warning",class:ye.solid.warning},{variant:"solid",color:"danger",class:ye.solid.danger},{variant:"shadow",color:"default",class:ye.shadow.default},{variant:"shadow",color:"primary",class:ye.shadow.primary},{variant:"shadow",color:"secondary",class:ye.shadow.secondary},{variant:"shadow",color:"success",class:ye.shadow.success},{variant:"shadow",color:"warning",class:ye.shadow.warning},{variant:"shadow",color:"danger",class:ye.shadow.danger},{variant:"bordered",color:"default",class:ye.bordered.default},{variant:"bordered",color:"primary",class:ye.bordered.primary},{variant:"bordered",color:"secondary",class:ye.bordered.secondary},{variant:"bordered",color:"success",class:ye.bordered.success},{variant:"bordered",color:"warning",class:ye.bordered.warning},{variant:"bordered",color:"danger",class:ye.bordered.danger},{variant:"flat",color:"default",class:ye.flat.default},{variant:"flat",color:"primary",class:ye.flat.primary},{variant:"flat",color:"secondary",class:ye.flat.secondary},{variant:"flat",color:"success",class:ye.flat.success},{variant:"flat",color:"warning",class:ye.flat.warning},{variant:"flat",color:"danger",class:ye.flat.danger},{variant:"faded",color:"default",class:ye.faded.default},{variant:"faded",color:"primary",class:ye.faded.primary},{variant:"faded",color:"secondary",class:ye.faded.secondary},{variant:"faded",color:"success",class:ye.faded.success},{variant:"faded",color:"warning",class:ye.faded.warning},{variant:"faded",color:"danger",class:ye.faded.danger},{variant:"light",color:"default",class:[ye.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[ye.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[ye.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[ye.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[ye.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[ye.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:ye.ghost.default},{variant:"ghost",color:"primary",class:ye.ghost.primary},{variant:"ghost",color:"secondary",class:ye.ghost.secondary},{variant:"ghost",color:"success",class:ye.ghost.success},{variant:"ghost",color:"warning",class:ye.ghost.warning},{variant:"ghost",color:"danger",class:ye.ghost.danger},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:Ui.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:Ui.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:Ui.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:Ui.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:Ui.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:Ui.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});Er({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});function q1(e){return A$()?e.altKey:e.ctrlKey}function qi(e){return Eo()?e.metaKey:e.ctrlKey}const UN=1e3;function h7(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:r}=e,s=P.useRef({search:"",timeout:null}).current,o=i=>{let a=WN(i.key);if(!a||i.ctrlKey||i.metaKey||!i.currentTarget.contains(i.target))return;a===" "&&s.search.trim().length>0&&(i.preventDefault(),"continuePropagation"in i||i.stopPropagation()),s.search+=a;let l=t.getKeyForSearch(s.search,n.focusedKey);l==null&&(l=t.getKeyForSearch(s.search)),l!=null&&(n.setFocusedKey(l),r&&r(l)),clearTimeout(s.timeout),s.timeout=setTimeout(()=>{s.search=""},UN)};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?o:null}}}function WN(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function HN(e){let{selectionManager:t,keyboardDelegate:n,ref:r,autoFocus:s=!1,shouldFocusWrap:o=!1,disallowEmptySelection:i=!1,disallowSelectAll:a=!1,selectOnFocus:l=t.selectionBehavior==="replace",disallowTypeAhead:u=!1,shouldUseVirtualFocus:c,allowsTabNavigation:d=!1,isVirtualized:f,scrollRef:p=r,linkBehavior:g="action"}=e,{direction:y}=Mf(),E=Zm(),v=F=>{if(F.altKey&&F.key==="Tab"&&F.preventDefault(),!r.current.contains(F.target))return;const H=(q,be)=>{if(q!=null){if(t.isLink(q)&&g==="selection"&&l&&!q1(F)){Um.flushSync(()=>{t.setFocusedKey(q,be)});let Te=p.current.querySelector(`[data-key="${CSS.escape(q.toString())}"]`),Ee=t.getItemProps(q);E.open(Te,F,Ee.href,Ee.routerOptions);return}if(t.setFocusedKey(q,be),t.isLink(q)&&g==="override")return;F.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(q):l&&!q1(F)&&t.replaceSelection(q)}};switch(F.key){case"ArrowDown":if(n.getKeyBelow){var Y,V;F.preventDefault();let q=t.focusedKey!=null?n.getKeyBelow(t.focusedKey):(Y=n.getFirstKey)===null||Y===void 0?void 0:Y.call(n);q==null&&o&&(q=(V=n.getFirstKey)===null||V===void 0?void 0:V.call(n,t.focusedKey)),H(q)}break;case"ArrowUp":if(n.getKeyAbove){var G,ne;F.preventDefault();let q=t.focusedKey!=null?n.getKeyAbove(t.focusedKey):(G=n.getLastKey)===null||G===void 0?void 0:G.call(n);q==null&&o&&(q=(ne=n.getLastKey)===null||ne===void 0?void 0:ne.call(n,t.focusedKey)),H(q)}break;case"ArrowLeft":if(n.getKeyLeftOf){var ce,ee;F.preventDefault();let q=n.getKeyLeftOf(t.focusedKey);q==null&&o&&(q=y==="rtl"?(ce=n.getFirstKey)===null||ce===void 0?void 0:ce.call(n,t.focusedKey):(ee=n.getLastKey)===null||ee===void 0?void 0:ee.call(n,t.focusedKey)),H(q,y==="rtl"?"first":"last")}break;case"ArrowRight":if(n.getKeyRightOf){var te,ue;F.preventDefault();let q=n.getKeyRightOf(t.focusedKey);q==null&&o&&(q=y==="rtl"?(te=n.getLastKey)===null||te===void 0?void 0:te.call(n,t.focusedKey):(ue=n.getFirstKey)===null||ue===void 0?void 0:ue.call(n,t.focusedKey)),H(q,y==="rtl"?"last":"first")}break;case"Home":if(n.getFirstKey){F.preventDefault();let q=n.getFirstKey(t.focusedKey,qi(F));t.setFocusedKey(q),qi(F)&&F.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(q):l&&t.replaceSelection(q)}break;case"End":if(n.getLastKey){F.preventDefault();let q=n.getLastKey(t.focusedKey,qi(F));t.setFocusedKey(q),qi(F)&&F.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(q):l&&t.replaceSelection(q)}break;case"PageDown":if(n.getKeyPageBelow){F.preventDefault();let q=n.getKeyPageBelow(t.focusedKey);H(q)}break;case"PageUp":if(n.getKeyPageAbove){F.preventDefault();let q=n.getKeyPageAbove(t.focusedKey);H(q)}break;case"a":qi(F)&&t.selectionMode==="multiple"&&a!==!0&&(F.preventDefault(),t.selectAll());break;case"Escape":!i&&t.selectedKeys.size!==0&&(F.stopPropagation(),F.preventDefault(),t.clearSelection());break;case"Tab":if(!d){if(F.shiftKey)r.current.focus();else{let q=ys(r.current,{tabbable:!0}),be,Te;do Te=q.lastChild(),Te&&(be=Te);while(Te);be&&!be.contains(document.activeElement)&&ms(be)}break}}},x=P.useRef({top:0,left:0});K$(p,"scroll",f?null:()=>{x.current={top:p.current.scrollTop,left:p.current.scrollLeft}});let $=F=>{if(t.isFocused){F.currentTarget.contains(F.target)||t.setFocused(!1);return}if(F.currentTarget.contains(F.target)){if(t.setFocused(!0),t.focusedKey==null){let V=ne=>{ne!=null&&(t.setFocusedKey(ne),l&&t.replaceSelection(ne))},G=F.relatedTarget;var H,Y;G&&F.currentTarget.compareDocumentPosition(G)&Node.DOCUMENT_POSITION_FOLLOWING?V((H=t.lastSelectedKey)!==null&&H!==void 0?H:n.getLastKey()):V((Y=t.firstSelectedKey)!==null&&Y!==void 0?Y:n.getFirstKey())}else f||(p.current.scrollTop=x.current.top,p.current.scrollLeft=x.current.left);if(!f&&t.focusedKey!=null){let V=p.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);V&&(V.contains(document.activeElement)||ms(V),B1()==="keyboard"&&Vg(V,{containingElement:r.current}))}}},N=F=>{F.currentTarget.contains(F.relatedTarget)||t.setFocused(!1)};const I=P.useRef(s);P.useEffect(()=>{if(I.current){let F=null;s==="first"&&(F=n.getFirstKey()),s==="last"&&(F=n.getLastKey());let H=t.selectedKeys;if(H.size){for(let Y of H)if(t.canSelectItem(Y)){F=Y;break}}t.setFocused(!0),t.setFocusedKey(F),F==null&&!c&&gi(r.current)}},[]);let O=P.useRef(t.focusedKey);P.useEffect(()=>{let F=B1();if(t.isFocused&&t.focusedKey!=null&&(p!=null&&p.current)){let H=p.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);H&&(F==="keyboard"||I.current)&&(f||t6(p.current,H),F!=="virtual"&&Vg(H,{containingElement:r.current}))}t.isFocused&&t.focusedKey==null&&O.current!=null&&gi(r.current),O.current=t.focusedKey,I.current=!1},[f,p,t.focusedKey,t.isFocused,r]);let U={onKeyDown:v,onFocus:$,onBlur:N,onMouseDown(F){p.current===F.target&&F.preventDefault()}},{typeSelectProps:C}=h7({keyboardDelegate:n,selectionManager:t});u||(U=Be(C,U));let j;return c||(j=t.focusedKey==null?0:-1),{collectionProps:{...U,tabIndex:j}}}function GN(e){let{selectionManager:t,key:n,ref:r,shouldSelectOnPressUp:s,shouldUseVirtualFocus:o,focus:i,isDisabled:a,onAction:l,allowsDifferentPressOrigin:u,linkBehavior:c="action"}=e,d=Zm(),f=ee=>{if(ee.pointerType==="keyboard"&&q1(ee))t.toggleSelection(n);else{if(t.selectionMode==="none")return;if(t.isLink(n)){if(c==="selection"){let te=t.getItemProps(n);d.open(r.current,ee,te.href,te.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(c==="override"||c==="none")return}t.selectionMode==="single"?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):ee&&ee.shiftKey?t.extendSelection(n):t.selectionBehavior==="toggle"||ee&&(qi(ee)||ee.pointerType==="touch"||ee.pointerType==="virtual")?t.toggleSelection(n):t.replaceSelection(n)}};P.useEffect(()=>{n===t.focusedKey&&t.isFocused&&!o&&(i?i():document.activeElement!==r.current&&gi(r.current))},[r,n,t.focusedKey,t.childFocusStrategy,t.isFocused,o]),a=a||t.isDisabled(n);let p={};!o&&!a?p={tabIndex:n===t.focusedKey?0:-1,onFocus(ee){ee.target===r.current&&t.setFocusedKey(n)}}:a&&(p.onMouseDown=ee=>{ee.preventDefault()});let g=t.isLink(n)&&c==="override",y=t.isLink(n)&&c!=="selection"&&c!=="none",E=!a&&t.canSelectItem(n)&&!g,v=(l||y)&&!a,x=v&&(t.selectionBehavior==="replace"?!E:!E||t.isEmpty),$=v&&E&&t.selectionBehavior==="replace",N=x||$,I=P.useRef(null),O=N&&E,U=P.useRef(!1),C=P.useRef(!1),j=ee=>{if(l&&l(),y){let te=t.getItemProps(n);d.open(r.current,ee,te.href,te.routerOptions)}},F={};s?(F.onPressStart=ee=>{I.current=ee.pointerType,U.current=O,ee.pointerType==="keyboard"&&(!N||b4())&&f(ee)},u?(F.onPressUp=x?null:ee=>{ee.pointerType!=="keyboard"&&E&&f(ee)},F.onPress=x?j:null):F.onPress=ee=>{if(x||$&&ee.pointerType!=="mouse"){if(ee.pointerType==="keyboard"&&!v4())return;j(ee)}else ee.pointerType!=="keyboard"&&E&&f(ee)}):(F.onPressStart=ee=>{I.current=ee.pointerType,U.current=O,C.current=x,E&&(ee.pointerType==="mouse"&&!x||ee.pointerType==="keyboard"&&(!v||b4()))&&f(ee)},F.onPress=ee=>{(ee.pointerType==="touch"||ee.pointerType==="pen"||ee.pointerType==="virtual"||ee.pointerType==="keyboard"&&N&&v4()||ee.pointerType==="mouse"&&C.current)&&(N?j(ee):E&&f(ee))}),p["data-key"]=n,F.preventFocusOnPress=o;let{pressProps:H,isPressed:Y}=Fu(F),V=$?ee=>{I.current==="mouse"&&(ee.stopPropagation(),ee.preventDefault(),j(ee))}:void 0,{longPressProps:G}=m6({isDisabled:!O,onLongPress(ee){ee.pointerType==="touch"&&(f(ee),t.setSelectionBehavior("toggle"))}}),ne=ee=>{I.current==="touch"&&U.current&&ee.preventDefault()},ce=t.isLink(n)?ee=>{To.isOpening||ee.preventDefault()}:void 0;return{itemProps:Be(p,E||x?H:{},O?G:{},{onDoubleClick:V,onDragStartCapture:ne,onClick:ce}),isPressed:Y,isSelected:t.isSelected(n),isFocused:t.isFocused&&t.focusedKey===n,isDisabled:a,allowsSelection:E,hasAction:N}}function v4(){let e=window.event;return(e==null?void 0:e.key)==="Enter"}function b4(){let e=window.event;return(e==null?void 0:e.key)===" "||(e==null?void 0:e.code)==="Space"}class m7{isDisabled(t){var n;return this.disabledBehavior==="all"&&(((n=t.props)===null||n===void 0?void 0:n.isDisabled)||this.disabledKeys.has(t.key))}getNextKey(t){for(t=this.collection.getKeyAfter(t);t!=null;){let n=this.collection.getItem(t);if(n.type==="item"&&!this.isDisabled(n))return t;t=this.collection.getKeyAfter(t)}return null}getPreviousKey(t){for(t=this.collection.getKeyBefore(t);t!=null;){let n=this.collection.getItem(t);if(n.type==="item"&&!this.isDisabled(n))return t;t=this.collection.getKeyBefore(t)}return null}findKey(t,n,r){let s=this.getItem(t);if(!s)return null;let o=s.getBoundingClientRect();do t=n(t),s=this.getItem(t);while(s&&r(o,s.getBoundingClientRect()));return t}isSameRow(t,n){return t.top===n.top||t.left!==n.left}isSameColumn(t,n){return t.left===n.left||t.top!==n.top}getKeyBelow(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,n=>this.getNextKey(n),this.isSameRow):this.getNextKey(t)}getKeyAbove(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,n=>this.getPreviousKey(n),this.isSameRow):this.getPreviousKey(t)}getNextColumn(t,n){return n?this.getPreviousKey(t):this.getNextKey(t)}getKeyRightOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="rtl"):this.findKey(t,n=>this.getNextColumn(n,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="rtl"):null}getKeyLeftOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="ltr"):this.findKey(t,n=>this.getNextColumn(n,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="ltr"):null}getFirstKey(){let t=this.collection.getFirstKey();for(;t!=null;){let n=this.collection.getItem(t);if((n==null?void 0:n.type)==="item"&&!this.isDisabled(n))return t;t=this.collection.getKeyAfter(t)}return null}getLastKey(){let t=this.collection.getLastKey();for(;t!=null;){let n=this.collection.getItem(t);if(n.type==="item"&&!this.isDisabled(n))return t;t=this.collection.getKeyBefore(t)}return null}getItem(t){return t!==null?this.ref.current.querySelector(`[data-key="${CSS.escape(t.toString())}"]`):null}getKeyPageAbove(t){let n=this.ref.current,r=this.getItem(t);if(!r)return null;if(!O1(n))return this.getFirstKey();let s=n.getBoundingClientRect(),o=r.getBoundingClientRect();if(this.orientation==="horizontal"){let i=s.x-n.scrollLeft,a=Math.max(0,o.x-i+o.width-s.width);for(;r&&o.x-i>a;)t=this.getKeyAbove(t),r=t==null?null:this.getItem(t),o=r==null?void 0:r.getBoundingClientRect()}else{let i=s.y-n.scrollTop,a=Math.max(0,o.y-i+o.height-s.height);for(;r&&o.y-i>a;)t=this.getKeyAbove(t),r=t==null?null:this.getItem(t),o=r==null?void 0:r.getBoundingClientRect()}return t??this.getFirstKey()}getKeyPageBelow(t){let n=this.ref.current,r=this.getItem(t);if(!r)return null;if(!O1(n))return this.getLastKey();let s=n.getBoundingClientRect(),o=r.getBoundingClientRect();if(this.orientation==="horizontal"){let i=s.x-n.scrollLeft,a=Math.min(n.scrollWidth,o.x-i-o.width+s.width);for(;r&&o.x-i<a;)t=this.getKeyBelow(t),r=t==null?null:this.getItem(t),o=r==null?void 0:r.getBoundingClientRect()}else{let i=s.y-n.scrollTop,a=Math.min(n.scrollHeight,o.y-i-o.height+s.height);for(;r&&o.y-i<a;)t=this.getKeyBelow(t),r=t==null?null:this.getItem(t),o=r==null?void 0:r.getBoundingClientRect()}return t??this.getLastKey()}getKeyForSearch(t,n){if(!this.collator)return null;let r=this.collection,s=n||this.getFirstKey();for(;s!=null;){let o=r.getItem(s),i=o.textValue.slice(0,t.length);if(o.textValue&&this.collator.compare(i,t)===0)return s;s=this.getKeyBelow(s)}return null}constructor(...t){if(t.length===1){let n=t[0];this.collection=n.collection,this.ref=n.ref,this.collator=n.collator,this.disabledKeys=n.disabledKeys||new Set,this.disabledBehavior=n.disabledBehavior||"all",this.orientation=n.orientation,this.direction=n.direction,this.layout=n.layout||"stack"}else this.collection=t[0],this.disabledKeys=t[1],this.ref=t[2],this.collator=t[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all";this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function qN(e){let{selectionManager:t,collection:n,disabledKeys:r,ref:s,keyboardDelegate:o}=e,i=r6({usage:"search",sensitivity:"base"}),a=t.disabledBehavior,l=P.useMemo(()=>o||new m7({collection:n,disabledKeys:r,disabledBehavior:a,ref:s,collator:i}),[o,n,r,s,i,a]),{collectionProps:u}=HN({...e,ref:s,selectionManager:t,keyboardDelegate:l});return{listProps:u}}var XN=e=>J.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:J.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})}),YN=({strokeWidth:e=1.5,...t})=>J.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:e,viewBox:"0 0 24 24",width:"1em",...t,children:J.jsx("path",{d:"m6 9 6 6 6-6"})});const o3=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Kf=P.createContext({}),i3=P.createContext(null),a3=typeof document<"u",l3=a3?P.useLayoutEffect:P.useEffect,u3=P.createContext({strict:!1}),c3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JN="framerAppearId",g7="data-"+c3(JN),QN={skipAnimations:!1,useManualTiming:!1};class w4{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ZN(e){let t=new w4,n=new w4,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&s,f=d?t:n;return u&&i.add(l),f.add(l)&&d&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];i.has(c)&&(a.schedule(c),e()),c(l)}s=!1,o&&(o=!1,a.process(l))}};return a}const Mc=["read","resolveKeyframes","update","preRender","render","postRender"],eC=40;function y7(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Mc.reduce((d,f)=>(d[f]=ZN(()=>n=!0),d),{}),i=d=>{o[d].process(s)},a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,eC),1),s.timestamp=d,s.isProcessing=!0,Mc.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:Mc.reduce((d,f)=>{const p=o[f];return d[f]=(g,y=!1,E=!1)=>(n||l(),p.schedule(g,y,E)),d},{}),cancel:d=>Mc.forEach(f=>o[f].cancel(d)),state:s,steps:o}}const{schedule:tC,cancel:HQ}=y7(queueMicrotask,!1);function nC(e,t,n,r){const{visualElement:s}=P.useContext(Kf),o=P.useContext(u3),i=P.useContext(i3),a=P.useContext(o3).reducedMotion,l=P.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;P.useInsertionEffect(()=>{u&&u.update(n,i)});const c=P.useRef(!!(n[g7]&&!window.HandoffComplete));return l3(()=>{u&&(tC.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())}),P.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function v7(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rC(e,t,n){return P.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):v7(n)&&(n.current=r))},[t])}function vu(e){return typeof e=="string"||Array.isArray(e)}function Uf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const d3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f3=["initial",...d3];function Wf(e){return Uf(e.animate)||f3.some(t=>vu(e[t]))}function b7(e){return!!(Wf(e)||e.variants)}function sC(e,t){if(Wf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||vu(n)?n:void 0,animate:vu(r)?r:void 0}}return e.inherit!==!1?t:{}}function oC(e){const{initial:t,animate:n}=sC(e,P.useContext(Kf));return P.useMemo(()=>({initial:t,animate:n}),[x4(t),x4(n)])}function x4(e){return Array.isArray(e)?e.join(" "):e}const S4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bu={};for(const e in S4)bu[e]={isEnabled:t=>S4[e].some(n=>!!t[n])};function X1(e){for(const t in e)bu[t]={...bu[t],...e[t]}}const w7=P.createContext({}),iC=P.createContext({}),aC=Symbol.for("motionComponentSymbol");function lC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&X1(e);function o(a,l){let u;const c={...P.useContext(o3),...a,layoutId:uC(a)},{isStatic:d}=c,f=oC(a),p=r(a,d);if(!d&&a3){f.visualElement=nC(s,p,c,t);const g=P.useContext(iC),y=P.useContext(u3).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,y,e,g))}return J.jsxs(Kf.Provider,{value:f,children:[u&&f.visualElement?J.jsx(u,{visualElement:f.visualElement,...c}):null,n(s,a,rC(p,f.visualElement,l),p,d,f.visualElement)]})}const i=P.forwardRef(o);return i[aC]=s,i}function uC({layoutId:e}){const t=P.useContext(w7).id;return t&&e!==void 0?t+"-"+e:e}function cC(e){function t(r,s={}){return lC(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const dC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p3(e){return typeof e!="string"||e.includes("-")?!1:!!(dC.indexOf(e)>-1||/[A-Z]/u.test(e))}const fC={},Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pi=new Set(Bu);function x7(e,{layout:t,layoutId:n}){return Pi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!fC[e]||e==="opacity")}const Tn=e=>!!(e&&e.getVelocity),pC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hC=Bu.length;function mC(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<hC;i++){const a=Bu[i];if(e[a]!==void 0){const l=pC[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const S7=e=>t=>typeof t=="string"&&t.startsWith(e),E7=S7("--"),gC=S7("var(--"),h3=e=>gC(e)?yC.test(e.split("/*")[0].trim()):!1,yC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vC=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Oa=(e,t,n)=>n>t?t:n<e?e:n,Ua={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xl={...Ua,transform:e=>Oa(0,1,e)},Lc={...Ua,default:1},Yl=e=>Math.round(e*1e5)/1e5,m3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,bC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,wC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ju(e){return typeof e=="string"}const zu=e=>({test:t=>ju(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Js=zu("deg"),wa=zu("%"),Ne=zu("px"),xC=zu("vh"),SC=zu("vw"),E4={...wa,parse:e=>wa.parse(e)/100,transform:e=>wa.transform(e*100)},T4={...Ua,transform:Math.round},T7={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,size:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,rotate:Js,rotateX:Js,rotateY:Js,rotateZ:Js,scale:Lc,scaleX:Lc,scaleY:Lc,scaleZ:Lc,skew:Js,skewX:Js,skewY:Js,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Xl,originX:E4,originY:E4,originZ:Ne,zIndex:T4,backgroundPositionX:Ne,backgroundPositionY:Ne,fillOpacity:Xl,strokeOpacity:Xl,numOctaves:T4};function g3(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const d in t){const f=t[d];if(E7(d)){o[d]=f;continue}const p=T7[d],g=vC(f,p);if(Pi.has(d)){if(l=!0,i[d]=g,!c)continue;f!==(p.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=g):s[d]=g}if(t.transform||(l||r?s.transform=mC(e.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${d} ${f} ${p}`}}const y3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $7(e,t,n){for(const r in t)!Tn(t[r])&&!x7(r,n)&&(e[r]=t[r])}function EC({transformTemplate:e},t,n){return P.useMemo(()=>{const r=y3();return g3(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function TC(e,t,n){const r=e.style||{},s={};return $7(s,r,e),Object.assign(s,EC(e,t,n)),s}function $C(e,t,n){const r={},s=TC(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const kC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kC.has(e)}let k7=e=>!qd(e);function NC(e){e&&(k7=t=>t.startsWith("on")?!qd(t):e(t))}try{NC(require("@emotion/is-prop-valid").default)}catch{}function CC(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(k7(s)||n===!0&&qd(s)||!t&&!qd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function $4(e,t,n){return typeof e=="string"?e:Ne.transform(t+n*e)}function _C(e,t,n){const r=$4(t,e.x,e.width),s=$4(n,e.y,e.height);return`${r} ${s}`}const PC={offset:"stroke-dashoffset",array:"stroke-dasharray"},AC={offset:"strokeDashoffset",array:"strokeDasharray"};function IC(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?PC:AC;e[o.offset]=Ne.transform(-r);const i=Ne.transform(t),a=Ne.transform(n);e[o.array]=`${i} ${a}`}function v3(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},c,d,f){if(g3(e,u,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:y}=e;p.transform&&(y&&(g.transform=p.transform),delete p.transform),y&&(s!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=_C(y,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&IC(p,i,a,l,!1)}const N7=()=>({...y3(),attrs:{}}),b3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OC(e,t,n,r){const s=P.useMemo(()=>{const o=N7();return v3(o,t,{enableHardwareAcceleration:!1},b3(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};$7(o,e.style,e),s.style={...o,...s.style}}return s}function DC(e=!1){return(n,r,s,{latestValues:o},i)=>{const l=(p3(n)?OC:$C)(r,o,i,n),u=CC(r,typeof n=="string",e),c=n!==P.Fragment?{...u,...l,ref:s}:{},{children:d}=r,f=P.useMemo(()=>Tn(d)?d.get():d,[d]);return P.createElement(n,{...c,children:f})}}function C7(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const _7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P7(e,t,n,r){C7(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(_7.has(s)?s:c3(s),t.attrs[s])}function w3(e,t,n){var r;const{style:s}=e,o={};for(const i in s)(Tn(s[i])||t.style&&Tn(t.style[i])||x7(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function A7(e,t,n){const r=w3(e,t,n);for(const s in e)if(Tn(e[s])||Tn(t[s])){const o=Bu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}function x3(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function I7(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const Y1=e=>Array.isArray(e),RC=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),FC=e=>Y1(e)?e[e.length-1]||0:e;function MC(e){const t=Tn(e)?e.get():e;return RC(t)?t.toValue():t}function LC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:BC(r,s,o,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const O7=e=>(t,n)=>{const r=P.useContext(Kf),s=P.useContext(i3),o=()=>LC(e,t,r,s);return n?o():I7(o)};function BC(e,t,n,r){const s={},o=r(e,{});for(const f in o)s[f]=MC(o[f]);let{initial:i,animate:a}=e;const l=Wf(e),u=b7(e);t&&u&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||i===!1;const d=c?a:i;return d&&typeof d!="boolean"&&!Uf(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const g=x3(e,p);if(!g)return;const{transitionEnd:y,transition:E,...v}=g;for(const x in v){let $=v[x];if(Array.isArray($)){const N=c?$.length-1:0;$=$[N]}$!==null&&(s[x]=$)}for(const x in y)s[x]=y[x]}),s}const Yr=e=>e,{schedule:an,cancel:J1,state:Xd,steps:GQ}=y7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yr,!0),jC={useVisualState:O7({scrapeMotionValuesFromProps:A7,createRenderState:N7,onMount:(e,t,{renderState:n,latestValues:r})=>{an.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),an.render(()=>{v3(n,r,{enableHardwareAcceleration:!1},b3(t.tagName),e.transformTemplate),P7(t,n)})}})},zC={useVisualState:O7({scrapeMotionValuesFromProps:w3,createRenderState:y3})};function VC(e,{forwardMotionProps:t=!1},n,r){return{...p3(e)?jC:zC,preloadedFeatures:n,useRender:DC(t),createVisualElement:r,Component:e}}function ei(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const KC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function D7(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const UC=e=>t=>KC(t)&&e(t,D7(t));function rd(e,t,n,r){return ei(e,t,UC(n),r)}const WC=(e,t)=>n=>t(e(n)),go=(...e)=>e.reduce(WC);function R7(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const HC=R7("dragHorizontal"),GC=R7("dragVertical");function qC(e){let t=!1;{const n=HC(),r=GC();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function F7(){const e=qC();return e?(e(),!1):!0}class Wa{constructor(t){this.isMounted=!1,this.node=t}update(){}}function k4(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(o,i)=>{if(o.pointerType==="touch"||F7())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[r];l&&an.postRender(()=>l(o,i))};return rd(e.current,n,s,{passive:!e.getProps()[r]})}class XC extends Wa{mount(){this.unmount=go(k4(this.node,!0),k4(this.node,!1))}unmount(){}}class YC extends Wa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=go(ei(this.node.current,"focus",()=>this.onFocus()),ei(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const M7=(e,t)=>t?e===t?!0:M7(e,t.parentElement):!1;function nh(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,D7(n))}class JC extends Wa{constructor(){super(...arguments),this.removeStartListeners=Yr,this.removeEndListeners=Yr,this.removeAccessibleListeners=Yr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=rd(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps(),f=!d&&!M7(this.node.current,a.target)?c:u;f&&an.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=rd(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=go(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||nh("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&an.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=ei(this.node.current,"keyup",i),nh("down",(a,l)=>{this.startPress(a,l)})},n=ei(this.node.current,"keydown",t),r=()=>{this.isPressing&&nh("cancel",(o,i)=>this.cancelPress(o,i))},s=ei(this.node.current,"blur",r);this.removeAccessibleListeners=go(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&an.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!F7()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&an.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=rd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ei(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=go(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Q1=new WeakMap,rh=new WeakMap,QC=e=>{const t=Q1.get(e.target);t&&t(e)},ZC=e=>{e.forEach(QC)};function e_({root:e,...t}){const n=e||document;rh.has(n)||rh.set(n,{});const r=rh.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(ZC,{root:e,...t})),r[s]}function t_(e,t,n){const r=e_(t);return Q1.set(e,n),r.observe(e),()=>{Q1.delete(e),r.unobserve(e)}}const n_={some:0,all:1};class r_ extends Wa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:n_[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return t_(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(s_(t,n))&&this.startObserver()}unmount(){}}function s_({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const o_={inView:{Feature:r_},tap:{Feature:JC},focus:{Feature:YC},hover:{Feature:XC}};function L7(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function i_(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function a_(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Hf(e,t,n){const r=e.getProps();return x3(r,t,n!==void 0?n:r.custom,i_(e),a_(e))}const ii=e=>e*1e3,yo=e=>e/1e3,l_={type:"spring",stiffness:500,damping:25,restSpeed:10},u_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),c_={type:"keyframes",duration:.8},d_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f_=(e,{keyframes:t})=>t.length>2?c_:Pi.has(e)?e.startsWith("scale")?u_(t[1]):l_:d_;function p_({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function B7(e,t){return e[t]||e.default||e}const h_=e=>e!==null;function Gf(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(h_),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}let sd;function m_(){sd=void 0}const xa={now:()=>(sd===void 0&&xa.set(Xd.isProcessing||QN.useManualTiming?Xd.timestamp:performance.now()),sd),set:e=>{sd=e,queueMicrotask(m_)}},j7=e=>/^0[^.\s]+$/u.test(e);function g_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||j7(e):!0}let Z1=Yr;const z7=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),y_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function v_(e){const t=y_.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function V7(e,t,n=1){const[r,s]=v_(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return z7(i)?parseFloat(i):i}return h3(s)?V7(s,t,n+1):s}const b_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),N4=e=>e===Ua||e===Ne,C4=(e,t)=>parseFloat(e.split(", ")[t]),_4=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return C4(s[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?C4(o[1],e):0}},w_=new Set(["x","y","z"]),x_=Bu.filter(e=>!w_.has(e));function S_(e){const t=[];return x_.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Da={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_4(4,13),y:_4(5,14)};Da.translateX=Da.x;Da.translateY=Da.y;const K7=e=>t=>t.test(e),E_={test:e=>e==="auto",parse:e=>e},U7=[Ua,Ne,wa,Js,SC,xC,E_],P4=e=>U7.find(K7(e)),ai=new Set;let e2=!1,t2=!1;function W7(){if(t2){const e=Array.from(ai).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=S_(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}t2=!1,e2=!1,ai.forEach(e=>e.complete()),ai.clear()}function H7(){ai.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(t2=!0)})}function T_(){H7(),W7()}class S3{constructor(t,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ai.add(this),e2||(e2=!0,an.read(H7),an.resolveKeyframes(W7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ai.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ai.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const E3=(e,t)=>n=>!!(ju(n)&&wC.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),G7=(e,t,n)=>r=>{if(!ju(r))return r;const[s,o,i,a]=r.match(m3);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},$_=e=>Oa(0,255,e),sh={...Ua,transform:e=>Math.round($_(e))},ti={test:E3("rgb","red"),parse:G7("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+sh.transform(e)+", "+sh.transform(t)+", "+sh.transform(n)+", "+Yl(Xl.transform(r))+")"};function k_(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const n2={test:E3("#"),parse:k_,transform:ti.transform},fa={test:E3("hsl","hue"),parse:G7("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+wa.transform(Yl(t))+", "+wa.transform(Yl(n))+", "+Yl(Xl.transform(r))+")"},pn={test:e=>ti.test(e)||n2.test(e)||fa.test(e),parse:e=>ti.test(e)?ti.parse(e):fa.test(e)?fa.parse(e):n2.parse(e),transform:e=>ju(e)?e:e.hasOwnProperty("red")?ti.transform(e):fa.transform(e)};function N_(e){var t,n;return isNaN(e)&&ju(e)&&(((t=e.match(m3))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(bC))===null||n===void 0?void 0:n.length)||0)>0}const q7="number",X7="color",C_="var",__="var(",A4="${}",P_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yd(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=t.replace(P_,l=>(pn.test(l)?(r.color.push(o),s.push(X7),n.push(pn.parse(l))):l.startsWith(__)?(r.var.push(o),s.push(C_),n.push(l)):(r.number.push(o),s.push(q7),n.push(parseFloat(l))),++o,A4)).split(A4);return{values:n,split:a,indexes:r,types:s}}function Y7(e){return Yd(e).values}function J7(e){const{split:t,types:n}=Yd(e),r=t.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],s[i]!==void 0){const a=n[i];a===q7?o+=Yl(s[i]):a===X7?o+=pn.transform(s[i]):o+=s[i]}return o}}const A_=e=>typeof e=="number"?0:e;function I_(e){const t=Y7(e);return J7(e)(t.map(A_))}const Ha={test:N_,parse:Y7,createTransformer:J7,getAnimatableNone:I_},O_=new Set(["brightness","contrast","saturate","opacity"]);function D_(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(m3)||[];if(!r)return e;const s=n.replace(r,"");let o=O_.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const R_=/\b([a-z-]*)\(.*?\)/gu,r2={...Ha,getAnimatableNone:e=>{const t=e.match(R_);return t?t.map(D_).join(" "):e}},F_={...T7,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:r2,WebkitFilter:r2},T3=e=>F_[e];function Q7(e,t){let n=T3(e);return n!==r2&&(n=Ha),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const M_=new Set(["auto","none","0"]);function L_(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!M_.has(o)&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=Q7(n,s)}class Z7 extends S3{constructor(t,n,r,s){super(t,n,r,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){const u=t[l];if(typeof u=="string"&&h3(u)){const c=V7(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!b_.has(r)||t.length!==2)return;const[s,o]=t,i=P4(s),a=P4(o);if(i!==a)if(N4(i)&&N4(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)g_(t[s])&&r.push(s);r.length&&L_(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Da[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Da[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function B_(e){let t;return()=>(t===void 0&&(t=e()),t)}const I4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ha.test(e)||e==="0")&&!e.startsWith("url("));function j_(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function z_(e,t,n,r){const s=e[0];if(s===null)return!1;const o=e[e.length-1],i=I4(s,t),a=I4(o,t);return!i||!a?!1:j_(e)||n==="spring"&&r}class e8{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&T_(),this._resolved}onKeyframesResolved(t,n){this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!z_(t,r,s,o))if(i)this.options.duration=0;else{l==null||l(Gf(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function t8(e,t){return t?e*(1e3/t):0}const V_=5;function n8(e,t,n){const r=Math.max(t-V_,0);return t8(n-e(r),t-r)}const oh=.001,K_=.01,U_=10,W_=.05,H_=1;function G_({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o,i=1-t;i=Oa(W_,H_,i),e=Oa(K_,U_,yo(e)),i<1?(s=u=>{const c=u*i,d=c*e,f=c-n,p=s2(u,i),g=Math.exp(-d);return oh-f/p*g},o=u=>{const d=u*i*e,f=d*n+n,p=Math.pow(i,2)*Math.pow(u,2)*e,g=Math.exp(-d),y=s2(Math.pow(u,2),i);return(-s(u)+oh>0?-1:1)*((f-p)*g)/y}):(s=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-oh+c*d},o=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=X_(s,o,a);if(e=ii(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const q_=12;function X_(e,t,n){let r=n;for(let s=1;s<q_;s++)r=r-e(r)/t(r);return r}function s2(e,t){return e*Math.sqrt(1-t*t)}const Y_=["duration","bounce"],J_=["stiffness","damping","mass"];function O4(e,t){return t.some(n=>e[n]!==void 0)}function Q_(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!O4(e,J_)&&O4(e,Y_)){const n=G_(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function r8({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:f}=Q_({...r,velocity:-yo(r.velocity||0)}),p=d||0,g=l/(2*Math.sqrt(a*u)),y=o-s,E=yo(Math.sqrt(a/u)),v=Math.abs(y)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let x;if(g<1){const $=s2(E,g);x=N=>{const I=Math.exp(-g*E*N);return o-I*((p+g*E*y)/$*Math.sin($*N)+y*Math.cos($*N))}}else if(g===1)x=$=>o-Math.exp(-E*$)*(y+(p+E*y)*$);else{const $=E*Math.sqrt(g*g-1);x=N=>{const I=Math.exp(-g*E*N),O=Math.min($*N,300);return o-I*((p+g*E*y)*Math.sinh(O)+$*y*Math.cosh(O))/$}}return{calculatedDuration:f&&c||null,next:$=>{const N=x($);if(f)i.done=$>=c;else{let I=p;$!==0&&(g<1?I=n8(x,$,N):I=0);const O=Math.abs(I)<=n,U=Math.abs(o-N)<=t;i.done=O&&U}return i.value=i.done?o:N,i}}}function D4({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let y=n*t;const E=d+y,v=i===void 0?E:i(E);v!==E&&(y=v-d);const x=C=>-y*Math.exp(-C/r),$=C=>v+x(C),N=C=>{const j=x(C),F=$(C);f.done=Math.abs(j)<=u,f.value=f.done?v:F};let I,O;const U=C=>{p(f.value)&&(I=C,O=r8({keyframes:[f.value,g(f.value)],velocity:n8($,C,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:c}))};return U(0),{calculatedDuration:null,next:C=>{let j=!1;return!O&&I===void 0&&(j=!0,N(C),U(C)),I!==void 0&&C>=I?O.next(C-I):(!j&&N(C),f)}}}const s8=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Z_=1e-7,eP=12;function tP(e,t,n,r,s){let o,i,a=0;do i=t+(n-t)/2,o=s8(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>Z_&&++a<eP);return i}function Vu(e,t,n,r){if(e===t&&n===r)return Yr;const s=o=>tP(o,0,1,e,n);return o=>o===0||o===1?o:s8(s(o),t,r)}const nP=Vu(.42,0,1,1),rP=Vu(0,0,.58,1),o8=Vu(.42,0,.58,1),sP=e=>Array.isArray(e)&&typeof e[0]!="number",i8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,a8=e=>t=>1-e(1-t),$3=e=>1-Math.sin(Math.acos(e)),oP=a8($3),iP=i8($3),l8=Vu(.33,1.53,.69,.99),k3=a8(l8),aP=i8(k3),lP=e=>(e*=2)<1?.5*k3(e):.5*(2-Math.pow(2,-10*(e-1))),R4={linear:Yr,easeIn:nP,easeInOut:o8,easeOut:rP,circIn:$3,circInOut:iP,circOut:oP,backIn:k3,backInOut:aP,backOut:l8,anticipate:lP},F4=e=>{if(Array.isArray(e)){Z1(e.length===4);const[t,n,r,s]=e;return Vu(t,n,r,s)}else if(typeof e=="string")return Z1(R4[e]!==void 0),R4[e];return e},u8=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},qf=(e,t,n)=>e+(t-e)*n;function ih(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=ih(l,a,e+1/3),o=ih(l,a,e),i=ih(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const ah=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},cP=[n2,ti,fa],dP=e=>cP.find(t=>t.test(e));function M4(e){const t=dP(e);let n=t.parse(e);return t===fa&&(n=uP(n)),n}const L4=(e,t)=>{const n=M4(e),r=M4(t),s={...n};return o=>(s.red=ah(n.red,r.red,o),s.green=ah(n.green,r.green,o),s.blue=ah(n.blue,r.blue,o),s.alpha=qf(n.alpha,r.alpha,o),ti.transform(s))};function o2(e,t){return n=>n>0?t:e}function fP(e,t){return n=>qf(e,t,n)}function N3(e){return typeof e=="number"?fP:typeof e=="string"?h3(e)?o2:pn.test(e)?L4:mP:Array.isArray(e)?c8:typeof e=="object"?pn.test(e)?L4:pP:o2}function c8(e,t){const n=[...e],r=n.length,s=e.map((o,i)=>N3(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function pP(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=N3(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function hP(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],a=e.indexes[i][s[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const mP=(e,t)=>{const n=Ha.createTransformer(t),r=Yd(e),s=Yd(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?go(c8(hP(r,s),s.values),n):o2(e,t)};function d8(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qf(e,t,n):N3(e)(e,t)}function gP(e,t,n){const r=[],s=n||d8,o=e.length-1;for(let i=0;i<o;i++){let a=s(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Yr:t;a=go(l,a)}r.push(a)}return r}function yP(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(Z1(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=gP(t,r,s),a=i.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const d=u8(e[c],e[c+1],u);return i[c](d)};return n?u=>l(Oa(e[0],e[o-1],u)):l}function vP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=u8(0,t,r);e.push(qf(n,1,s))}}function bP(e){const t=[0];return vP(t,e.length-1),t}function wP(e,t){return e.map(n=>n*t)}function xP(e,t){return e.map(()=>t||o8).splice(0,e.length-1)}function Jd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=sP(r)?r.map(F4):F4(r),o={done:!1,value:t[0]},i=wP(n&&n.length===t.length?n:bP(t),e),a=yP(i,t,{ease:Array.isArray(s)?s:xP(t,s)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const B4=2e4;function SP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<B4;)t+=n,r=e.next(t);return t>=B4?1/0:t}const EP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>an.update(t,!0),stop:()=>J1(t),now:()=>Xd.isProcessing?Xd.timestamp:xa.now()}},TP={decay:D4,inertia:D4,tween:Jd,keyframes:Jd,spring:r8},$P=e=>e/100;class C3 extends e8{constructor({KeyframeResolver:t=S3,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:s,keyframes:o}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(o,i,r,s):this.resolver=new t(o,i,r,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=TP[n]||Jd;let l,u;a!==Jd&&typeof t[0]!="number"&&(l=go($P,d8(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});o==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=SP(c));const{calculatedDuration:d}=c,f=d+s,p=f*(r+1)-s;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:y,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let $=this.currentTime,N=o;if(p){const C=Math.min(this.currentTime,c)/d;let j=Math.floor(C),F=C%1;!F&&C>=1&&(F=1),F===1&&j--,j=Math.min(j,p+1),!!(j%2)&&(g==="reverse"?(F=1-F,y&&(F-=y/d)):g==="mirror"&&(N=i)),$=Oa(0,1,F)*d}const I=x?{done:!1,value:l[0]}:N.next($);a&&(I.value=a(I.value));let{done:O}=I;!x&&u!==null&&(O=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return U&&s!==void 0&&(I.value=Gf(l,this.options,s)),E&&E(I.value),U&&this.finish(),I}get duration(){const{resolved:t}=this;return t?yo(t.calculatedDuration):0}get time(){return yo(this.currentTime)}set time(t){t=ii(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=yo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=EP,onPlay:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const f8=e=>Array.isArray(e)&&typeof e[0]=="number";function p8(e){return!!(!e||typeof e=="string"&&e in _3||f8(e)||Array.isArray(e)&&e.every(p8))}const Fl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fl([0,.65,.55,1]),circOut:Fl([.55,0,1,.45]),backIn:Fl([.31,.01,.66,-.59]),backOut:Fl([.33,1.53,.69,.99])};function kP(e){return h8(e)||_3.easeOut}function h8(e){if(e)return f8(e)?Fl(e):Array.isArray(e)?e.map(kP):_3[e]}function NP(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=h8(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const CP=B_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_P=new Set(["opacity","clipPath","filter","transform"]),Qd=10,PP=2e4;function AP(e){return e.type==="spring"||e.name==="backgroundColor"||!p8(e.ease)}function IP(e,t){const n=new C3({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let o=0;for(;!r.done&&o<PP;)r=n.sample(o),s.push(r.value),o+=Qd;return{times:void 0,keyframes:s,duration:o-Qd,ease:"linear"}}class j4 extends e8{constructor(t){super(t);const{name:n,motionValue:r,keyframes:s}=this.options;this.resolver=new Z7(s,(o,i)=>this.onKeyframesResolved(o,i),n,r),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:o,ease:i,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(AP(this.options)){const{onComplete:d,onUpdate:f,motionValue:p,...g}=this.options,y=IP(t,g);t=y.keyframes,t.length===1&&(t[1]=t[0]),s=y.duration,o=y.times,i=y.ease,a="keyframes"}const c=NP(l.owner.current,u,t,{...this.options,duration:s,times:o,ease:i});return c.startTime=xa.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;l.set(Gf(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:s,times:o,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return yo(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return yo(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ii(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Yr;const{animation:r}=n;r.timeline=t,r.onfinish=null}return Yr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=t;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:c,...d}=this.options,f=new C3({...d,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),p=ii(this.time);l.setWithVelocity(f.sample(p-Qd).value,f.sample(p).value,Qd)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=t;return CP()&&r&&_P.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}const OP=(e,t,n,r={},s,o)=>i=>{const a=B7(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ii(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:s};p_(a)||(c={...c,...f_(e,c)}),c.duration&&(c.duration=ii(c.duration)),c.repeatDelay&&(c.repeatDelay=ii(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!o&&t.get()!==void 0){const f=Gf(c.keyframes,a);if(f!==void 0){an.update(()=>{c.onUpdate(f),c.onComplete()});return}}return!o&&j4.supports(c)?new j4(c):new C3(c)};function Zd(e){return!!(Tn(e)&&e.add)}function DP(e,t){e.indexOf(t)===-1&&e.push(t)}function RP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class m8{constructor(){this.subscriptions=[]}add(t){return DP(this.subscriptions,t),()=>RP(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const z4=30,FP=e=>!isNaN(parseFloat(e));class MP{constructor(t,n={}){this.version="11.1.9",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=xa.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=FP(this.current),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=xa.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new m8);const r=this.events[t].add(n);return t==="change"?()=>{r(),an.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z4);return t8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ef(e,t){return new MP(e,t)}function LP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ef(n))}function BP(e,t){const n=Hf(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=FC(o[i]);LP(e,i,a)}}function jP({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function g8(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;const u=e.getValue("willChange");r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const p=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),g=l[f];if(g===void 0||d&&jP(d,f))continue;const y={delay:n,elapsed:0,...B7(i||{},f)};let E=!1;if(window.HandoffAppearAnimations){const $=e.getProps()[g7];if($){const N=window.HandoffAppearAnimations($,f);N!==null&&(y.elapsed=N,E=!0)}}p.start(OP(f,p,g,e.shouldReduceMotion&&Pi.has(f)?{type:!1}:y,e,E));const v=p.animation;v&&(Zd(u)&&(u.add(f),v.then(()=>u.remove(f))),c.push(v))}return a&&Promise.all(c).then(()=>{an.update(()=>{a&&BP(e,a)})}),c}function i2(e,t,n={}){var r;const s=Hf(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(g8(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=o;return zP(e,t,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function zP(e,t,n=0,r=0,s=1,o){const i=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(VP).forEach((u,c)=>{u.notify("AnimationStart",t),i.push(i2(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function VP(e,t){return e.sortNodePosition(t)}function KP(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>i2(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=i2(e,t,n);else{const s=typeof t=="function"?Hf(e,t,n.custom):t;r=Promise.all(g8(e,s,n))}return r.then(()=>{an.postRender(()=>{e.notify("AnimationComplete",t)})})}const UP=[...d3].reverse(),WP=d3.length;function HP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>KP(e,n,r)))}function GP(e){let t=HP(e);const n=XP();let r=!0;const s=l=>(u,c)=>{var d;const f=Hf(e,c,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:g,...y}=f;u={...u,...y,...g}}return u};function o(l){t=l(e)}function i(l){const u=e.getProps(),c=e.getVariantContext(!0)||{},d=[],f=new Set;let p={},g=1/0;for(let E=0;E<WP;E++){const v=UP[E],x=n[v],$=u[v]!==void 0?u[v]:c[v],N=vu($),I=v===l?x.isActive:null;I===!1&&(g=E);let O=$===c[v]&&$!==u[v]&&N;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),x.protectedKeys={...p},!x.isActive&&I===null||!$&&!x.prevProp||Uf($)||typeof $=="boolean")continue;let C=qP(x.prevProp,$)||v===l&&x.isActive&&!O&&N||E>g&&N,j=!1;const F=Array.isArray($)?$:[$];let H=F.reduce(s(v),{});I===!1&&(H={});const{prevResolvedValues:Y={}}=x,V={...Y,...H},G=ne=>{C=!0,f.has(ne)&&(j=!0,f.delete(ne)),x.needsAnimating[ne]=!0;const ce=e.getValue(ne);ce&&(ce.liveStyle=!1)};for(const ne in V){const ce=H[ne],ee=Y[ne];if(p.hasOwnProperty(ne))continue;let te=!1;Y1(ce)&&Y1(ee)?te=!L7(ce,ee):te=ce!==ee,te?ce!=null?G(ne):f.add(ne):ce!==void 0&&f.has(ne)?G(ne):x.protectedKeys[ne]=!0}x.prevProp=$,x.prevResolvedValues=H,x.isActive&&(p={...p,...H}),r&&e.blockInitialAnimation&&(C=!1),C&&(!O||j)&&d.push(...F.map(ne=>({animation:ne,options:{type:v}})))}if(f.size){const E={};f.forEach(v=>{const x=e.getBaseTarget(v),$=e.getValue(v);$&&($.liveStyle=!0),E[v]=x??null}),d.push({animation:E})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=i(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n}}function qP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!L7(t,e):!1}function jo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XP(){return{animate:jo(!0),whileInView:jo(),whileHover:jo(),whileTap:jo(),whileDrag:jo(),whileFocus:jo(),exit:jo()}}class YP extends Wa{constructor(t){super(t),t.animationState||(t.animationState=GP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Uf(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let JP=0;class QP extends Wa{constructor(){super(...arguments),this.id=JP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ZP={animation:{Feature:YP},exit:{Feature:QP}},V4=()=>({min:0,max:0}),y8=()=>({x:V4(),y:V4()});function eA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function tA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nA(e,t){return eA(tA(e.getBoundingClientRect(),t))}const a2={current:null},v8={current:!1};function rA(){if(v8.current=!0,!!a3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>a2.current=e.matches;e.addListener(t),t()}else a2.current=!1}function sA(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(Tn(o))e.addValue(s,o),Zd(r)&&r.add(s);else if(Tn(i))e.addValue(s,ef(o,{owner:e})),Zd(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=e.getStaticValue(s);e.addValue(s,ef(a!==void 0?a:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const K4=new WeakMap,oA=[...U7,pn,Ha],iA=e=>oA.find(K7(e)),b8=Object.keys(bu),aA=b8.length,U4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lA=f3.length;function w8(e){if(e)return e.options.allowProjection!==!1?e.projection:w8(e.parent)}class uA{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.resolveKeyframes=(f,p,g,y)=>new this.KeyframeResolver(f,p,g,y,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>an.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Wf(n),this.isVariantNode=b7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Tn(p)&&(p.set(l[f],!1),Zd(c)&&c.add(f))}}mount(t){this.current=t,K4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),v8.current||rA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var t;K4.delete(this.current),this.projection&&this.projection.unmount(),J1(this.notifyUpdate),J1(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(t=this.features[n])===null||t===void 0||t.unmount();this.current=null}bindToMotionValue(t,n){const r=Pi.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&an.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,a;for(let l=0;l<aA;l++){const u=b8[l],{isEnabled:c,Feature:d,ProjectionNode:f,MeasureLayout:p}=bu[u];f&&(i=f),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,w8(this.parent));const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&v7(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):y8()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<U4.length;r++){const s=U4[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=t[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=sA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<lA;r++){const s=f3[r],o=this.props[s];(vu(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ef(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(z7(s)||j7(s))?s=parseFloat(s):!iA(s)&&Ha.test(n)&&(s=Q7(t,n)),this.setBaseTarget(t,Tn(s)?s.get():s)),Tn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=x3(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Tn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new m8),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class x8 extends uA{constructor(){super(...arguments),this.KeyframeResolver=Z7}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function cA(e){return window.getComputedStyle(e)}class dA extends x8{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Pi.has(n)){const r=T3(n);return r&&r.default||0}else{const r=cA(t),s=(E7(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return nA(t,n)}build(t,n,r,s){g3(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return w3(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){C7(t,n,r,s)}}class fA extends x8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Pi.has(n)){const r=T3(n);return r&&r.default||0}return n=_7.has(n)?n:c3(n),t.getAttribute(n)}measureInstanceViewportBox(){return y8()}scrapeMotionValuesFromProps(t,n,r){return A7(t,n,r)}build(t,n,r,s){v3(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){P7(t,n,r,s)}mount(t){this.isSVGTag=b3(t.tagName),super.mount(t)}}const pA=(e,t)=>p3(e)?new fA(t,{enableHardwareAcceleration:!1}):new dA(t,{allowProjection:e!==P.Fragment,enableHardwareAcceleration:!0}),P3=cC(VC);function S8(){const e=P.useRef(!1);return l3(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function hA(){const e=S8(),[t,n]=P.useState(0),r=P.useCallback(()=>{e.current&&n(t+1)},[t]);return[P.useCallback(()=>an.postRender(r),[r]),t]}class mA extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gA({children:e,isPresent:t}){const n=P.useId(),r=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=P.useContext(o3);return P.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:u}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),J.jsx(mA,{isPresent:t,childRef:r,sizeRef:s,children:P.cloneElement(e,{ref:r})})}const lh=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=I7(yA),l=P.useId(),u=P.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?[Math.random()]:[n]);return P.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),P.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=J.jsx(gA,{isPresent:n,children:e})),J.jsx(i3.Provider,{value:u,children:e})};function yA(){return new Map}function vA(e){return P.useEffect(()=>()=>e(),[])}const Wo=e=>e.key||"";function bA(e,t){e.forEach(n=>{const r=Wo(n);t.set(r,n)})}function wA(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const E8=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=P.useContext(w7).forceRender||hA()[0],l=S8(),u=wA(e);let c=u;const d=P.useRef(new Map).current,f=P.useRef(c),p=P.useRef(new Map).current,g=P.useRef(!0);if(l3(()=>{g.current=!1,bA(u,p),f.current=c}),vA(()=>{g.current=!0,p.clear(),d.clear()}),g.current)return J.jsx(J.Fragment,{children:c.map(x=>J.jsx(lh,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i,children:x},Wo(x)))});c=[...c];const y=f.current.map(Wo),E=u.map(Wo),v=y.length;for(let x=0;x<v;x++){const $=y[x];E.indexOf($)===-1&&!d.has($)&&d.set($,void 0)}return i==="wait"&&d.size&&(c=[]),d.forEach((x,$)=>{if(E.indexOf($)!==-1)return;const N=p.get($);if(!N)return;const I=y.indexOf($);let O=x;if(!O){const U=()=>{d.delete($);const C=Array.from(p.keys()).filter(j=>!E.includes(j));if(C.forEach(j=>p.delete(j)),f.current=u.filter(j=>{const F=Wo(j);return F===$||C.includes(F)}),!d.size){if(l.current===!1)return;a(),r&&r()}};O=J.jsx(lh,{isPresent:!1,onExitComplete:U,custom:t,presenceAffectsLayout:o,mode:i,children:N},Wo(N)),d.set($,O)}c.splice(I,0,O)}),c=c.map(x=>{const $=x.key;return d.has($)?x:J.jsx(lh,{isPresent:!0,presenceAffectsLayout:o,mode:i,children:x},Wo(x))}),J.jsx(J.Fragment,{children:d.size?c:c.map(x=>P.cloneElement(x))})};function A3({children:e,features:t,strict:n=!1}){const[,r]=P.useState(!uh(t)),s=P.useRef(void 0);if(!uh(t)){const{renderer:o,...i}=t;s.current=o,X1(i)}return P.useEffect(()=>{uh(t)&&t().then(({renderer:o,...i})=>{X1(i),s.current=o,r(!0)})},[]),J.jsx(u3.Provider,{value:{renderer:s.current,strict:n},children:e})}function uh(e){return typeof e=="function"}const I3={renderer:pA,...ZP,...o_};var Wi={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},T8={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.3}},exit:{transform:"scale(0.6)",opacity:0,transition:{type:"easeOut",duration:.2}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:Wi.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:Wi.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:Wi.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:Wi.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:Wi.ease}},exit:{opacity:0,transition:{duration:.3,ease:Wi.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}};class Pr extends Set{constructor(t,n,r){super(t),t instanceof Pr?(this.anchorKey=n||t.anchorKey,this.currentKey=r||t.currentKey):(this.anchorKey=n,this.currentKey=r)}}function xA(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function SA(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:r,selectionBehavior:s="toggle",disabledBehavior:o="all"}=e,i=P.useRef(!1),[,a]=P.useState(!1),l=P.useRef(null),u=P.useRef(null),[,c]=P.useState(null),d=P.useMemo(()=>W4(e.selectedKeys),[e.selectedKeys]),f=P.useMemo(()=>W4(e.defaultSelectedKeys,new Pr),[e.defaultSelectedKeys]),[p,g]=n6(d,f,e.onSelectionChange),y=P.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[E,v]=P.useState(s);s==="replace"&&E==="toggle"&&typeof p=="object"&&p.size===0&&v("replace");let x=P.useRef(s);return P.useEffect(()=>{s!==x.current&&(v(s),x.current=s)},[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:E,setSelectionBehavior:v,get isFocused(){return i.current},setFocused($){i.current=$,a($)},get focusedKey(){return l.current},get childFocusStrategy(){return u.current},setFocusedKey($,N="first"){l.current=$,u.current=N,c($)},selectedKeys:p,setSelectedKeys($){(r||!xA($,p))&&g($)},disabledKeys:y,disabledBehavior:o}}function W4(e,t){return e?e==="all"?"all":new Pr(e):t}function $8(e){return null}$8.getCollectionNode=function*(t,n){let{childItems:r,title:s,children:o}=t,i=t.title||t.children,a=t.textValue||(typeof i=="string"?i:"")||t["aria-label"]||"";!a&&!(n!=null&&n.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:t,rendered:i,textValue:a,"aria-label":t["aria-label"],hasChildNodes:EA(t),*childNodes(){if(r)for(let l of r)yield{type:"item",value:l};else if(s){let l=[];Ge.Children.forEach(o,u=>{l.push({type:"item",element:u})}),yield*l}}}};function EA(e){return e.hasChildItems!=null?e.hasChildItems:!!(e.childItems||e.title&&Ge.Children.count(e.children)>0)}let TA=$8;class $A{build(t,n){return this.context=n,H4(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:n,items:r}=t;if(typeof n=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let s of t.items)yield*this.getFullNode({value:s},{renderer:n})}else{let s=[];Ge.Children.forEach(n,i=>{s.push(i)});let o=0;for(let i of s){let a=this.getFullNode({element:i,index:o},{});for(let l of a)o++,yield l}}}getKey(t,n,r,s){if(t.key!=null)return t.key;if(n.type==="cell"&&n.key!=null)return`${s}${n.key}`;let o=n.value;if(o!=null){var i;let a=(i=o.key)!==null&&i!==void 0?i:o.id;if(a==null)throw new Error("No key found for item");return a}return s?`${s}.${n.index}`:`$.${n.index}`}getChildState(t,n){return{renderer:n.renderer||t.renderer}}*getFullNode(t,n,r,s){let o=t.element;if(!o&&t.value&&n&&n.renderer){let l=this.cache.get(t.value);if(l&&(!l.shouldInvalidate||!l.shouldInvalidate(this.context))){l.index=t.index,l.parentKey=s?s.key:null,yield l;return}o=n.renderer(t.value)}if(Ge.isValidElement(o)){let l=o.type;if(typeof l!="function"&&typeof l.getCollectionNode!="function"){let f=typeof o.type=="function"?o.type.name:o.type;throw new Error(`Unknown element <${f}> in collection.`)}let u=l.getCollectionNode(o.props,this.context),c=t.index,d=u.next();for(;!d.done&&d.value;){let f=d.value;t.index=c;let p=f.key;p||(p=f.element?null:this.getKey(o,t,n,r));let y=[...this.getFullNode({...f,key:p,index:c,wrapper:kA(t.wrapper,f.wrapper)},this.getChildState(n,f),r?`${r}${o.key}`:o.key,s)];for(let E of y){if(E.value=f.value||t.value,E.value&&this.cache.set(E.value,E),t.type&&E.type!==t.type)throw new Error(`Unsupported type <${ch(E.type)}> in <${ch(s.type)}>. Only <${ch(t.type)}> is supported.`);c++,yield E}d=u.next(y)}return}if(t.key==null)return;let i=this,a={type:t.type,props:t.props,key:t.key,parentKey:s?s.key:null,value:t.value,level:s?s.level+1:0,index:t.index,rendered:t.rendered,textValue:t.textValue,"aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes,childNodes:H4(function*(){if(!t.hasChildNodes)return;let l=0;for(let u of t.childNodes()){u.key!=null&&(u.key=`${a.key}${u.key}`),u.index=l;let c=i.getFullNode(u,i.getChildState(n,u),a.key,a);for(let d of c)l++,yield d}})};yield a}constructor(){this.cache=new WeakMap}}function H4(e){let t=[],n=null;return{*[Symbol.iterator](){for(let r of t)yield r;n||(n=e());for(let r of n)t.push(r),yield r}}}function kA(e,t){if(e&&t)return n=>e(t(n));if(e)return e;if(t)return t}function ch(e){return e[0].toUpperCase()+e.slice(1)}function NA(e,t,n){let r=P.useMemo(()=>new $A,[]),{children:s,items:o,collection:i}=e;return P.useMemo(()=>{if(i)return i;let l=r.build({children:s,items:o},n);return t(l)},[r,s,o,i,n,t])}function k8(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function CA(e){return _A(e)}function _A(e,t){for(let n of e)return n}function dh(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=[...G4(e,t),t],s=[...G4(e,n),n],o=r.slice(0,s.length).findIndex((i,a)=>i!==s[a]);return o!==-1?(t=r[o],n=s[o],t.index-n.index):r.findIndex(i=>i===n)>=0?1:(s.findIndex(i=>i===t)>=0,-1)}function G4(e,t){let n=[];for(;(t==null?void 0:t.parentKey)!=null;)t=e.getItem(t.parentKey),n.unshift(t);return n}const q4=new WeakMap;function PA(e){let t=q4.get(e);if(t!=null)return t;t=0;let n=r=>{for(let s of r)s.type==="section"?n(k8(s,e)):t++};return n(e),q4.set(e,t),t}class AA{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,n){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,n)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){return this.state.selectionMode==="none"?!1:(t=this.getKey(t),this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),n=this.state.selectedKeys;return this._isSelectAll=t.every(r=>n.has(r)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let n of this.state.selectedKeys){let r=this.collection.getItem(n);(!t||r&&dh(this.collection,r,t)<0)&&(t=r)}return t==null?void 0:t.key}get lastSelectedKey(){let t=null;for(let n of this.state.selectedKeys){let r=this.collection.getItem(n);(!t||r&&dh(this.collection,r,t)>0)&&(t=r)}return t==null?void 0:t.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}t=this.getKey(t);let n;if(this.state.selectedKeys==="all")n=new Pr([t],t,t);else{let r=this.state.selectedKeys,s=r.anchorKey||t;n=new Pr(r,s,t);for(let o of this.getKeyRange(s,r.currentKey||t))n.delete(o);for(let o of this.getKeyRange(t,s))this.canSelectItem(o)&&n.add(o)}this.state.setSelectedKeys(n)}getKeyRange(t,n){let r=this.collection.getItem(t),s=this.collection.getItem(n);return r&&s?dh(this.collection,r,s)<=0?this.getKeyRangeInternal(t,n):this.getKeyRangeInternal(n,t):[]}getKeyRangeInternal(t,n){let r=[],s=t;for(;s;){let o=this.collection.getItem(s);if((o&&o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&r.push(s),s===n)return r;s=this.collection.getKeyAfter(s)}return[]}getKey(t){let n=this.collection.getItem(t);if(!n||n.type==="cell"&&this.allowsCellSelection)return t;for(;n.type!=="item"&&n.parentKey!=null;)n=this.collection.getItem(n.parentKey);return!n||n.type!=="item"?null:n.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}if(t=this.getKey(t),t==null)return;let n=new Pr(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);n.has(t)?n.delete(t):this.canSelectItem(t)&&(n.add(t),n.anchorKey=t,n.currentKey=t),!(this.disallowEmptySelection&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(t){if(this.selectionMode==="none"||(t=this.getKey(t),t==null))return;let n=this.canSelectItem(t)?new Pr([t],t,t):new Pr;this.state.setSelectedKeys(n)}setSelectedKeys(t){if(this.selectionMode==="none")return;let n=new Pr;for(let r of t)if(r=this.getKey(r),r!=null&&(n.add(r),this.selectionMode==="single"))break;this.state.setSelectedKeys(n)}getSelectAllKeys(){let t=[],n=r=>{for(;r;){if(this.canSelectItem(r)){let s=this.collection.getItem(r);s.type==="item"&&t.push(r),s.hasChildNodes&&(this.allowsCellSelection||s.type!=="item")&&n(CA(k8(s,this.collection)).key)}r=this.collection.getKeyAfter(r)}};return n(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new Pr)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,n){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||n&&(n.pointerType==="touch"||n.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let n=this.selectedKeys;if(t.size!==n.size)return!1;for(let r of t)if(!n.has(r))return!1;for(let r of n)if(!t.has(r))return!1;return!0}canSelectItem(t){var n;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let r=this.collection.getItem(t);return!(!r||!(r==null||(n=r.props)===null||n===void 0)&&n.isDisabled||r.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){var n,r;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled))}isLink(t){var n,r;return!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.href)}getItemProps(t){var n;return(n=this.collection.getItem(t))===null||n===void 0?void 0:n.props}constructor(t,n,r){this.collection=t,this.state=n;var s;this.allowsCellSelection=(s=r==null?void 0:r.allowsCellSelection)!==null&&s!==void 0?s:!1,this._isSelectAll=null}}function IA(e){let t=ks(e,{enabled:typeof e.elementType=="string"}),n;return e.orientation==="vertical"&&(n="vertical"),e.elementType!=="hr"?{separatorProps:{...t,role:"separator","aria-orientation":n}}:{separatorProps:t}}function OA(e){const{as:t,className:n,orientation:r,...s}=e;let o=t||"hr";o==="hr"&&r==="vertical"&&(o="div");const{separatorProps:i}=IA({elementType:typeof o=="string"?o:"hr",orientation:r}),a=P.useMemo(()=>VN({orientation:r,className:n}),[r,n]),l=P.useCallback((u={})=>({className:a,role:"separator","data-orientation":r,...i,...s,...u}),[a,r,i,s]);return{Component:o,getDividerProps:l}}var N8=nr((e,t)=>{const{Component:n,getDividerProps:r}=OA({...e});return J.jsx(n,{ref:t,...r()})});N8.displayName="NextUI.Divider";var DA=N8,RA=e=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(t==null?void 0:t[e])||{}},FA=e=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[e],MA=(e,t)=>{if(t.includes("-")){const[n]=t.split("-");if(n.includes(e))return!1}return!0},X4=(e,t)=>{if(t.includes("-")){const[,n]=t.split("-");return`${e}-${n}`}return e},El=new WeakMap,cr=[];function LA(e,t=document.body){let n=new Set(e),r=new Set,s=l=>{for(let f of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(f);let u=f=>{const p=f.parentElement;if(n.has(f)||r.has(p)&&p.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let g of n)if(f.contains(g))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},c=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),d=u(l);if(d===NodeFilter.FILTER_ACCEPT&&o(l),d!==NodeFilter.FILTER_REJECT){let f=c.nextNode();for(;f!=null;)o(f),f=c.nextNode()}},o=l=>{var u;let c=(u=El.get(l))!=null?u:0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),r.add(l),El.set(l,c+1))};cr.length&&cr[cr.length-1].disconnect(),s(t);let i=new MutationObserver(l=>{for(let u of l)if(!(u.type!=="childList"||u.addedNodes.length===0)&&![...n,...r].some(c=>c.contains(u.target))){for(let c of u.removedNodes)c instanceof Element&&(n.delete(c),r.delete(c));for(let c of u.addedNodes)(c instanceof HTMLElement||c instanceof SVGElement)&&(c.dataset.liveAnnouncer==="true"||c.dataset.reactAriaTopLayer==="true")?n.add(c):c instanceof Element&&s(c)}});i.observe(t,{childList:!0,subtree:!0});let a={observe(){i.observe(t,{childList:!0,subtree:!0})},disconnect(){i.disconnect()}};return cr.push(a),()=>{i.disconnect();for(let l of r){let u=El.get(l);u!=null&&(u===1?(l.removeAttribute("aria-hidden"),El.delete(l)):El.set(l,u-1))}a===cr[cr.length-1]?(cr.pop(),cr.length&&cr[cr.length-1].observe()):cr.splice(cr.indexOf(a),1)}}var C8=globalThis!=null&&globalThis.document?P.useLayoutEffect:P.useEffect,[qQ,BA]=Wm({name:"ButtonGroupContext",strict:!1});function O3(e,t){let{elementType:n="button",isDisabled:r,onPress:s,onPressStart:o,onPressEnd:i,onPressChange:a,preventFocusOnPress:l,allowFocusWhenDisabled:u,onClick:c,href:d,target:f,rel:p,type:g="button",allowTextSelectionOnPress:y}=e,E;n==="button"?E={type:g,disabled:r}:E={role:"button",tabIndex:r?void 0:0,href:n==="a"&&r?void 0:d,target:n==="a"?f:void 0,type:n==="input"?g:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?p:void 0};let{pressProps:v,isPressed:x}=Fu({onPressStart:o,onPressEnd:i,onPressChange:a,onPress:s,isDisabled:r,preventFocusOnPress:l,allowTextSelectionOnPress:y,ref:t}),{focusableProps:$}=Lk(e,t);u&&($.tabIndex=r?-1:$.tabIndex);let N=Be($,v,Ru(e,{labelable:!0}));return{isPressed:x,buttonProps:Be(E,N,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:I=>{c==null||c(I)}})}}var _8=e=>{const{ripples:t=[],motionProps:n,color:r="currentColor",style:s,onClear:o}=e;return J.jsx(J.Fragment,{children:t.map(i=>{const a=_T(.01*i.size,.2,i.size>100?.75:.5);return J.jsx(E8,{mode:"popLayout",children:J.jsx(J.Fragment,{children:J.jsx(A3,{features:I3,children:J.jsx(P3.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:r,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:i.y,left:i.x,width:`${i.size}px`,height:`${i.size}px`,...s},transition:{duration:a},onAnimationComplete:()=>{o(i.key)},...n})})})},i.key)})})};_8.displayName="NextUI.Ripple";var P8=_8;function A8(e={}){const[t,n]=P.useState([]),r=P.useCallback(o=>{const i=o.currentTarget,a=Math.max(i.clientWidth,i.clientHeight),l=i.getBoundingClientRect();n(u=>[...u,{key:NT(u.length.toString()),size:a,x:o.clientX-l.left-a/2,y:o.clientY-l.top-a/2}])},[]),s=P.useCallback(o=>{n(i=>i.filter(a=>a.key!==o))},[]);return{ripples:t,onClick:r,onClear:s,...e}}function jA(e){var t,n,r,s,o,i,a,l;const u=BA(),c=!!u,{ref:d,as:f,children:p,startContent:g,endContent:y,autoFocus:E,className:v,spinner:x,fullWidth:$=(t=u==null?void 0:u.fullWidth)!=null?t:!1,size:N=(n=u==null?void 0:u.size)!=null?n:"md",color:I=(r=u==null?void 0:u.color)!=null?r:"default",variant:O=(s=u==null?void 0:u.variant)!=null?s:"solid",disableAnimation:U=(o=u==null?void 0:u.disableAnimation)!=null?o:!1,radius:C=u==null?void 0:u.radius,disableRipple:j=(i=u==null?void 0:u.disableRipple)!=null?i:!1,isDisabled:F=(a=u==null?void 0:u.isDisabled)!=null?a:!1,isIconOnly:H=(l=u==null?void 0:u.isIconOnly)!=null?l:!1,isLoading:Y=!1,spinnerPlacement:V="start",onPress:G,onClick:ne,...ce}=e,ee=f||"button",te=typeof ee=="string",ue=$s(d),{isFocusVisible:q,isFocused:be,focusProps:Te}=Ka({autoFocus:E}),Ee=F||Y,Ue=P.useMemo(()=>KN({size:N,color:I,variant:O,radius:C,fullWidth:$,isDisabled:Ee,isInGroup:c,disableAnimation:U,isIconOnly:H,className:v}),[N,I,O,C,$,Ee,c,H,U,v]),{onClick:Qe,onClear:We,ripples:tt}=A8(),nt=P.useCallback(Ct=>{j||Ee||U||ue.current&&Qe(Ct)},[j,Ee,U,ue,Qe]),{buttonProps:mt,isPressed:ke}=O3({elementType:f,isDisabled:Ee,onPress:G,onClick:Va(ne,nt),...ce},ue),{isHovered:Ve,hoverProps:Dt}=Mu({isDisabled:Ee}),gt=P.useCallback((Ct={})=>({"data-disabled":Me(Ee),"data-focus":Me(be),"data-pressed":Me(ke),"data-focus-visible":Me(q),"data-hover":Me(Ve),"data-loading":Me(Y),...Be(mt,Te,Dt,ks(ce,{enabled:te}),ks(Ct))}),[Y,Ee,be,ke,te,q,Ve,mt,Te,Dt,ce]),Kn=Ct=>P.isValidElement(Ct)?P.cloneElement(Ct,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,Xt=Kn(g),Yt=Kn(y),_n=P.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[N],[N]),lt=P.useCallback(()=>({ripples:tt,onClear:We}),[tt,We]);return{Component:ee,children:p,domRef:ue,spinner:x,styles:Ue,startContent:Xt,endContent:Yt,isLoading:Y,spinnerPlacement:V,spinnerSize:_n,disableRipple:j,getButtonProps:gt,getRippleProps:lt,isIconOnly:H}}function zA(e){const[t,n]=Ci(e,p4.variantKeys),{children:r,className:s,classNames:o,label:i,...a}=t,l=P.useMemo(()=>p4({...n}),[Ni(n)]),u=ut(o==null?void 0:o.base,s),c=i||r,d=P.useMemo(()=>c&&typeof c=="string"?c:a["aria-label"]?"":"Loading",[r,c,a["aria-label"]]),f=P.useCallback(()=>({"aria-label":d,className:l.base({class:u}),...a}),[d,l,u,a]);return{label:c,slots:l,classNames:o,getSpinnerProps:f}}var I8=nr((e,t)=>{const{slots:n,classNames:r,label:s,getSpinnerProps:o}=zA({...e});return J.jsxs("div",{ref:t,...o(),children:[J.jsxs("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[J.jsx("i",{className:n.circle1({class:r==null?void 0:r.circle1})}),J.jsx("i",{className:n.circle2({class:r==null?void 0:r.circle2})})]}),s&&J.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:s})]})});I8.displayName="NextUI.Spinner";var O8=I8,D8=nr((e,t)=>{const{Component:n,domRef:r,children:s,styles:o,spinnerSize:i,spinner:a=J.jsx(O8,{color:"current",size:i}),spinnerPlacement:l,startContent:u,endContent:c,isLoading:d,disableRipple:f,getButtonProps:p,getRippleProps:g,isIconOnly:y}=jA({...e,ref:t});return J.jsxs(n,{ref:r,className:o,...p(),children:[u,d&&l==="start"&&a,d&&y?null:s,d&&l==="end"&&a,c,!f&&J.jsx(P8,{...g()})]})});D8.displayName="NextUI.Button";var tf=D8,[VA,KA]=Wm({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),R8=nr((e,t)=>{var n;const{as:r,className:s,children:o,...i}=e,a=r||"div",l=$s(t),{slots:u,classNames:c}=KA(),d=ut(c==null?void 0:c.header,s);return J.jsx(a,{ref:l,className:(n=u.header)==null?void 0:n.call(u,{class:d}),...i,children:o})});R8.displayName="NextUI.CardHeader";var UA=R8;function WA(e){const[t,n]=Ci(e,g4.variantKeys),{ref:r,as:s,children:o,disableRipple:i=!1,onClick:a,onPress:l,autoFocus:u,className:c,classNames:d,allowTextSelectionOnPress:f=!0,...p}=t,g=$s(r),y=s||(e.isPressable?"button":"div"),E=typeof y=="string",v=ut(d==null?void 0:d.base,c),{onClick:x,onClear:$,ripples:N}=A8(),I=ee=>{!e.disableAnimation&&!i&&g.current&&x(ee)},{buttonProps:O,isPressed:U}=O3({onPress:l,elementType:s,isDisabled:!e.isPressable,onClick:Va(a,I),allowTextSelectionOnPress:f,...p},g),{hoverProps:C,isHovered:j}=Mu({isDisabled:!e.isHoverable,...p}),{isFocusVisible:F,isFocused:H,focusProps:Y}=Ka({autoFocus:u}),V=P.useMemo(()=>g4({...n}),[Ni(n)]),G=P.useMemo(()=>({isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,disableAnimation:e.disableAnimation,fullWidth:e.fullWidth,slots:V,classNames:d}),[V,d,e.isDisabled,e.isFooterBlurred,e.disableAnimation,e.fullWidth]),ne=P.useCallback((ee={})=>({ref:g,className:V.base({class:v}),tabIndex:e.isPressable?0:-1,"data-hover":Me(j),"data-pressed":Me(U),"data-focus":Me(H),"data-focus-visible":Me(F),"data-disabled":Me(e.isDisabled),...Be(e.isPressable?{...O,...Y,role:"button"}:{},e.isHoverable?C:{},ks(p,{enabled:E}),ks(ee))}),[g,V,v,E,e.isPressable,e.isHoverable,e.isDisabled,j,U,F,O,Y,C,p]),ce=P.useCallback(()=>({ripples:N,onClear:$}),[N,$]);return{context:G,domRef:g,Component:y,classNames:d,children:o,isHovered:j,isPressed:U,isPressable:e.isPressable,isHoverable:e.isHoverable,disableAnimation:e.disableAnimation,disableRipple:i,handleClick:I,isFocusVisible:F,getCardProps:ne,getRippleProps:ce}}var F8=nr((e,t)=>{const{children:n,context:r,Component:s,isPressable:o,disableAnimation:i,disableRipple:a,getCardProps:l,getRippleProps:u}=WA({...e,ref:t});return J.jsxs(s,{...l(),children:[J.jsx(VA,{value:r,children:n}),o&&!i&&!a&&J.jsx(P8,{...u()})]})});F8.displayName="NextUI.Card";var HA=F8;function GA(e){const[t,n]=Ci(e,y4.variantKeys),{ref:r,as:s,children:o,avatar:i,startContent:a,endContent:l,onClose:u,classNames:c,className:d,...f}=t,p=s||"div",g=$s(r),y=ut(c==null?void 0:c.base,d),E=!!u,v=e.variant==="dot",{focusProps:x,isFocusVisible:$}=Ka(),N=P.useMemo(()=>typeof o=="string"&&(o==null?void 0:o.length)===1,[o]),I=P.useMemo(()=>!!i||!!a,[i,a]),O=P.useMemo(()=>!!l||E,[l,E]),U=P.useMemo(()=>y4({...n,hasStartContent:I,hasEndContent:O,isOneChar:N,isCloseable:E,isCloseButtonFocusVisible:$}),[Ni(n),$,I,O,N,E]),{pressProps:C}=Fu({isDisabled:!!(e!=null&&e.isDisabled),onPress:u}),j=()=>({ref:g,className:U.base({class:y}),...f}),F=()=>({role:"button",tabIndex:0,className:U.closeButton({class:c==null?void 0:c.closeButton}),...Be(C,x)}),H=V=>P.isValidElement(V)?P.cloneElement(V,{className:U.avatar({class:c==null?void 0:c.avatar})}):null,Y=V=>P.isValidElement(V)?P.cloneElement(V,{className:ut("max-h-[80%]",V.props.className)}):null;return{Component:p,children:o,slots:U,classNames:c,isDot:v,isCloseable:E,startContent:H(i)||Y(a),endContent:Y(l),getCloseButtonProps:F,getChipProps:j}}var M8=nr((e,t)=>{const{Component:n,children:r,slots:s,classNames:o,isDot:i,isCloseable:a,startContent:l,endContent:u,getCloseButtonProps:c,getChipProps:d}=GA({...e,ref:t}),f=P.useMemo(()=>i&&!l?J.jsx("span",{className:s.dot({class:o==null?void 0:o.dot})}):l,[s,l,i]),p=P.useMemo(()=>a?J.jsx("span",{...c(),children:u||J.jsx(XN,{})}):u,[u,a,c]);return J.jsxs(n,{...d(),children:[f,J.jsx("span",{className:s.content({class:o==null?void 0:o.content}),children:r}),p]})});M8.displayName="NextUI.Chip";var Y4=M8;function qA(e,t,n){let{validationBehavior:r,focus:s}=e;Mt(()=>{if(r==="native"&&(n!=null&&n.current)){let l=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";n.current.setCustomValidity(l),n.current.hasAttribute("title")||(n.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(YA(n.current))}});let o=Sn(()=>{t.resetValidation()}),i=Sn(l=>{var u;t.displayValidation.isInvalid||t.commitValidation();let c=n==null||(u=n.current)===null||u===void 0?void 0:u.form;if(!l.defaultPrevented&&n&&c&&JA(c)===n.current){var d;s?s():(d=n.current)===null||d===void 0||d.focus(),h6("keyboard")}l.preventDefault()}),a=Sn(()=>{t.commitValidation()});P.useEffect(()=>{let l=n==null?void 0:n.current;if(!l)return;let u=l.form;return l.addEventListener("invalid",i),l.addEventListener("change",a),u==null||u.addEventListener("reset",o),()=>{l.removeEventListener("invalid",i),l.removeEventListener("change",a),u==null||u.removeEventListener("reset",o)}},[n,i,a,o,r])}function XA(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function YA(e){return{isInvalid:!e.validity.valid,validationDetails:XA(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function JA(e){for(let t=0;t<e.elements.length;t++){let n=e.elements[t];if(!n.validity.valid)return n}return null}const L8={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},B8={...L8,customError:!0,valid:!1},Tl={isInvalid:!1,validationDetails:L8,validationErrors:[]},QA=P.createContext({}),J4="__formValidationState"+Date.now();function ZA(e){if(e[J4]){let{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:s,commitValidation:o}=e[J4];return{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:s,commitValidation:o}}return eI(e)}function eI(e){let{isInvalid:t,validationState:n,name:r,value:s,builtinValidation:o,validate:i,validationBehavior:a="aria"}=e;n&&(t||(t=n==="invalid"));let l=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:B8}:null,u=P.useMemo(()=>Q4(tI(i,s)),[i,s]);o!=null&&o.validationDetails.valid&&(o=null);let c=P.useContext(QA),d=P.useMemo(()=>r?Array.isArray(r)?r.flatMap(F=>l2(c[F])):l2(c[r]):[],[c,r]),[f,p]=P.useState(c),[g,y]=P.useState(!1);c!==f&&(p(c),y(!1));let E=P.useMemo(()=>Q4(g?[]:d),[g,d]),v=P.useRef(Tl),[x,$]=P.useState(Tl),N=P.useRef(Tl),I=()=>{if(!O)return;U(!1);let F=u||o||v.current;fh(F,N.current)||(N.current=F,$(F))},[O,U]=P.useState(!1);return P.useEffect(I),{realtimeValidation:l||E||u||o||Tl,displayValidation:a==="native"?l||E||x:l||E||u||o||x,updateValidation(F){a==="aria"&&!fh(x,F)?$(F):v.current=F},resetValidation(){let F=Tl;fh(F,N.current)||(N.current=F,$(F)),a==="native"&&U(!1),y(!0)},commitValidation(){a==="native"&&U(!0),y(!0)}}}function l2(e){return e?Array.isArray(e)?e:[e]:[]}function tI(e,t){if(typeof e=="function"){let n=e(t);if(n&&typeof n!="boolean")return l2(n)}return[]}function Q4(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:B8}:null}function fh(e,t){return e===t?!0:e&&t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((n,r)=>n===t.validationErrors[r])&&Object.entries(e.validationDetails).every(([n,r])=>t.validationDetails[n]===r)}function j8(e){let{id:t,label:n,"aria-labelledby":r,"aria-label":s,labelElementType:o="label"}=e;t=Ns(t);let i=Ns(),a={};n?(r=r?`${i} ${r}`:i,a={id:i,htmlFor:o==="label"?t:void 0}):!r&&!s&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let l=Z5({id:t,"aria-label":s,"aria-labelledby":r});return{labelProps:a,fieldProps:l}}function nI(e){let{description:t,errorMessage:n,isInvalid:r,validationState:s}=e,{labelProps:o,fieldProps:i}=j8(e),a=mu([!!t,!!n,r,s]),l=mu([!!t,!!n,r,s]);return i=Be(i,{"aria-describedby":[a,l,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:i,descriptionProps:{id:a},errorMessageProps:{id:l}}}function z8(e){let[t,n]=n6(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const r=P.useCallback(()=>{n(!0)},[n]),s=P.useCallback(()=>{n(!1)},[n]),o=P.useCallback(()=>{n(!t)},[n,t]);return{isOpen:t,setOpen:n,open:r,close:s,toggle:o}}function rI(e,t){const{triggerRef:n,popoverRef:r,showArrow:s,offset:o=7,crossOffset:i=0,scrollRef:a,shouldFlip:l,boundaryElement:u,isDismissable:c=!0,shouldCloseOnBlur:d=!0,placement:f="top",containerPadding:p,shouldCloseOnInteractOutside:g,isNonModal:y,isKeyboardDismissDisabled:E,updatePositionDeps:v=[],...x}=e,$=y||!0,{overlayProps:N,underlayProps:I}=Bk({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:d,isDismissable:c,isKeyboardDismissDisabled:E,shouldCloseOnInteractOutside:g||(F=>{let H=n==null?void 0:n.current;return!H||!H.contains(F)})},r),{overlayProps:O,arrowProps:U,placement:C,updatePosition:j}=ek({...x,shouldFlip:l,crossOffset:i,targetRef:n,overlayRef:r,isOpen:t.isOpen,scrollRef:a,boundaryElement:u,containerPadding:p,placement:FA(f),offset:s?o+3:o,onClose:()=>{}});return C8(()=>{v.length&&j()},v),P.useEffect(()=>{if(t.isOpen&&!$&&r.current)return LA([r.current])},[$,t.isOpen,r]),{popoverProps:Be(N,O),arrowProps:U,underlayProps:I,placement:C}}function sI(e,t){let{role:n="dialog"}=e,r=mu();r=e["aria-label"]?void 0:r;let s=P.useRef(!1);return P.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){gi(t.current);let o=setTimeout(()=>{document.activeElement===t.current&&(s.current=!0,t.current&&(t.current.blur(),gi(t.current)),s.current=!1)},500);return()=>{clearTimeout(o)}}},[t]),Xk(),{dialogProps:{...Ru(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||r,onBlur:o=>{s.current&&o.stopPropagation()}},titleProps:{id:r}}}function oI(e){var t,n;const[r,s]=Ci(e,m4.variantKeys),{as:o,ref:i,children:a,state:l,triggerRef:u,scrollRef:c,defaultOpen:d,onOpenChange:f,isOpen:p,isNonModal:g=!0,shouldFlip:y=!0,containerPadding:E=12,shouldBlockScroll:v=!1,isDismissable:x=!0,shouldCloseOnBlur:$,portalContainer:N,updatePositionDeps:I,dialogProps:O,placement:U="top",triggerType:C="dialog",showArrow:j=!1,offset:F=7,crossOffset:H=0,boundaryElement:Y,isKeyboardDismissDisabled:V,shouldCloseOnInteractOutside:G,motionProps:ne,className:ce,classNames:ee,onClose:te,...ue}=r,q=o||"div",be=$s(i),Te=P.useRef(null),Ee=P.useRef(!1),Ue=P.useRef(null),Qe=u||Te,We=(t=e.disableAnimation)!=null?t:!1,tt=z8({isOpen:p,defaultOpen:d,onOpenChange:it=>{f==null||f(it),it||te==null||te()}}),nt=l||tt,{popoverProps:mt,underlayProps:ke,placement:Ve}=rI({triggerRef:Qe,isNonModal:g,popoverRef:be,placement:U,offset:F,scrollRef:c,isDismissable:x,shouldCloseOnBlur:$,boundaryElement:Y,crossOffset:H,shouldFlip:y,containerPadding:E,updatePositionDeps:I,isKeyboardDismissDisabled:V,shouldCloseOnInteractOutside:G},nt),{triggerProps:Dt}=v6({type:C},nt,Qe),{isFocusVisible:gt,isFocused:Kn,focusProps:Xt}=Ka(),{dialogProps:Yt,titleProps:_n}=sI({},Ue),lt=P.useMemo(()=>m4({...s}),[Ni(s)]),Ct=ut(ee==null?void 0:ee.base,ce),Un=(it={})=>({ref:be,...Be(mt,ue,it),style:Be(mt.style,ue.style,it.style)}),Et=(it={})=>({ref:Ue,"data-slot":"base","data-open":Me(nt.isOpen),"data-focus":Me(Kn),"data-arrow":Me(j),"data-focus-visible":Me(gt),"data-placement":X4(Ve,U),...Be(Xt,Yt,O,it),className:lt.base({class:ut(Ct)}),style:{outline:"none"}}),sr=P.useCallback((it={})=>({"data-slot":"content","data-open":Me(nt.isOpen),"data-arrow":Me(j),"data-placement":X4(Ve,U),className:lt.content({class:ut(ee==null?void 0:ee.content,it.className)})}),[lt,nt.isOpen,j,Ve,U,ee]),zr=P.useMemo(()=>MA(Ve,U)&&Ve||U,[Ve,U]),$r=P.useCallback(it=>{var rt;let rn;return it.pointerType==="touch"&&((e==null?void 0:e.backdrop)==="blur"||(e==null?void 0:e.backdrop)==="opaque")?rn=setTimeout(()=>{Ee.current=!0},100):Ee.current=!0,(rt=Dt.onPress)==null||rt.call(Dt,it),()=>{clearTimeout(rn)}},[Dt==null?void 0:Dt.onPress]),Pn=P.useCallback((it={},rt=null)=>{const{isDisabled:rn,...es}=it;return{"data-slot":"trigger","aria-haspopup":"dialog",...Be(Dt,es),onPress:$r,isDisabled:rn,className:lt.trigger({class:ut(ee==null?void 0:ee.trigger,it.className),isTriggerDisabled:rn}),ref:S$(rt,Qe)}},[nt,Dt,$r,Qe]),nn=P.useCallback((it={})=>({"data-slot":"backdrop",className:lt.backdrop({class:ee==null?void 0:ee.backdrop}),onClick:rt=>{if(!Ee.current){rt.preventDefault();return}nt.close(),Ee.current=!1},...ke,...it}),[lt,nt.isOpen,ee,ke]);return P.useEffect(()=>{if(nt.isOpen&&(be!=null&&be.current))return Wk([be==null?void 0:be.current])},[nt.isOpen,be]),{state:nt,Component:q,children:a,classNames:ee,showArrow:j,triggerRef:Qe,placement:zr,isNonModal:g,titleProps:_n,popoverRef:be,portalContainer:N,isOpen:nt.isOpen,onClose:nt.close,disableAnimation:We,shouldBlockScroll:v,backdrop:(n=e.backdrop)!=null?n:"transparent",motionProps:ne,getBackdropProps:nn,getPopoverProps:Un,getTriggerProps:Pn,getDialogProps:Et,getContentProps:sr}}var V8=nr(({children:e,motionProps:t,placement:n,disableAnimation:r,style:s={},transformOrigin:o={},...i},a)=>{let l=s;return o.originX!==void 0||o.originY!==void 0?l={...l,transformOrigin:o}:l={...l,...RA(n==="center"?"top":n)},r?J.jsx("div",{...i,ref:a,children:e}):J.jsx(A3,{features:I3,children:J.jsx(P3.div,{ref:a,animate:"enter",exit:"exit",initial:"initial",style:l,variants:T8.scaleSpringOpacity,...Be(i,t),children:e})})});V8.displayName="NextUI.FreeSoloPopoverWrapper";var K8=nr(({children:e,transformOrigin:t,...n},r)=>{const{Component:s,state:o,placement:i,backdrop:a,titleProps:l,portalContainer:u,disableAnimation:c,motionProps:d,isNonModal:f,getPopoverProps:p,getBackdropProps:g,getDialogProps:y,getContentProps:E}=oI({...n,ref:r}),v=P.useMemo(()=>a==="transparent"?null:c?J.jsx("div",{...g()}):J.jsx(A3,{features:I3,children:J.jsx(P3.div,{animate:"enter",exit:"exit",initial:"exit",variants:T8.fade,...g()})}),[a,c,g]);return J.jsxs(qk,{portalContainer:u,children:[!f&&v,J.jsx(s,{...p(),children:J.jsxs(V8,{disableAnimation:c,motionProps:d,placement:i,tabIndex:-1,transformOrigin:t,...y(),children:[!f&&J.jsx(s4,{onDismiss:o.close}),J.jsx("div",{...E(),children:typeof e=="function"?e(l):e}),J.jsx(s4,{onDismiss:o.close})]})})]})});K8.displayName="NextUI.FreeSoloPopover";var iI=K8,aI=700;function lI(){return Du()||typeof window>"u"?!1:window.screen.width<=aI}var U8={};U8={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var W8={};W8={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var H8={};H8={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var G8={};G8={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var q8={};q8={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var X8={};X8={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Y8={};Y8={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var J8={};J8={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Q8={};Q8={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Z8={};Z8={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var e9={};e9={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var t9={};t9={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var n9={};n9={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var r9={};r9={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var s9={};s9={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var o9={};o9={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var i9={};i9={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var a9={};a9={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var l9={};l9={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var u9={};u9={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var c9={};c9={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var d9={};d9={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var f9={};f9={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var p9={};p9={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var h9={};h9={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var m9={};m9={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var g9={};g9={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var y9={};y9={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var v9={};v9={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var b9={};b9={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var w9={};w9={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var x9={};x9={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var S9={};S9={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var E9={};E9={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var T9={};T9={"ar-AE":U8,"bg-BG":W8,"cs-CZ":H8,"da-DK":G8,"de-DE":q8,"el-GR":X8,"en-US":Y8,"es-ES":J8,"et-EE":Q8,"fi-FI":Z8,"fr-FR":e9,"he-IL":t9,"hr-HR":n9,"hu-HU":r9,"it-IT":s9,"ja-JP":o9,"ko-KR":i9,"lt-LT":a9,"lv-LV":l9,"nb-NO":u9,"nl-NL":c9,"pl-PL":d9,"pt-BR":f9,"pt-PT":p9,"ro-RO":h9,"ru-RU":m9,"sk-SK":g9,"sl-SI":y9,"sr-SP":v9,"sv-SE":b9,"tr-TR":w9,"uk-UA":x9,"zh-CN":S9,"zh-TW":E9};function uI(e){return e&&e.__esModule?e.default:e}function cI(e,t,n){let{type:r="menu",isDisabled:s,trigger:o="press"}=e,i=Ns(),{triggerProps:a,overlayProps:l}=v6({type:r},t,n),u=p=>{if(!s&&!(o==="longPress"&&!p.altKey)&&n&&n.current)switch(p.key){case"Enter":case" ":if(o==="longPress")return;case"ArrowDown":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),t.toggle("last");break;default:"continuePropagation"in p&&p.continuePropagation()}},c=I5(uI(T9),"@react-aria/menu"),{longPressProps:d}=m6({isDisabled:s||o!=="longPress",accessibilityDescription:c.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),f={onPressStart(p){p.pointerType!=="touch"&&p.pointerType!=="keyboard"&&!s&&t.open(p.pointerType==="virtual"?"first":null)},onPress(p){p.pointerType==="touch"&&!s&&t.toggle()}};return delete a.onPress,{menuTriggerProps:{...a,...o==="press"?f:d,id:i,onKeyDown:u},menuProps:{...l,"aria-labelledby":i,autoFocus:t.focusStrategy||!0,onClose:t.close}}}function dI(e){let t=z8(e),[n,r]=P.useState(null),[s,o]=P.useState([]),i=()=>{o([]),t.close()};return{focusStrategy:n,...t,open(u=null){r(u),t.open()},toggle(u=null){r(u),t.toggle()},close(){i()},expandedKeysStack:s,openSubmenu:(u,c)=>{o(d=>c>d.length?d:[...d.slice(0,c),u])},closeSubmenu:(u,c)=>{o(d=>d[c]===u?d.slice(0,c):d)}}}class Z4{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);return n?n.prevKey:null}getKeyAfter(t){let n=this.keyMap.get(t);return n?n.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){return this.keyMap.get(t)}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}getChildren(t){let n=this.keyMap.get(t);return(n==null?void 0:n.childNodes)||[]}constructor(t){this.keyMap=new Map,this.iterable=t;let n=o=>{if(this.keyMap.set(o.key,o),o.childNodes&&o.type==="section")for(let i of o.childNodes)n(i)};for(let o of t)n(o);let r,s=0;for(let[o,i]of this.keyMap)r?(r.nextKey=o,i.prevKey=r.key):(this.firstKey=o,i.prevKey=void 0),i.type==="item"&&(i.index=s++),r=i,r.nextKey=void 0;this.lastKey=r==null?void 0:r.key}}function $9(e){let{filter:t}=e,n=SA(e),r=P.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),s=P.useCallback(u=>t?new Z4(t(u)):new Z4(u),[t]),o=P.useMemo(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),i=NA(e,s,o),a=P.useMemo(()=>new AA(i,n),[i,n]);const l=P.useRef(null);return P.useEffect(()=>{if(n.focusedKey!=null&&!i.getItem(n.focusedKey)){const u=l.current.getItem(n.focusedKey),c=[...l.current.getKeys()].map(y=>{const E=l.current.getItem(y);return E.type==="item"?E:null}).filter(y=>y!==null),d=[...i.getKeys()].map(y=>{const E=i.getItem(y);return E.type==="item"?E:null}).filter(y=>y!==null),f=c.length-d.length;let p=Math.min(f>1?Math.max(u.index-f+1,0):u.index,d.length-1),g;for(;p>=0;){if(!a.isDisabled(d[p].key)){g=d[p];break}p<d.length-1?p++:(p>u.index&&(p=u.index),p--)}n.setFocusedKey(g?g.key:null)}l.current=i},[i,a,n,n.focusedKey]),{collection:i,disabledKeys:r,selectionManager:a}}function fI(e={}){const{domRef:t,isEnabled:n=!0,overflowCheck:r="vertical",visibility:s="auto",offset:o=0,onVisibilityChange:i,updateDeps:a=[]}=e,l=P.useRef(s);P.useEffect(()=>{const u=t==null?void 0:t.current;if(!u||!n)return;const c=(p,g,y,E,v)=>{if(s==="auto"){const x=`${E}${kT(v)}Scroll`;g&&y?(u.dataset[x]="true",u.removeAttribute(`data-${E}-scroll`),u.removeAttribute(`data-${v}-scroll`)):(u.dataset[`${E}Scroll`]=g.toString(),u.dataset[`${v}Scroll`]=y.toString(),u.removeAttribute(`data-${E}-${v}-scroll`))}else{const x=g&&y?"both":g?E:y?v:"none";x!==l.current&&(i==null||i(x),l.current=x)}},d=()=>{const p=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}];for(const{type:g,prefix:y,suffix:E}of p)if(r===g||r==="both"){const v=g==="vertical"?u.scrollTop>o:u.scrollLeft>o,x=g==="vertical"?u.scrollTop+u.clientHeight+o<u.scrollHeight:u.scrollLeft+u.clientWidth+o<u.scrollWidth;c(g,v,x,y,E)}},f=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(p=>{u.removeAttribute(`data-${p}-scroll`)})};return d(),u.addEventListener("scroll",d),s!=="auto"&&(f(),s==="both"?(u.dataset.topBottomScroll=String(r==="vertical"),u.dataset.leftRightScroll=String(r==="horizontal")):(u.dataset.topBottomScroll="false",u.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(p=>{u.dataset[`${p}Scroll`]=String(s===p)}))),()=>{u.removeEventListener("scroll",d),f()}},[...a,n,s,r,i,t])}function pI(e){var t;const[n,r]=Ci(e,d4.variantKeys),{ref:s,as:o,children:i,className:a,style:l,size:u=40,offset:c=0,visibility:d="auto",isEnabled:f=!0,onVisibilityChange:p,...g}=n,y=o||"div",E=$s(s);fI({domRef:E,offset:c,visibility:d,isEnabled:f,onVisibilityChange:p,updateDeps:[i],overflowCheck:(t=e.orientation)!=null?t:"vertical"});const v=P.useMemo(()=>d4({...r,className:a}),[Ni(r),a]);return{Component:y,styles:v,domRef:E,children:i,getBaseProps:($={})=>{var N;return{ref:E,className:v,"data-orientation":(N=e.orientation)!=null?N:"vertical",style:{"--scroll-shadow-size":`${u}px`,...l,...$.style},...g,...$}}}}var k9=nr((e,t)=>{const{Component:n,children:r,getBaseProps:s}=pI({...e,ref:t});return J.jsx(n,{...s(),children:r})});k9.displayName="NextUI.ScrollShadow";var hI=k9;function mI(e){const{collection:t,disabledKeys:n,selectionManager:r,selectionManager:{setSelectedKeys:s,selectedKeys:o,selectionMode:i}}=$9(e),a=P.useMemo(()=>!e.isLoading&&o.size!==0?Array.from(o).filter(Boolean).filter(u=>!t.getItem(`${u}`)):[],[o,t]),l=o.size!==0?Array.from(o).map(u=>t.getItem(`${u}`)).filter(Boolean):null;return a.length&&console.warn(`Select: Keys "${a.join(", ")}" passed to "selectedKeys" are not present in the collection.`),{collection:t,disabledKeys:n,selectionManager:r,selectionMode:i,selectedKeys:o,setSelectedKeys:s.bind(r),selectedItems:l}}function gI(e){const[t,n]=P.useState(!1),[r,s]=P.useState(null),o=dI(e),i=mI({...e,onSelectionChange:l=>{e.onSelectionChange!=null&&(l==="all"?e.onSelectionChange(new Set(i.collection.getKeys())):e.onSelectionChange(l)),e.selectionMode==="single"&&o.close()}}),a=ZA({...e,validationBehavior:"native",value:i.selectedKeys});return{...a,...i,...o,focusStrategy:r,close(){o.close()},open(l=null){i.collection.size!==0&&(s(l),o.open())},toggle(l=null){i.collection.size!==0&&(s(l),o.toggle(),a.commitValidation())},isFocused:t,setFocused:n}}function yI(e,t,n){const{disallowEmptySelection:r,isDisabled:s}=e,o=r6({usage:"search",sensitivity:"base"}),i=P.useMemo(()=>new m7(t.collection,t.disabledKeys,null,o),[t.collection,t.disabledKeys,o]),{menuTriggerProps:a,menuProps:l}=cI({isDisabled:s,type:"listbox"},t,n),u=I=>{if(t.selectionMode==="single")switch(I.key){case"ArrowLeft":{I.preventDefault();const O=t.selectedKeys.size>0?i.getKeyAbove(t.selectedKeys.values().next().value):i.getFirstKey();O&&t.setSelectedKeys([O]);break}case"ArrowRight":{I.preventDefault();const O=t.selectedKeys.size>0?i.getKeyBelow(t.selectedKeys.values().next().value):i.getFirstKey();O&&t.setSelectedKeys([O]);break}}},{typeSelectProps:c}=h7({keyboardDelegate:i,selectionManager:t.selectionManager,onTypeSelect(I){t.setSelectedKeys([I])}}),{isInvalid:d,validationErrors:f,validationDetails:p}=t.displayValidation,{labelProps:g,fieldProps:y,descriptionProps:E,errorMessageProps:v}=nI({...e,labelElementType:"span",isInvalid:d,errorMessage:e.errorMessage||f});c.onKeyDown=c.onKeyDownCapture,delete c.onKeyDownCapture;const x=Ru(e,{labelable:!0}),$=Be(c,a,y),N=Ns();return{labelProps:{...g,onClick:()=>{var I;e.isDisabled||((I=n.current)==null||I.focus(),h6("keyboard"))}},triggerProps:Be(x,{...$,onKeyDown:Va($.onKeyDown,u,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[N,x["aria-label"]!==void 0?x["aria-labelledby"]!==void 0?x["aria-labelledby"]:$.id:$["aria-labelledby"]].join(" "),onFocus(I){t.isFocused||(e.onFocus&&e.onFocus(I),t.setFocused(!0))},onBlur(I){t.isOpen||(e.onBlur&&e.onBlur(I),t.setFocused(!1))}}),valueProps:{id:N},menuProps:{...l,disallowEmptySelection:r,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,onBlur:I=>{I.currentTarget.contains(I.relatedTarget)||(e.onBlur&&e.onBlur(I),t.setFocused(!1))},onFocus:l==null?void 0:l.onFocus,"aria-labelledby":[y["aria-labelledby"],$["aria-label"]&&!y["aria-labelledby"]?$.id:null].filter(Boolean).join(" ")},descriptionProps:E,errorMessageProps:v,isInvalid:d,validationErrors:f,validationDetails:p}}var N9=new WeakMap;function vI(e){var t,n,r,s;const[o,i]=Ci(e,f4.variantKeys),a=(t=e.disableAnimation)!=null?t:!1,{ref:l,as:u,label:c,name:d,isLoading:f,selectorIcon:p,isOpen:g,defaultOpen:y,onOpenChange:E,startContent:v,endContent:x,description:$,renderValue:N,onSelectionChange:I,placeholder:O,children:U,disallowEmptySelection:C=!1,selectionMode:j="single",spinnerRef:F,scrollRef:H,popoverProps:Y={},scrollShadowProps:V={},listboxProps:G={},spinnerProps:ne={},validationState:ce,onChange:ee,onClose:te,className:ue,classNames:q,...be}=o,Te=$s(H),Ee={popoverProps:Be({placement:"bottom",triggerScaleOnOpen:!1,offset:5,disableAnimation:a},Y),scrollShadowProps:Be({ref:Te,isEnabled:(n=e.showScrollIndicators)!=null?n:!0,hideScrollBar:!0,offset:15},V),listboxProps:Be({disableAnimation:a},G)},Ue=u||"button",Qe=typeof Ue=="string",We=$s(l),tt=P.useRef(null),nt=P.useRef(null),mt=P.useRef(null);let ke=gI({...o,isOpen:g,selectionMode:j,disallowEmptySelection:C,children:U,isRequired:e==null?void 0:e.isRequired,isDisabled:e==null?void 0:e.isDisabled,defaultOpen:y,onOpenChange:me=>{E==null||E(me),me||te==null||te()},onSelectionChange:me=>{if(I==null||I(me),ee&&typeof ee=="function"&&We.current){const Rt={target:{...We.current,value:Array.from(me).join(","),name:We.current.name}};ee(Rt)}}});ke={...ke,...(e==null?void 0:e.isDisabled)&&{disabledKeys:new Set([...ke.collection.getKeys()])}},C8(()=>{var me;(me=We.current)!=null&&me.value&&ke.setSelectedKeys(new Set([...ke.selectedKeys,We.current.value]))},[We.current]);const{labelProps:Ve,triggerProps:Dt,valueProps:gt,menuProps:Kn,descriptionProps:Xt,errorMessageProps:Yt,isInvalid:_n,validationErrors:lt,validationDetails:Ct}=yI({...o,disallowEmptySelection:C,isDisabled:e==null?void 0:e.isDisabled},ke,tt),Un=e.isInvalid||ce==="invalid"||_n,{isPressed:Et,buttonProps:sr}=O3(Dt,tt),{focusProps:zr,isFocused:$r,isFocusVisible:Pn}=Ka(),{isHovered:nn,hoverProps:it}=Mu({isDisabled:e==null?void 0:e.isDisabled}),rt=P.useMemo(()=>{var me;return(!e.labelPlacement||e.labelPlacement==="inside")&&!c?"outside":(me=e.labelPlacement)!=null?me:"inside"},[e.labelPlacement,c]),rn=!!O,es=rt==="outside-left"||rt==="outside"&&(rn||!!e.isMultiline),Ro=rt==="inside",Ri=rt==="outside-left",Fo=ke.isOpen||rn||!!((r=ke.selectedItems)!=null&&r.length)||!!v||!!x||!!e.isMultiline,zt=!!((s=ke.selectedItems)!=null&&s.length),yt=!!c,Tt=ut(q==null?void 0:q.base,ue),Ae=P.useMemo(()=>f4({...i,isInvalid:Un,labelPlacement:rt,className:ue}),[Ni(i),Un,rt,ue]);P.useEffect(()=>{if(ke.isOpen&&mt.current&&nt.current){let me=nt.current.querySelector("[aria-selected=true] [data-label=true]"),Rt=Te.current;if(me&&Rt&&me.parentElement){let Vs=(Rt==null?void 0:Rt.getBoundingClientRect()).height;Rt.scrollTop=me.parentElement.offsetTop-Vs/2+me.parentElement.clientHeight/2}}},[ke.isOpen,a]);const Vr=typeof o.errorMessage=="function"?o.errorMessage({isInvalid:Un,validationErrors:lt,validationDetails:Ct}):o.errorMessage||(lt==null?void 0:lt.join(" ")),Ze=!!$||!!Vr;P.useEffect(()=>{if(ke.isOpen&&mt.current&&tt.current){let me=tt.current.getBoundingClientRect(),Rt=mt.current;Rt.style.width=me.width+"px"}},[ke.isOpen]);const ts=P.useCallback((me={})=>({"data-slot":"base","data-filled":Me(Fo),"data-has-value":Me(zt),"data-has-label":Me(yt),"data-has-helper":Me(Ze),className:Ae.base({class:ut(Tt,me.className)}),...me}),[Ae,Ze,zt,yt,Fo,Tt]),Mo=P.useCallback((me={})=>({ref:tt,"data-slot":"trigger","data-open":Me(ke.isOpen),"data-disabled":Me(e==null?void 0:e.isDisabled),"data-focus":Me($r),"data-pressed":Me(Et),"data-focus-visible":Me(Pn),"data-hover":Me(nn),className:Ae.trigger({class:q==null?void 0:q.trigger}),...Be(sr,zr,it,ks(be,{enabled:Qe}),ks(me))}),[Ae,tt,ke.isOpen,q==null?void 0:q.trigger,e==null?void 0:e.isDisabled,$r,Et,Pn,nn,sr,zr,it,be,Qe]),or=P.useCallback((me={})=>({state:ke,triggerRef:tt,selectRef:We,selectionMode:j,label:e==null?void 0:e.label,name:e==null?void 0:e.name,isRequired:e==null?void 0:e.isRequired,autoComplete:e==null?void 0:e.autoComplete,isDisabled:e==null?void 0:e.isDisabled,onChange:ee,...me}),[ke,j,e==null?void 0:e.label,e==null?void 0:e.autoComplete,e==null?void 0:e.name,e==null?void 0:e.isDisabled,tt]),vn=P.useCallback((me={})=>({"data-slot":"label",className:Ae.label({class:ut(q==null?void 0:q.label,me.className)}),...Ve,...me}),[Ae,q==null?void 0:q.label,Ve]),Ie=P.useCallback((me={})=>({"data-slot":"value",className:Ae.value({class:ut(q==null?void 0:q.value,me.className)}),...gt,...me}),[Ae,q==null?void 0:q.value,gt]),Fi=P.useCallback((me={})=>({"data-slot":"listboxWrapper",className:Ae.listboxWrapper({class:ut(q==null?void 0:q.listboxWrapper,me==null?void 0:me.className)}),...Be(Ee.scrollShadowProps,me)}),[Ae.listboxWrapper,q==null?void 0:q.listboxWrapper,Ee.scrollShadowProps]),Bs=(me={})=>({state:ke,ref:nt,"data-slot":"listbox",className:Ae.listbox({class:ut(q==null?void 0:q.listbox,me==null?void 0:me.className)}),...Be(Ee.listboxProps,me,Kn)}),ns=P.useCallback((me={})=>{var Rt,zs;return{state:ke,triggerRef:tt,ref:mt,"data-slot":"popover",scrollRef:nt,triggerType:"listbox",classNames:{content:Ae.popoverContent({class:ut(q==null?void 0:q.popoverContent,me.className)})},...Be(Ee.popoverProps,me),offset:ke.selectedItems&&ke.selectedItems.length>0?ke.selectedItems.length*1e-8+(((Rt=Ee.popoverProps)==null?void 0:Rt.offset)||0):(zs=Ee.popoverProps)==null?void 0:zs.offset}},[Ae,q==null?void 0:q.popoverContent,Ee.popoverProps,tt,ke,ke.selectedItems]),rs=P.useCallback(()=>({"data-slot":"selectorIcon","aria-hidden":Me(!0),"data-open":Me(ke.isOpen),className:Ae.selectorIcon({class:q==null?void 0:q.selectorIcon})}),[Ae,q==null?void 0:q.selectorIcon,ke==null?void 0:ke.isOpen]),ir=P.useCallback((me={})=>({...me,"data-slot":"innerWrapper",className:Ae.innerWrapper({class:ut(q==null?void 0:q.innerWrapper,me==null?void 0:me.className)})}),[Ae,q==null?void 0:q.innerWrapper]),js=P.useCallback((me={})=>({...me,"data-slot":"helperWrapper",className:Ae.helperWrapper({class:ut(q==null?void 0:q.helperWrapper,me==null?void 0:me.className)})}),[Ae,q==null?void 0:q.helperWrapper]),bn=P.useCallback((me={})=>({...me,...Xt,"data-slot":"description",className:Ae.description({class:ut(q==null?void 0:q.description,me==null?void 0:me.className)})}),[Ae,q==null?void 0:q.description]),ar=P.useCallback((me={})=>({...me,"data-slot":"mainWrapper",className:Ae.mainWrapper({class:ut(q==null?void 0:q.mainWrapper,me==null?void 0:me.className)})}),[Ae,q==null?void 0:q.mainWrapper]),Mi=P.useCallback((me={})=>({...me,...Yt,"data-slot":"errorMessage",className:Ae.errorMessage({class:ut(q==null?void 0:q.errorMessage,me==null?void 0:me.className)})}),[Ae,Yt,q==null?void 0:q.errorMessage]),Qa=P.useCallback((me={})=>({"aria-hidden":Me(!0),"data-slot":"spinner",color:"current",size:"sm",...ne,...me,ref:F,className:Ae.spinner({class:ut(q==null?void 0:q.spinner,me==null?void 0:me.className)})}),[Ae,F,ne,q==null?void 0:q.spinner]);return N9.set(ke,{isDisabled:e==null?void 0:e.isDisabled,isRequired:e==null?void 0:e.isRequired,name:e==null?void 0:e.name,validationBehavior:"native"}),{Component:Ue,domRef:We,state:ke,label:c,name:d,triggerRef:tt,isLoading:f,placeholder:O,startContent:v,endContent:x,description:$,selectorIcon:p,hasHelper:Ze,labelPlacement:rt,hasPlaceholder:rn,renderValue:N,selectionMode:j,disableAnimation:a,isOutsideLeft:Ri,shouldLabelBeOutside:es,shouldLabelBeInside:Ro,isInvalid:Un,errorMessage:Vr,getBaseProps:ts,getTriggerProps:Mo,getLabelProps:vn,getValueProps:Ie,getListboxProps:Bs,getPopoverProps:ns,getSpinnerProps:Qa,getMainWrapperProps:ar,getListboxWrapperProps:Fi,getHiddenSelectProps:or,getInnerWrapperProps:ir,getHelperWrapperProps:js,getDescriptionProps:bn,getErrorMessageProps:Mi,getSelectorIconProps:rs}}function bI(e,t,n){var r;let s=N9.get(t)||{},{autoComplete:o,name:i=s.name,isDisabled:a=s.isDisabled,selectionMode:l,onChange:u}=e,{validationBehavior:c,isRequired:d}=s,f=gk(),{visuallyHiddenProps:p}=e7();return W$(e.selectRef,t.selectedKeys,t.setSelectedKeys),qA({validationBehavior:c,focus:()=>{var g;return(g=n.current)==null?void 0:g.focus()}},t,e.selectRef),{containerProps:{...p,"aria-hidden":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{type:"text",tabIndex:f==null||t.isFocused||t.isOpen?-1:0,autoComplete:o,value:(r=[...t.selectedKeys].join(","))!=null?r:"",required:d,style:{fontSize:16},onFocus:()=>{var g;return(g=n.current)==null?void 0:g.focus()},disabled:a,onChange:()=>{}},selectProps:{name:i,tabIndex:-1,autoComplete:o,disabled:a,size:t.collection.size,value:l==="multiple"?[...t.selectedKeys].map(g=>String(g)):[...t.selectedKeys][0],multiple:l==="multiple",onChange:g=>{t.setSelectedKeys(g.target.value),u==null||u(g)}}}}function wI(e){var t;let{state:n,triggerRef:r,selectRef:s,label:o,name:i,isDisabled:a}=e,{containerProps:l,inputProps:u,selectProps:c}=bI({...e,selectRef:s},n,r);return n.collection.size<=300?J.jsxs("div",{...l,"data-testid":"hidden-select-container",children:[J.jsx("input",{...u}),J.jsxs("label",{children:[o,J.jsxs("select",{...c,ref:s,children:[J.jsx("option",{}),[...n.collection.getKeys()].map(d=>{let f=n.collection.getItem(d);if((f==null?void 0:f.type)==="item")return J.jsx("option",{value:f.key,children:f.textValue},f.key)})]})]})]}):i?J.jsx("input",{autoComplete:c.autoComplete,disabled:a,name:i,type:"hidden",value:(t=[...n.selectedKeys].join(","))!=null?t:""}):null}function xI(e){const{isSelected:t,disableAnimation:n,...r}=e;return J.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...r,children:J.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:n?{}:{transition:"stroke-dashoffset 200ms ease"}})})}const D3=new WeakMap;function SI(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function EI(e,t){let n=D3.get(e);if(!n)throw new Error("Unknown list");return`${n.id}-option-${SI(t)}`}function TI(e,t,n){let r=Ru(e,{labelable:!0}),s=e.selectionBehavior||"toggle",o=e.linkBehavior||(s==="replace"?"action":"override");s==="toggle"&&o==="action"&&(o="override");let{listProps:i}=qN({...e,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:o}),{focusWithinProps:a}=Vf({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),l=Ns(e.id);D3.set(t,{id:l,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:o});let{labelProps:u,fieldProps:c}=j8({...e,id:l,labelElementType:"span"});return{labelProps:u,listBoxProps:Be(r,a,t.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...Be(c,i)})}}function $I(e,t,n){var r,s;let{key:o}=e,i=D3.get(t);var a;let l=(a=e.isDisabled)!==null&&a!==void 0?a:t.selectionManager.isDisabled(o);var u;let c=(u=e.isSelected)!==null&&u!==void 0?u:t.selectionManager.isSelected(o);var d;let f=(d=e.shouldSelectOnPressUp)!==null&&d!==void 0?d:i==null?void 0:i.shouldSelectOnPressUp;var p;let g=(p=e.shouldFocusOnHover)!==null&&p!==void 0?p:i==null?void 0:i.shouldFocusOnHover;var y;let E=(y=e.shouldUseVirtualFocus)!==null&&y!==void 0?y:i==null?void 0:i.shouldUseVirtualFocus;var v;let x=(v=e.isVirtualized)!==null&&v!==void 0?v:i==null?void 0:i.isVirtualized,$=mu(),N=mu(),I={role:"option","aria-disabled":l||void 0,"aria-selected":t.selectionManager.selectionMode!=="none"?c:void 0};Eo()&&Qm()||(I["aria-label"]=e["aria-label"],I["aria-labelledby"]=$,I["aria-describedby"]=N);let O=t.collection.getItem(o);if(x){let ce=Number(O==null?void 0:O.index);I["aria-posinset"]=Number.isNaN(ce)?void 0:ce+1,I["aria-setsize"]=PA(t.collection)}let U=i!=null&&i.onAction?()=>{var ce;return i==null||(ce=i.onAction)===null||ce===void 0?void 0:ce.call(i,o)}:void 0,{itemProps:C,isPressed:j,isFocused:F,hasAction:H,allowsSelection:Y}=GN({selectionManager:t.selectionManager,key:o,ref:n,shouldSelectOnPressUp:f,allowsDifferentPressOrigin:f&&g,isVirtualized:x,shouldUseVirtualFocus:E,isDisabled:l,onAction:U||!(O==null||(r=O.props)===null||r===void 0)&&r.onAction?Va(O==null||(s=O.props)===null||s===void 0?void 0:s.onAction,U):void 0,linkBehavior:i==null?void 0:i.linkBehavior}),{hoverProps:V}=Mu({isDisabled:l||!g,onHoverStart(){Vd()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(o))}}),G=Ru(O==null?void 0:O.props);delete G.id;let ne=M$(O==null?void 0:O.props);return{optionProps:{...I,...Be(G,C,V,ne),id:EI(t,o)},labelProps:{id:$},descriptionProps:{id:N},isFocused:F,isFocusVisible:F&&Vd(),isSelected:c,isDisabled:l,isPressed:j,allowsSelection:Y,hasAction:H}}function kI(e){let{heading:t,"aria-label":n}=e,r=Ns();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}function NI(e){const[t,n]=Ci(e,h4.variantKeys),{as:r,item:s,state:o,description:i,startContent:a,endContent:l,isVirtualized:u,selectedIcon:c,className:d,classNames:f,autoFocus:p,onPress:g,onClick:y,shouldHighlightOnFocus:E,hideSelectedIcon:v=!1,isReadOnly:x=!1,...$}=t,N=e.disableAnimation,I=P.useRef(null),O=r||(e.href?"a":"li"),U=typeof O=="string",{rendered:C,key:j}=s,F=o.disabledKeys.has(j)||e.isDisabled,H=o.selectionManager.selectionMode!=="none",Y=lI(),{pressProps:V,isPressed:G}=Fu({ref:I,isDisabled:F,onPress:g}),{isHovered:ne,hoverProps:ce}=Mu({isDisabled:F}),{isFocusVisible:ee,focusProps:te}=Ka({autoFocus:p}),{isFocused:ue,isSelected:q,optionProps:be,labelProps:Te,descriptionProps:Ee}=$I({key:j,isDisabled:F,"aria-label":t["aria-label"],isVirtualized:u},o,I);let Ue=be;const Qe=P.useMemo(()=>h4({...n,isDisabled:F,disableAnimation:N}),[Ni(n),F,N]),We=ut(f==null?void 0:f.base,d);x&&(Ue=CT(Ue));const tt=P.useMemo(()=>E&&ue?!0:Y?ne||G:ne,[ne,G,ue,Y,E]),nt=(gt={})=>({ref:I,...Be({onClick:y},Ue,x?{}:Be(te,V),ce,ks($,{enabled:U}),gt),"data-selectable":Me(H),"data-focus":Me(ue),"data-hover":Me(tt),"data-disabled":Me(F),"data-selected":Me(q),"data-pressed":Me(G),"data-focus-visible":Me(ee),className:Qe.base({class:ut(We,gt.className)})}),mt=(gt={})=>({...Be(Te,gt),"data-label":Me(!0),className:Qe.title({class:f==null?void 0:f.title})}),ke=(gt={})=>({...Be(Ee,gt),className:Qe.description({class:f==null?void 0:f.description})}),Ve=(gt={})=>({...Be(gt),className:Qe.wrapper({class:f==null?void 0:f.wrapper})}),Dt=P.useCallback((gt={})=>({"aria-hidden":Me(!0),"data-disabled":Me(F),className:Qe.selectedIcon({class:f==null?void 0:f.selectedIcon}),...gt}),[F,Qe,f]);return{Component:O,domRef:I,slots:Qe,classNames:f,isSelectable:H,isSelected:q,isDisabled:F,rendered:C,description:i,startContent:a,endContent:l,selectedIcon:c,hideSelectedIcon:v,disableAnimation:N,getItemProps:nt,getLabelProps:mt,getWrapperProps:Ve,getDescriptionProps:ke,getSelectedIconProps:Dt}}var C9=nr((e,t)=>{const{Component:n,rendered:r,description:s,isSelectable:o,isSelected:i,isDisabled:a,selectedIcon:l,startContent:u,endContent:c,hideSelectedIcon:d,disableAnimation:f,getItemProps:p,getLabelProps:g,getWrapperProps:y,getDescriptionProps:E,getSelectedIconProps:v}=NI(e),x=P.useMemo(()=>{const $=J.jsx(xI,{disableAnimation:f,isSelected:i});return typeof l=="function"?l({icon:$,isSelected:i,isDisabled:a}):l||$},[l,i,a,f]);return J.jsxs(n,{...p(),children:[u,s?J.jsxs("div",{...y(),children:[J.jsx("span",{...g(),children:r}),J.jsx("span",{...E(),children:s})]}):J.jsx("span",{...g(),children:r}),o&&!d&&J.jsx("span",{...v(),children:x}),c]})});C9.displayName="NextUI.ListboxItem";var _9=C9,P9=nr(({item:e,state:t,as:n,variant:r,color:s,disableAnimation:o,className:i,classNames:a,hideSelectedIcon:l,showDivider:u=!1,dividerProps:c={},itemClasses:d,title:f,...p},g)=>{const y=n||"li",E=P.useMemo(()=>zN(),[]),v=ut(a==null?void 0:a.base,i),x=ut(a==null?void 0:a.divider,c==null?void 0:c.className),{itemProps:$,headingProps:N,groupProps:I}=kI({heading:e.rendered,"aria-label":e["aria-label"]});return J.jsxs(y,{"data-slot":"base",...Be($,p),className:E.base({class:v}),children:[e.rendered&&J.jsx("span",{...N,className:E.heading({class:a==null?void 0:a.heading}),"data-slot":"heading",children:e.rendered}),J.jsxs("ul",{...I,className:E.group({class:a==null?void 0:a.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(O=>{const{key:U,props:C}=O;let j=J.jsx(_9,{classNames:d,color:s,disableAnimation:o,hideSelectedIcon:l,item:O,state:t,variant:r,...C},U);return O.wrapper&&(j=O.wrapper(j)),j}),u&&J.jsx(DA,{as:"li",className:E.divider({class:x}),...c})]})]},e.key)});P9.displayName="NextUI.ListboxSection";var CI=P9;function _I(e){const{ref:t,as:n,state:r,variant:s,color:o,onAction:i,children:a,onSelectionChange:l,disableAnimation:u,itemClasses:c,className:d,topContent:f,bottomContent:p,emptyContent:g="No items.",hideSelectedIcon:y=!1,hideEmptyContent:E=!1,shouldHighlightOnFocus:v=!1,classNames:x,...$}=e,N=n||"ul",I=typeof N=="string",O=$s(t),U=$9({...e,children:a,onSelectionChange:l}),C=r||U,{listBoxProps:j}=TI({...e,onAction:i},C,O),F=P.useMemo(()=>jN({className:d}),[d]),H=ut(x==null?void 0:x.base,d);return{Component:N,state:C,variant:s,color:o,slots:F,classNames:x,topContent:f,bottomContent:p,emptyContent:g,hideEmptyContent:E,shouldHighlightOnFocus:v,hideSelectedIcon:y,disableAnimation:u,className:d,itemClasses:c,getBaseProps:(ne={})=>({ref:O,"data-slot":"base",className:F.base({class:H}),...ks($,{enabled:I}),...ne}),getListProps:(ne={})=>({"data-slot":"list",className:F.list({class:x==null?void 0:x.list}),...j,...ne}),getEmptyContentProps:(ne={})=>({"data-slot":"empty-content",children:g,className:F.emptyContent({class:x==null?void 0:x.emptyContent}),...ne})}}function A9(e,t){const{Component:n,state:r,color:s,variant:o,itemClasses:i,getBaseProps:a,topContent:l,bottomContent:u,hideEmptyContent:c,hideSelectedIcon:d,shouldHighlightOnFocus:f,disableAnimation:p,getEmptyContentProps:g,getListProps:y}=_I({...e,ref:t}),E=J.jsxs(n,{...y(),children:[!r.collection.size&&!c&&J.jsx("li",{children:J.jsx("div",{...g()})}),[...r.collection].map(v=>{var x;const $={color:s,item:v,state:r,variant:o,disableAnimation:p,hideSelectedIcon:d,...v.props};if(v.type==="section")return J.jsx(CI,{...$,itemClasses:i},v.key);let N=J.jsx(_9,{...$,classNames:Be(i,(x=v.props)==null?void 0:x.classNames),shouldHighlightOnFocus:f},v.key);return v.wrapper&&(N=v.wrapper(N)),N})]});return J.jsxs("div",{...a(),children:[l,E,u]})}A9.displayName="NextUI.Listbox";var PI=nr(A9),AI=TA,II=AI;function I9(e,t){const{Component:n,state:r,label:s,hasHelper:o,isLoading:i,triggerRef:a,selectorIcon:l=J.jsx(YN,{}),description:u,errorMessage:c,isInvalid:d,startContent:f,endContent:p,placeholder:g,renderValue:y,isOutsideLeft:E,disableAnimation:v,getBaseProps:x,getLabelProps:$,getTriggerProps:N,getValueProps:I,getListboxProps:O,getPopoverProps:U,getSpinnerProps:C,getMainWrapperProps:j,getInnerWrapperProps:F,getHiddenSelectProps:H,getHelperWrapperProps:Y,getListboxWrapperProps:V,getDescriptionProps:G,getErrorMessageProps:ne,getSelectorIconProps:ce}=vI({...e,ref:t}),ee=s?J.jsx("label",{...$(),children:s}):null,te=P.cloneElement(l,ce()),ue=P.useMemo(()=>o?J.jsx("div",{...Y(),children:d&&c?J.jsx("div",{...ne(),children:c}):u?J.jsx("div",{...G(),children:u}):null}):null,[o,d,c,u,Y,ne,G]),q=P.useMemo(()=>{if(!r.selectedItems)return g;if(y&&typeof y=="function"){const Ee=[...r.selectedItems].map(Ue=>({key:Ue.key,data:Ue.value,type:Ue.type,props:Ue.props,textValue:Ue.textValue,rendered:Ue.rendered,"aria-label":Ue["aria-label"]}));return y(Ee)}return r.selectedItems.map(Ee=>Ee.textValue).join(", ")},[r.selectedItems,y,g]),be=P.useMemo(()=>i?J.jsx(O8,{...C()}):te,[i,te,C]),Te=P.useMemo(()=>r.isOpen?J.jsx(iI,{...U(),shouldCloseOnInteractOutside:void 0,state:r,triggerRef:a,children:J.jsx(hI,{...V(),children:J.jsx(PI,{...O()})})}):null,[r.isOpen,U,r,a,V,O]);return J.jsxs("div",{...x(),children:[J.jsx(wI,{...H()}),E?ee:null,J.jsxs("div",{...j(),children:[J.jsxs(n,{...N(),children:[E?null:ee,J.jsxs("div",{...F(),children:[f,J.jsxs("span",{...I(),children:[q,r.selectedItems&&J.jsx(t7,{children:","})]}),p]}),be]}),ue]}),v?Te:J.jsx(E8,{children:Te})]})}var OI=nr(I9);I9.displayName="NextUI.Select";var nf=["light","dark"],R3="(prefers-color-scheme: dark)",DI=typeof window>"u",F3=P.createContext(void 0),RI={setTheme:e=>{},themes:[]},FI=()=>{var e;return(e=P.useContext(F3))!=null?e:RI},MI=e=>P.useContext(F3)?e.children:P.createElement(BI,{...e}),LI=["light","dark"],BI=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=LI,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:c})=>{let[d,f]=P.useState(()=>ey(s,i)),[p,g]=P.useState(()=>ey(s)),y=l?Object.values(l):o,E=P.useCallback(N=>{let I=N;if(!I)return;N==="system"&&n&&(I=ty());let O=l?l[I]:I,U=t?zI():null,C=document.documentElement;if(a==="class"?(C.classList.remove(...y),O&&C.classList.add(O)):O?C.setAttribute(a,O):C.removeAttribute(a),r){let j=nf.includes(i)?i:null,F=nf.includes(I)?I:j;C.style.colorScheme=F}U==null||U()},[]),v=P.useCallback(N=>{let I=typeof N=="function"?N(N):N;f(I);try{localStorage.setItem(s,I)}catch{}},[e]),x=P.useCallback(N=>{let I=ty(N);g(I),d==="system"&&n&&!e&&E("system")},[d,e]);P.useEffect(()=>{let N=window.matchMedia(R3);return N.addListener(x),x(N),()=>N.removeListener(x)},[x]),P.useEffect(()=>{let N=I=>{if(I.key!==s)return;let O=I.newValue||i;v(O)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[v]),P.useEffect(()=>{E(e??d)},[e,d]);let $=P.useMemo(()=>({theme:d,setTheme:v,forcedTheme:e,resolvedTheme:d==="system"?p:d,themes:n?[...o,"system"]:o,systemTheme:n?p:void 0}),[d,v,e,p,n,o]);return P.createElement(F3.Provider,{value:$},P.createElement(jI,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:l,children:u,attrs:y,nonce:c}),u)},jI=P.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?nf.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,y=!1,E=!0)=>{let v=i?i[g]:g,x=y?g+"|| ''":`'${v}'`,$="";return s&&E&&!y&&nf.includes(g)&&($+=`d.style.colorScheme = '${g}';`),n==="class"?y||v?$+=`c.add(${x})`:$+="null":v&&($+=`d[s](n,${x})`),$},p=e?`!function(){${c}${f(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${R3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${d}}catch(t){}}();`;return P.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),ey=(e,t)=>{if(DI)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},zI=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},ty=e=>(e||(e=window.matchMedia(R3)),e.matches?"dark":"light");(function(){var e;function t(m){var w=0;return function(){return w<m.length?{done:!1,value:m[w++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,T){return m==Array.prototype||m==Object.prototype||(m[w]=T.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ln=="object"&&Ln];for(var w=0;w<m.length;++w){var T=m[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=r(this);function o(m,w){if(w)e:{var T=s;m=m.split(".");for(var L=0;L<m.length-1;L++){var X=m[L];if(!(X in T))break e;T=T[X]}m=m[m.length-1],L=T[m],w=w(L),w!=L&&w!=null&&n(T,m,{configurable:!0,writable:!0,value:w})}}o("Symbol",function(m){function w(re){if(this instanceof w)throw new TypeError("Symbol is not a constructor");return new T(L+(re||"")+"_"+X++,re)}function T(re,Q){this.g=re,n(this,"description",{configurable:!0,writable:!0,value:Q})}if(m)return m;T.prototype.toString=function(){return this.g};var L="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",X=0;return w}),o("Symbol.iterator",function(m){if(m)return m;m=Symbol("Symbol.iterator");for(var w="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),T=0;T<w.length;T++){var L=s[w[T]];typeof L=="function"&&typeof L.prototype[m]!="function"&&n(L.prototype,m,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return m});function i(m){return m={next:m},m[Symbol.iterator]=function(){return this},m}function a(m){var w=typeof Symbol<"u"&&Symbol.iterator&&m[Symbol.iterator];return w?w.call(m):{next:t(m)}}function l(m){if(!(m instanceof Array)){m=a(m);for(var w,T=[];!(w=m.next()).done;)T.push(w.value);m=T}return m}var u=typeof Object.create=="function"?Object.create:function(m){function w(){}return w.prototype=m,new w},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var d;e:{var f={a:!0},p={};try{p.__proto__=f,d=p.a;break e}catch{}d=!1}c=d?function(m,w){if(m.__proto__=w,m.__proto__!==w)throw new TypeError(m+" is not extensible");return m}:null}var g=c;function y(m,w){if(m.prototype=u(w.prototype),m.prototype.constructor=m,g)g(m,w);else for(var T in w)if(T!="prototype")if(Object.defineProperties){var L=Object.getOwnPropertyDescriptor(w,T);L&&Object.defineProperty(m,T,L)}else m[T]=w[T];m.ea=w.prototype}function E(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function v(m){if(m.l)throw new TypeError("Generator is already running");m.l=!0}E.prototype.o=function(m){this.h=m};function x(m,w){m.j={U:w,V:!0},m.g=m.m||m.s}E.prototype.return=function(m){this.j={return:m},this.g=this.s};function $(m,w,T){return m.g=T,{value:w}}function N(m){this.g=new E,this.h=m}function I(m,w){v(m.g);var T=m.g.i;return T?O(m,"return"in T?T.return:function(L){return{value:L,done:!0}},w,m.g.return):(m.g.return(w),U(m))}function O(m,w,T,L){try{var X=w.call(m.g.i,T);if(!(X instanceof Object))throw new TypeError("Iterator result "+X+" is not an object");if(!X.done)return m.g.l=!1,X;var re=X.value}catch(Q){return m.g.i=null,x(m.g,Q),U(m)}return m.g.i=null,L.call(m.g,re),U(m)}function U(m){for(;m.g.g;)try{var w=m.h(m.g);if(w)return m.g.l=!1,{value:w.value,done:!1}}catch(T){m.g.h=void 0,x(m.g,T)}if(m.g.l=!1,m.g.j){if(w=m.g.j,m.g.j=null,w.V)throw w.U;return{value:w.return,done:!0}}return{value:void 0,done:!0}}function C(m){this.next=function(w){return v(m.g),m.g.i?w=O(m,m.g.i.next,w,m.g.o):(m.g.o(w),w=U(m)),w},this.throw=function(w){return v(m.g),m.g.i?w=O(m,m.g.i.throw,w,m.g.o):(x(m.g,w),w=U(m)),w},this.return=function(w){return I(m,w)},this[Symbol.iterator]=function(){return this}}function j(m,w){return w=new C(new N(w)),g&&m.prototype&&g(w,m.prototype),w}function F(m,w){m instanceof String&&(m+="");var T=0,L=!1,X={next:function(){if(!L&&T<m.length){var re=T++;return{value:w(re,m[re]),done:!1}}return L=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}var H=typeof Object.assign=="function"?Object.assign:function(m,w){for(var T=1;T<arguments.length;T++){var L=arguments[T];if(L)for(var X in L)Object.prototype.hasOwnProperty.call(L,X)&&(m[X]=L[X])}return m};o("Object.assign",function(m){return m||H}),o("Promise",function(m){function w(Q){this.h=0,this.i=void 0,this.g=[],this.o=!1;var oe=this.j();try{Q(oe.resolve,oe.reject)}catch(fe){oe.reject(fe)}}function T(){this.g=null}function L(Q){return Q instanceof w?Q:new w(function(oe){oe(Q)})}if(m)return m;T.prototype.h=function(Q){if(this.g==null){this.g=[];var oe=this;this.i(function(){oe.l()})}this.g.push(Q)};var X=s.setTimeout;T.prototype.i=function(Q){X(Q,0)},T.prototype.l=function(){for(;this.g&&this.g.length;){var Q=this.g;this.g=[];for(var oe=0;oe<Q.length;++oe){var fe=Q[oe];Q[oe]=null;try{fe()}catch(we){this.j(we)}}}this.g=null},T.prototype.j=function(Q){this.i(function(){throw Q})},w.prototype.j=function(){function Q(we){return function(Ce){fe||(fe=!0,we.call(oe,Ce))}}var oe=this,fe=!1;return{resolve:Q(this.C),reject:Q(this.l)}},w.prototype.C=function(Q){if(Q===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Q instanceof w)this.F(Q);else{e:switch(typeof Q){case"object":var oe=Q!=null;break e;case"function":oe=!0;break e;default:oe=!1}oe?this.u(Q):this.m(Q)}},w.prototype.u=function(Q){var oe=void 0;try{oe=Q.then}catch(fe){this.l(fe);return}typeof oe=="function"?this.G(oe,Q):this.m(Q)},w.prototype.l=function(Q){this.s(2,Q)},w.prototype.m=function(Q){this.s(1,Q)},w.prototype.s=function(Q,oe){if(this.h!=0)throw Error("Cannot settle("+Q+", "+oe+"): Promise already settled in state"+this.h);this.h=Q,this.i=oe,this.h===2&&this.D(),this.A()},w.prototype.D=function(){var Q=this;X(function(){if(Q.B()){var oe=s.console;typeof oe<"u"&&oe.error(Q.i)}},1)},w.prototype.B=function(){if(this.o)return!1;var Q=s.CustomEvent,oe=s.Event,fe=s.dispatchEvent;return typeof fe>"u"?!0:(typeof Q=="function"?Q=new Q("unhandledrejection",{cancelable:!0}):typeof oe=="function"?Q=new oe("unhandledrejection",{cancelable:!0}):(Q=s.document.createEvent("CustomEvent"),Q.initCustomEvent("unhandledrejection",!1,!0,Q)),Q.promise=this,Q.reason=this.i,fe(Q))},w.prototype.A=function(){if(this.g!=null){for(var Q=0;Q<this.g.length;++Q)re.h(this.g[Q]);this.g=null}};var re=new T;return w.prototype.F=function(Q){var oe=this.j();Q.J(oe.resolve,oe.reject)},w.prototype.G=function(Q,oe){var fe=this.j();try{Q.call(oe,fe.resolve,fe.reject)}catch(we){fe.reject(we)}},w.prototype.then=function(Q,oe){function fe(Fe,Pe){return typeof Fe=="function"?function(Se){try{we(Fe(Se))}catch(h){Ce(h)}}:Pe}var we,Ce,qe=new w(function(Fe,Pe){we=Fe,Ce=Pe});return this.J(fe(Q,we),fe(oe,Ce)),qe},w.prototype.catch=function(Q){return this.then(void 0,Q)},w.prototype.J=function(Q,oe){function fe(){switch(we.h){case 1:Q(we.i);break;case 2:oe(we.i);break;default:throw Error("Unexpected state: "+we.h)}}var we=this;this.g==null?re.h(fe):this.g.push(fe),this.o=!0},w.resolve=L,w.reject=function(Q){return new w(function(oe,fe){fe(Q)})},w.race=function(Q){return new w(function(oe,fe){for(var we=a(Q),Ce=we.next();!Ce.done;Ce=we.next())L(Ce.value).J(oe,fe)})},w.all=function(Q){var oe=a(Q),fe=oe.next();return fe.done?L([]):new w(function(we,Ce){function qe(Se){return function(h){Fe[Se]=h,Pe--,Pe==0&&we(Fe)}}var Fe=[],Pe=0;do Fe.push(void 0),Pe++,L(fe.value).J(qe(Fe.length-1),Ce),fe=oe.next();while(!fe.done)})},w}),o("Object.is",function(m){return m||function(w,T){return w===T?w!==0||1/w===1/T:w!==w&&T!==T}}),o("Array.prototype.includes",function(m){return m||function(w,T){var L=this;L instanceof String&&(L=String(L));var X=L.length;for(T=T||0,0>T&&(T=Math.max(T+X,0));T<X;T++){var re=L[T];if(re===w||Object.is(re,w))return!0}return!1}}),o("String.prototype.includes",function(m){return m||function(w,T){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(w instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(w,T||0)!==-1}}),o("Array.prototype.keys",function(m){return m||function(){return F(this,function(w){return w})}});var Y=this||self;function V(m,w){m=m.split(".");var T=Y;m[0]in T||typeof T.execScript>"u"||T.execScript("var "+m[0]);for(var L;m.length&&(L=m.shift());)m.length||w===void 0?T[L]&&T[L]!==Object.prototype[L]?T=T[L]:T=T[L]={}:T[L]=w}function G(m,w){return w=String.fromCharCode.apply(null,w),m==null?w:m+w}var ne,ce=typeof TextDecoder<"u",ee,te=typeof TextEncoder<"u";function ue(m){if(te)m=(ee||(ee=new TextEncoder)).encode(m);else{var w=void 0;w=w===void 0?!1:w;for(var T=0,L=new Uint8Array(3*m.length),X=0;X<m.length;X++){var re=m.charCodeAt(X);if(128>re)L[T++]=re;else{if(2048>re)L[T++]=re>>6|192;else{if(55296<=re&&57343>=re){if(56319>=re&&X<m.length){var Q=m.charCodeAt(++X);if(56320<=Q&&57343>=Q){re=1024*(re-55296)+Q-56320+65536,L[T++]=re>>18|240,L[T++]=re>>12&63|128,L[T++]=re>>6&63|128,L[T++]=re&63|128;continue}else X--}if(w)throw Error("Found an unpaired surrogate");re=65533}L[T++]=re>>12|224,L[T++]=re>>6&63|128}L[T++]=re&63|128}}m=L.subarray(0,T)}return m}var q={},be=null;function Te(m,w){w===void 0&&(w=0),Qe(),w=q[w];for(var T=Array(Math.floor(m.length/3)),L=w[64]||"",X=0,re=0;X<m.length-2;X+=3){var Q=m[X],oe=m[X+1],fe=m[X+2],we=w[Q>>2];Q=w[(Q&3)<<4|oe>>4],oe=w[(oe&15)<<2|fe>>6],fe=w[fe&63],T[re++]=we+Q+oe+fe}switch(we=0,fe=L,m.length-X){case 2:we=m[X+1],fe=w[(we&15)<<2]||L;case 1:m=m[X],T[re]=w[m>>2]+w[(m&3)<<4|we>>4]+fe+L}return T.join("")}function Ee(m){var w=m.length,T=3*w/4;T%3?T=Math.floor(T):"=.".indexOf(m[w-1])!=-1&&(T="=.".indexOf(m[w-2])!=-1?T-2:T-1);var L=new Uint8Array(T),X=0;return Ue(m,function(re){L[X++]=re}),L.subarray(0,X)}function Ue(m,w){function T(fe){for(;L<m.length;){var we=m.charAt(L++),Ce=be[we];if(Ce!=null)return Ce;if(!/^[\s\xa0]*$/.test(we))throw Error("Unknown base64 encoding at char: "+we)}return fe}Qe();for(var L=0;;){var X=T(-1),re=T(0),Q=T(64),oe=T(64);if(oe===64&&X===-1)break;w(X<<2|re>>4),Q!=64&&(w(re<<4&240|Q>>2),oe!=64&&w(Q<<6&192|oe))}}function Qe(){if(!be){be={};for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),w=["+/=","+/","-_=","-_.","-_"],T=0;5>T;T++){var L=m.concat(w[T].split(""));q[T]=L;for(var X=0;X<L.length;X++){var re=L[X];be[re]===void 0&&(be[re]=X)}}}}var We=typeof Uint8Array.prototype.slice=="function",tt;function nt(m,w,T){return w===T?tt||(tt=new Uint8Array(0)):We?m.slice(w,T):new Uint8Array(m.subarray(w,T))}var mt=0,ke=0;function Ve(m,w){w=w===void 0?{}:w,w=w.v===void 0?!1:w.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=w,m&&Dt(this,m)}function Dt(m,w){w=w.constructor===Uint8Array?w:w.constructor===ArrayBuffer?new Uint8Array(w):w.constructor===Array?new Uint8Array(w):w.constructor===String?Ee(w):w instanceof Uint8Array?new Uint8Array(w.buffer,w.byteOffset,w.byteLength):new Uint8Array(0),m.h=w,m.l=0,m.j=m.h.length,m.g=m.l}Ve.prototype.reset=function(){this.g=this.l};function gt(m){for(var w=128,T=0,L=0,X=0;4>X&&128<=w;X++)w=m.h[m.g++],T|=(w&127)<<7*X;if(128<=w&&(w=m.h[m.g++],T|=(w&127)<<28,L|=(w&127)>>4),128<=w)for(X=0;5>X&&128<=w;X++)w=m.h[m.g++],L|=(w&127)<<7*X+3;if(128>w)return m=T>>>0,w=L>>>0,(L=w&2147483648)&&(m=~m+1>>>0,w=~w>>>0,m==0&&(w=w+1>>>0)),m=4294967296*w+(m>>>0),L?-m:m;m.m=!0}Ve.prototype.i=function(){var m=this.h,w=m[this.g],T=w&127;return 128>w?(this.g+=1,T):(w=m[this.g+1],T|=(w&127)<<7,128>w?(this.g+=2,T):(w=m[this.g+2],T|=(w&127)<<14,128>w?(this.g+=3,T):(w=m[this.g+3],T|=(w&127)<<21,128>w?(this.g+=4,T):(w=m[this.g+4],T|=(w&15)<<28,128>w?(this.g+=5,T>>>0):(this.g+=5,128<=m[this.g++]&&128<=m[this.g++]&&128<=m[this.g++]&&128<=m[this.g++]&&this.g++,T)))))},Ve.prototype.o=function(){var m=this.h[this.g],w=this.h[this.g+1],T=this.h[this.g+2],L=this.h[this.g+3];return this.g+=4,T=(m<<0|w<<8|T<<16|L<<24)>>>0,m=2*(T>>31)+1,w=T>>>23&255,T&=8388607,w==255?T?NaN:1/0*m:w==0?m*Math.pow(2,-149)*T:m*Math.pow(2,w-150)*(T+Math.pow(2,23))};var Kn=[];function Xt(){this.g=new Uint8Array(64),this.h=0}Xt.prototype.push=function(m){if(!(this.h+1<this.g.length)){var w=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(w)}this.g[this.h++]=m},Xt.prototype.length=function(){return this.h},Xt.prototype.end=function(){var m=this.g,w=this.h;return this.h=0,nt(m,0,w)};function Yt(m,w){for(;127<w;)m.push(w&127|128),w>>>=7;m.push(w)}function _n(m){var w={},T=w.N===void 0?!1:w.N;this.o={v:w.v===void 0?!1:w.v},this.N=T,w=this.o,Kn.length?(T=Kn.pop(),w&&(T.v=w.v),m&&Dt(T,m),m=T):m=new Ve(m,w),this.g=m,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}_n.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function lt(m){var w=m.g;if((w=w.g==w.j)||(w=m.j)||(w=m.g,w=w.m||0>w.g||w.g>w.j),w)return!1;m.m=m.g.g,w=m.g.i();var T=w&7;return T!=0&&T!=5&&T!=1&&T!=2&&T!=3&&T!=4?(m.j=!0,!1):(m.i=w,m.l=w>>>3,m.h=T,!0)}function Ct(m){switch(m.h){case 0:if(m.h!=0)Ct(m);else{for(m=m.g;m.h[m.g]&128;)m.g++;m.g++}break;case 1:m.h!=1?Ct(m):(m=m.g,m.g+=8);break;case 2:if(m.h!=2)Ct(m);else{var w=m.g.i();m=m.g,m.g+=w}break;case 5:m.h!=5?Ct(m):(m=m.g,m.g+=4);break;case 3:w=m.l;do{if(!lt(m)){m.j=!0;break}if(m.h==4){m.l!=w&&(m.j=!0);break}Ct(m)}while(!0);break;default:m.j=!0}}function Un(m,w,T){var L=m.g.j,X=m.g.i(),re=m.g.g+X;if(m.g.j=re,T(w,m),T=re-m.g.g,T!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+X+" bytes, instead read "+(X-T)+" bytes, either the data ended unexpectedly or the message misreported its own length");return m.g.g=re,m.g.j=L,w}function Et(m){return m.g.o()}function sr(m){var w=m.g.i();m=m.g;var T=m.g;m.g+=w,m=m.h;var L;if(ce)(L=ne)||(L=ne=new TextDecoder("utf-8",{fatal:!1})),L=L.decode(m.subarray(T,T+w));else{w=T+w;for(var X=[],re=null,Q,oe,fe;T<w;)Q=m[T++],128>Q?X.push(Q):224>Q?T>=w?X.push(65533):(oe=m[T++],194>Q||(oe&192)!==128?(T--,X.push(65533)):X.push((Q&31)<<6|oe&63)):240>Q?T>=w-1?X.push(65533):(oe=m[T++],(oe&192)!==128||Q===224&&160>oe||Q===237&&160<=oe||((L=m[T++])&192)!==128?(T--,X.push(65533)):X.push((Q&15)<<12|(oe&63)<<6|L&63)):244>=Q?T>=w-2?X.push(65533):(oe=m[T++],(oe&192)!==128||(Q<<28)+(oe-144)>>30||((L=m[T++])&192)!==128||((fe=m[T++])&192)!==128?(T--,X.push(65533)):(Q=(Q&7)<<18|(oe&63)<<12|(L&63)<<6|fe&63,Q-=65536,X.push((Q>>10&1023)+55296,(Q&1023)+56320))):X.push(65533),8192<=X.length&&(re=G(re,X),X.length=0);L=G(re,X)}return L}function zr(m,w,T){var L=m.g.i();for(L=m.g.g+L;m.g.g<L;)T.push(w.call(m.g))}function $r(m,w){m.h==2?zr(m,Ve.prototype.o,w):w.push(Et(m))}function Pn(){this.h=[],this.i=0,this.g=new Xt}function nn(m,w){w.length!==0&&(m.h.push(w),m.i+=w.length)}function it(m){var w=m.i+m.g.length();if(w===0)return new Uint8Array(0);w=new Uint8Array(w);for(var T=m.h,L=T.length,X=0,re=0;re<L;re++){var Q=T[re];Q.length!==0&&(w.set(Q,X),X+=Q.length)}return T=m.g,L=T.h,L!==0&&(w.set(T.g.subarray(0,L),X),T.h=0),m.h=[w],w}function rt(m,w,T){if(T!=null){Yt(m.g,8*w+5),m=m.g;var L=T;L=(T=0>L?1:0)?-L:L,L===0?0<1/L?mt=ke=0:(ke=0,mt=2147483648):isNaN(L)?(ke=0,mt=2147483647):34028234663852886e22<L?(ke=0,mt=(T<<31|2139095040)>>>0):11754943508222875e-54>L?(L=Math.round(L/Math.pow(2,-149)),ke=0,mt=(T<<31|L)>>>0):(w=Math.floor(Math.log(L)/Math.LN2),L*=Math.pow(2,-w),L=Math.round(8388608*L),16777216<=L&&++w,ke=0,mt=(T<<31|w+127<<23|L&8388607)>>>0),T=mt,m.push(T>>>0&255),m.push(T>>>8&255),m.push(T>>>16&255),m.push(T>>>24&255)}}var rn=typeof Uint8Array=="function";function es(m,w,T){if(m!=null)return typeof m=="object"?rn&&m instanceof Uint8Array?T(m):Ro(m,w,T):w(m)}function Ro(m,w,T){if(Array.isArray(m)){for(var L=Array(m.length),X=0;X<m.length;X++)L[X]=es(m[X],w,T);return Array.isArray(m)&&m.W&&zt(L),L}L={};for(X in m)L[X]=es(m[X],w,T);return L}function Ri(m){return typeof m=="number"?isFinite(m)?m:String(m):m}var Fo={W:{value:!0,configurable:!0}};function zt(m){return Array.isArray(m)&&!Object.isFrozen(m)&&Object.defineProperties(m,Fo),m}var yt;function Tt(m,w,T){var L=yt;yt=null,m||(m=L),L=this.constructor.ca,m||(m=L?[L]:[]),this.j=L?0:-1,this.m=this.g=null,this.h=m;e:{if(L=this.h.length,m=L-1,L&&(L=this.h[m],!(L===null||typeof L!="object"||Array.isArray(L)||rn&&L instanceof Uint8Array))){this.l=m-this.j,this.i=L;break e}w!==void 0&&-1<w?(this.l=Math.max(w,m+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(T)for(w=0;w<T.length;w++)m=T[w],m<this.l?(m+=this.j,(L=this.h[m])?zt(L):this.h[m]=Ae):(Vr(this),(L=this.i[m])?zt(L):this.i[m]=Ae)}var Ae=Object.freeze(zt([]));function Vr(m){var w=m.l+m.j;m.h[w]||(m.i=m.h[w]={})}function Ze(m,w,T){return w===-1?null:T!==void 0&&T||w>=m.l?m.i?m.i[w]:void 0:m.h[w+m.j]}function ts(m,w){var T=T===void 0?!1:T,L=Ze(m,w,T);return L==null&&(L=Ae),L===Ae&&(L=zt([]),Ie(m,w,L,T)),L}function Mo(m){var w=ts(m,3);if(m.m||(m.m={}),!m.m[3]){for(var T=0;T<w.length;T++)w[T]=+w[T];m.m[3]=!0}return w}function or(m,w,T){return m=Ze(m,w),m??T}function vn(m,w,T){return m=Ze(m,w),m=m==null?m:+m,m??(T===void 0?0:T)}function Ie(m,w,T,L){L!==void 0&&L||w>=m.l?(Vr(m),m.i[w]=T):m.h[w+m.j]=T}function Fi(m,w,T){if(T===-1)return null;if(m.g||(m.g={}),!m.g[T]){var L=Ze(m,T,!1);L&&(m.g[T]=new w(L))}return m.g[T]}function Bs(m,w){m.g||(m.g={});var T=m.g[1];if(!T){var L=ts(m,1);T=[];for(var X=0;X<L.length;X++)T[X]=new w(L[X]);m.g[1]=T}return T}function ns(m,w,T){var L=L===void 0?!1:L;m.g||(m.g={});var X=T&&ir(T);m.g[w]=T,Ie(m,w,X,L)}function rs(m,w,T,L){var X=Bs(m,T);w=w||new T,m=ts(m,1),L!=null?(X.splice(L,0,w),m.splice(L,0,ir(w))):(X.push(w),m.push(ir(w)))}Tt.prototype.toJSON=function(){var m=ir(this);return Ro(m,Ri,Te)};function ir(m,w){if(m.g)for(var T in m.g){var L=m.g[T];if(Array.isArray(L))for(var X=0;X<L.length;X++)L[X]&&ir(L[X]);else L&&ir(L)}return m.h}Tt.prototype.toString=function(){return ir(this).toString()};function js(m,w){if(m=m.o){nn(w,w.g.end());for(var T=0;T<m.length;T++)nn(w,m[T])}}function bn(m,w){if(w.h==4)return!1;var T=w.m;return Ct(w),w.N||(w=nt(w.g.h,T,w.g.g),(T=m.o)?T.push(w):m.o=[w]),!0}function ar(m){Tt.call(this,m,-1,Qa)}y(ar,Tt),ar.prototype.getRows=function(){return Ze(this,1)},ar.prototype.getCols=function(){return Ze(this,2)},ar.prototype.getPackedDataList=function(){return Mo(this)},ar.prototype.getLayout=function(){return or(this,4,0)};function Mi(m,w){for(;lt(w);)switch(w.i){case 8:var T=w.g.i();Ie(m,1,T);break;case 16:T=w.g.i(),Ie(m,2,T);break;case 29:case 26:$r(w,m.getPackedDataList());break;case 32:T=gt(w.g),Ie(m,4,T);break;default:if(!bn(m,w))return m}return m}var Qa=[3];function me(m,w){var T=void 0;return new(T||(T=Promise))(function(L,X){function re(fe){try{oe(w.next(fe))}catch(we){X(we)}}function Q(fe){try{oe(w.throw(fe))}catch(we){X(we)}}function oe(fe){fe.done?L(fe.value):new T(function(we){we(fe.value)}).then(re,Q)}oe((w=w.apply(m,void 0)).next())})}function Rt(m){Tt.call(this,m)}y(Rt,Tt);function zs(m,w){for(;lt(w);)switch(w.i){case 8:var T=w.g.i();Ie(m,1,T);break;case 21:T=Et(w),Ie(m,2,T);break;case 26:T=sr(w),Ie(m,3,T);break;case 34:T=sr(w),Ie(m,4,T);break;default:if(!bn(m,w))return m}return m}function Vs(m){Tt.call(this,m,-1,Yu)}y(Vs,Tt),Vs.prototype.addClassification=function(m,w){return rs(this,m,Rt,w),this};var Yu=[1];function Ks(m){Tt.call(this,m)}y(Ks,Tt);function cp(m,w){for(;lt(w);)switch(w.i){case 13:var T=Et(w);Ie(m,1,T);break;case 21:T=Et(w),Ie(m,2,T);break;case 29:T=Et(w),Ie(m,3,T);break;case 37:T=Et(w),Ie(m,4,T);break;case 45:T=Et(w),Ie(m,5,T);break;default:if(!bn(m,w))return m}return m}function Ju(m){Tt.call(this,m,-1,Zu)}y(Ju,Tt);function Qu(m){e:{var w=new Ju;for(m=new _n(m);lt(m);)switch(m.i){case 10:var T=Un(m,new Ks,cp);rs(w,T,Ks,void 0);break;default:if(!bn(w,m))break e}}return w}var Zu=[1];function Li(m){Tt.call(this,m)}y(Li,Tt);function ss(m){Tt.call(this,m,-1,fp)}y(ss,Tt),ss.prototype.getVertexType=function(){return or(this,1,0)},ss.prototype.getPrimitiveType=function(){return or(this,2,0)},ss.prototype.getVertexBufferList=function(){return Mo(this)},ss.prototype.getIndexBufferList=function(){return ts(this,4)};function dp(m,w){for(;lt(w);)switch(w.i){case 8:var T=gt(w.g);Ie(m,1,T);break;case 16:T=gt(w.g),Ie(m,2,T);break;case 29:case 26:$r(w,m.getVertexBufferList());break;case 32:case 34:T=w;var L=m.getIndexBufferList();T.h==2?zr(T,Ve.prototype.i,L):L.push(T.g.i());break;default:if(!bn(m,w))return m}return m}var fp=[3,4];function Bi(m){Tt.call(this,m)}y(Bi,Tt),Bi.prototype.getMesh=function(){return Fi(this,ss,1)},Bi.prototype.getPoseTransformMatrix=function(){return Fi(this,ar,2)};function ec(m){e:{var w=new Bi;for(m=new _n(m);lt(m);)switch(m.i){case 10:var T=Un(m,new ss,dp);ns(w,1,T);break;case 18:T=Un(m,new ar,Mi),ns(w,2,T);break;default:if(!bn(w,m))break e}}return w}function Za(m,w,T){if(T=m.createShader(T===0?m.VERTEX_SHADER:m.FRAGMENT_SHADER),m.shaderSource(T,w),m.compileShader(T),!m.getShaderParameter(T,m.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+m.getShaderInfoLog(T));return T}function el(m){return Bs(m,Rt).map(function(w){return{index:or(w,1,0),Y:vn(w,2),label:Ze(w,3)!=null?or(w,3,""):void 0,displayName:Ze(w,4)!=null?or(w,4,""):void 0}})}function tl(m){return{x:vn(m,1),y:vn(m,2),z:vn(m,3),visibility:Ze(m,4)!=null?vn(m,4):void 0}}function Lo(m,w){this.h=m,this.g=w,this.l=0}function Us(m,w,T){return Wn(m,w),typeof m.g.canvas.transferToImageBitmap=="function"?Promise.resolve(m.g.canvas.transferToImageBitmap()):T?Promise.resolve(m.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(m.g.canvas):(m.i===void 0&&(m.i=document.createElement("canvas")),new Promise(function(L){m.i.height=m.g.canvas.height,m.i.width=m.g.canvas.width,m.i.getContext("2d",{}).drawImage(m.g.canvas,0,0,m.g.canvas.width,m.g.canvas.height),L(m.i)}))}function Wn(m,w){var T=m.g;if(m.m===void 0){var L=Za(T,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),X=Za(T,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),re=T.createProgram();if(T.attachShader(re,L),T.attachShader(re,X),T.linkProgram(re),!T.getProgramParameter(re,T.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+T.getProgramInfoLog(re));L=m.m=re,T.useProgram(L),X=T.getUniformLocation(L,"sampler0"),m.j={I:T.getAttribLocation(L,"aVertex"),H:T.getAttribLocation(L,"aTex"),da:X},m.s=T.createBuffer(),T.bindBuffer(T.ARRAY_BUFFER,m.s),T.enableVertexAttribArray(m.j.I),T.vertexAttribPointer(m.j.I,2,T.FLOAT,!1,0,0),T.bufferData(T.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),T.STATIC_DRAW),T.bindBuffer(T.ARRAY_BUFFER,null),m.o=T.createBuffer(),T.bindBuffer(T.ARRAY_BUFFER,m.o),T.enableVertexAttribArray(m.j.H),T.vertexAttribPointer(m.j.H,2,T.FLOAT,!1,0,0),T.bufferData(T.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),T.STATIC_DRAW),T.bindBuffer(T.ARRAY_BUFFER,null),T.uniform1i(X,0)}L=m.j,T.useProgram(m.m),T.canvas.width=w.width,T.canvas.height=w.height,T.viewport(0,0,w.width,w.height),T.activeTexture(T.TEXTURE0),m.h.bindTexture2d(w.glName),T.enableVertexAttribArray(L.I),T.bindBuffer(T.ARRAY_BUFFER,m.s),T.vertexAttribPointer(L.I,2,T.FLOAT,!1,0,0),T.enableVertexAttribArray(L.H),T.bindBuffer(T.ARRAY_BUFFER,m.o),T.vertexAttribPointer(L.H,2,T.FLOAT,!1,0,0),T.bindFramebuffer(T.DRAW_FRAMEBUFFER?T.DRAW_FRAMEBUFFER:T.FRAMEBUFFER,null),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.colorMask(!0,!0,!0,!0),T.drawArrays(T.TRIANGLE_FAN,0,4),T.disableVertexAttribArray(L.I),T.disableVertexAttribArray(L.H),T.bindBuffer(T.ARRAY_BUFFER,null),m.h.bindTexture2d(0)}function pp(m){this.g=m}var hp=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function tc(m,w){return w+m}function nl(m,w){window[m]=w}function An(m){var w=document.createElement("script");return w.setAttribute("src",m),w.setAttribute("crossorigin","anonymous"),new Promise(function(T){w.addEventListener("load",function(){T()},!1),w.addEventListener("error",function(){T()},!1),document.body.appendChild(w)})}function nc(){return me(this,function m(){return j(m,function(w){switch(w.g){case 1:return w.m=2,$(w,WebAssembly.instantiate(hp),4);case 4:w.g=3,w.m=0;break;case 2:return w.m=0,w.j=null,w.return(!1);case 3:return w.return(!0)}})})}function os(m){if(this.g=m,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=m&&m.locateFile||tc,typeof window=="object")var w=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")w=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=w,m.options){w=a(Object.keys(m.options));for(var T=w.next();!T.done;T=w.next()){T=T.value;var L=m.options[T].default;L!==void 0&&(this.j[T]=typeof L=="function"?L():L)}}}e=os.prototype,e.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function rc(m,w){return m.g.files===void 0?[]:typeof m.g.files=="function"?m.g.files(w):m.g.files}function rl(m){return me(m,function w(){var T=this,L,X,re,Q,oe,fe,we,Ce,qe,Fe,Pe;return j(w,function(Se){switch(Se.g){case 1:return L=T,T.R?(X=rc(T,T.j),$(Se,nc(),2)):Se.return();case 2:if(re=Se.h,typeof window=="object")return nl("createMediapipeSolutionsWasm",{locateFile:T.locateFile}),nl("createMediapipeSolutionsPackedAssets",{locateFile:T.locateFile}),fe=X.filter(function(h){return h.data!==void 0}),we=X.filter(function(h){return h.data===void 0}),Ce=Promise.all(fe.map(function(h){var S=Ws(L,h.url);if(h.path!==void 0){var k=h.path;S=S.then(function(_){return L.overrideFile(k,_),Promise.resolve(_)})}return S})),qe=Promise.all(we.map(function(h){return h.simd===void 0||h.simd&&re||!h.simd&&!re?An(L.locateFile(h.url,L.S)):Promise.resolve()})).then(function(){return me(L,function h(){var S,k,_=this;return j(h,function(M){if(M.g==1)return S=window.createMediapipeSolutionsWasm,k=window.createMediapipeSolutionsPackedAssets,$(M,S(k),2);_.h=M.h,M.g=0})})}),Fe=function(){return me(L,function h(){var S=this;return j(h,function(k){return S.g.graph&&S.g.graph.url?k=$(k,Ws(S,S.g.graph.url),0):(k.g=0,k=void 0),k})})}(),$(Se,Promise.all([qe,Ce,Fe]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return Q=X.filter(function(h){return h.simd===void 0||h.simd&&re||!h.simd&&!re}).map(function(h){return L.locateFile(h.url,L.S)}),importScripts.apply(null,l(Q)),$(Se,createMediapipeSolutionsWasm(Module),6);case 6:T.h=Se.h,T.l=new OffscreenCanvas(1,1),T.h.canvas=T.l,oe=T.h.GL.createContext(T.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),T.h.GL.makeContextCurrent(oe),Se.g=4;break;case 7:if(T.l=document.createElement("canvas"),Pe=T.l.getContext("webgl2",{}),!Pe&&(Pe=T.l.getContext("webgl",{}),!Pe))return alert("Failed to create WebGL canvas context when passing video frame."),Se.return();T.D=Pe,T.h.canvas=T.l,T.h.createContext(T.l,!0,!0,{});case 4:T.i=new T.h.SolutionWasm,T.R=!1,Se.g=0}})})}function mp(m){return me(m,function w(){var T=this,L,X,re,Q,oe,fe,we,Ce;return j(w,function(qe){if(qe.g==1){if(T.g.graph&&T.g.graph.url&&T.P===T.g.graph.url)return qe.return();if(T.o=!0,!T.g.graph||!T.g.graph.url){qe.g=2;return}return T.P=T.g.graph.url,$(qe,Ws(T,T.g.graph.url),3)}for(qe.g!=2&&(L=qe.h,T.i.loadGraph(L)),X=a(Object.keys(T.B)),re=X.next();!re.done;re=X.next())Q=re.value,T.i.overrideFile(Q,T.B[Q]);if(T.B={},T.g.listeners)for(oe=a(T.g.listeners),fe=oe.next();!fe.done;fe=oe.next())we=fe.value,yp(T,we);Ce=T.j,T.j={},T.setOptions(Ce),qe.g=0})})}e.reset=function(){return me(this,function m(){var w=this;return j(m,function(T){w.i&&(w.i.reset(),w.m={},w.s={}),T.g=0})})},e.setOptions=function(m,w){var T=this;if(w=w||this.g.options){for(var L=[],X=[],re={},Q=a(Object.keys(m)),oe=Q.next();!oe.done;re={K:re.K,L:re.L},oe=Q.next()){var fe=oe.value;fe in this.j&&this.j[fe]===m[fe]||(this.j[fe]=m[fe],oe=w[fe],oe!==void 0&&(oe.onChange&&(re.K=oe.onChange,re.L=m[fe],L.push(function(we){return function(){return me(T,function Ce(){var qe,Fe=this;return j(Ce,function(Pe){if(Pe.g==1)return $(Pe,we.K(we.L),2);qe=Pe.h,qe===!0&&(Fe.o=!0),Pe.g=0})})}}(re))),oe.graphOptionXref&&(fe={valueNumber:oe.type===1?m[fe]:0,valueBoolean:oe.type===0?m[fe]:!1,valueString:oe.type===2?m[fe]:""},oe=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),oe.graphOptionXref),fe),X.push(oe))))}(L.length!==0||X.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(X),this.u=(this.u===void 0?[]:this.u).concat(L))}};function gp(m){return me(m,function w(){var T=this,L,X,re,Q,oe,fe,we;return j(w,function(Ce){switch(Ce.g){case 1:if(!T.o)return Ce.return();if(!T.u){Ce.g=2;break}L=a(T.u),X=L.next();case 3:if(X.done){Ce.g=5;break}return re=X.value,$(Ce,re(),4);case 4:X=L.next(),Ce.g=3;break;case 5:T.u=void 0;case 2:if(T.A){for(Q=new T.h.GraphOptionChangeRequestList,oe=a(T.A),fe=oe.next();!fe.done;fe=oe.next())we=fe.value,Q.push_back(we);T.i.changeOptions(Q),Q.delete(),T.A=void 0}T.o=!1,Ce.g=0}})})}e.initialize=function(){return me(this,function m(){var w=this;return j(m,function(T){return T.g==1?$(T,rl(w),2):T.g!=3?$(T,mp(w),3):$(T,gp(w),0)})})};function Ws(m,w){return me(m,function T(){var L=this,X,re;return j(T,function(Q){return w in L.F?Q.return(L.F[w]):(X=L.locateFile(w,""),re=fetch(X).then(function(oe){return oe.arrayBuffer()}),L.F[w]=re,Q.return(re))})})}e.overrideFile=function(m,w){this.i?this.i.overrideFile(m,w):this.B[m]=w},e.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},e.send=function(m,w){return me(this,function T(){var L=this,X,re,Q,oe,fe,we,Ce,qe,Fe;return j(T,function(Pe){switch(Pe.g){case 1:return L.g.inputs?(X=1e3*(w??performance.now()),$(Pe,L.C,2)):Pe.return();case 2:return $(Pe,L.initialize(),3);case 3:for(re=new L.h.PacketDataList,Q=a(Object.keys(m)),oe=Q.next();!oe.done;oe=Q.next())if(fe=oe.value,we=L.g.inputs[fe]){e:{var Se=L,h=m[fe];switch(we.type){case"video":var S=Se.m[we.stream];if(S||(S=new Lo(Se.h,Se.D),Se.m[we.stream]=S),Se=S,Se.l===0&&(Se.l=Se.h.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement){var k=h.videoWidth;S=h.videoHeight}else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(k=h.naturalWidth,S=h.naturalHeight):(k=h.width,S=h.height);S={glName:Se.l,width:k,height:S},k=Se.g,k.canvas.width=S.width,k.canvas.height=S.height,k.activeTexture(k.TEXTURE0),Se.h.bindTexture2d(Se.l),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,h),Se.h.bindTexture2d(0),Se=S;break e;case"detections":for(S=Se.m[we.stream],S||(S=new pp(Se.h),Se.m[we.stream]=S),Se=S,Se.data||(Se.data=new Se.g.DetectionListData),Se.data.reset(h.length),S=0;S<h.length;++S){k=h[S];var _=Se.data,M=_.setBoundingBox,D=S,B=k.T,K=new Li;Ie(K,1,B.Z),Ie(K,2,B.$),Ie(K,3,B.height),Ie(K,4,B.width),Ie(K,5,B.rotation),Ie(K,6,B.X);var Z=B=new Pn;rt(Z,1,Ze(K,1)),rt(Z,2,Ze(K,2)),rt(Z,3,Ze(K,3)),rt(Z,4,Ze(K,4)),rt(Z,5,Ze(K,5));var se=Ze(K,6);if(se!=null&&se!=null){Yt(Z.g,48);var le=Z.g,pe=se;se=0>pe,pe=Math.abs(pe);var ge=pe>>>0;for(pe=Math.floor((pe-ge)/4294967296),pe>>>=0,se&&(pe=~pe>>>0,ge=(~ge>>>0)+1,4294967295<ge&&(ge=0,pe++,4294967295<pe&&(pe=0))),mt=ge,ke=pe,se=mt,ge=ke;0<ge||127<se;)le.push(se&127|128),se=(se>>>7|ge<<25)>>>0,ge>>>=7;le.push(se)}if(js(K,Z),B=it(B),M.call(_,D,B),k.O)for(_=0;_<k.O.length;++_)K=k.O[_],Z=!!K.visibility,M=Se.data,D=M.addNormalizedLandmark,B=S,K=Object.assign(Object.assign({},K),{visibility:Z?K.visibility:0}),Z=new Ks,Ie(Z,1,K.x),Ie(Z,2,K.y),Ie(Z,3,K.z),K.visibility&&Ie(Z,4,K.visibility),le=K=new Pn,rt(le,1,Ze(Z,1)),rt(le,2,Ze(Z,2)),rt(le,3,Ze(Z,3)),rt(le,4,Ze(Z,4)),rt(le,5,Ze(Z,5)),js(Z,le),K=it(K),D.call(M,B,K);if(k.M)for(_=0;_<k.M.length;++_){if(M=Se.data,D=M.addClassification,B=S,K=k.M[_],Z=new Rt,Ie(Z,2,K.Y),K.index&&Ie(Z,1,K.index),K.label&&Ie(Z,3,K.label),K.displayName&&Ie(Z,4,K.displayName),le=K=new Pn,ge=Ze(Z,1),ge!=null&&ge!=null)if(Yt(le.g,8),se=le.g,0<=ge)Yt(se,ge);else{for(pe=0;9>pe;pe++)se.push(ge&127|128),ge>>=7;se.push(1)}rt(le,2,Ze(Z,2)),se=Ze(Z,3),se!=null&&(se=ue(se),Yt(le.g,26),Yt(le.g,se.length),nn(le,le.g.end()),nn(le,se)),se=Ze(Z,4),se!=null&&(se=ue(se),Yt(le.g,34),Yt(le.g,se.length),nn(le,le.g.end()),nn(le,se)),js(Z,le),K=it(K),D.call(M,B,K)}}Se=Se.data;break e;default:Se={}}}switch(Ce=Se,qe=we.stream,we.type){case"video":re.pushTexture2d(Object.assign(Object.assign({},Ce),{stream:qe,timestamp:X}));break;case"detections":Fe=Ce,Fe.stream=qe,Fe.timestamp=X,re.pushDetectionList(Fe);break;default:throw Error("Unknown input config type: '"+we.type+"'")}}return L.i.send(re),$(Pe,L.C,4);case 4:re.delete(),Pe.g=0}})})};function sc(m,w,T){return me(m,function L(){var X,re,Q,oe,fe,we,Ce=this,qe,Fe,Pe,Se,h,S,k,_;return j(L,function(M){switch(M.g){case 1:if(!T)return M.return(w);for(X={},re=0,Q=a(Object.keys(T)),oe=Q.next();!oe.done;oe=Q.next())fe=oe.value,we=T[fe],typeof we!="string"&&we.type==="texture"&&w[we.stream]!==void 0&&++re;1<re&&(Ce.G=!1),qe=a(Object.keys(T)),oe=qe.next();case 2:if(oe.done){M.g=4;break}if(Fe=oe.value,Pe=T[Fe],typeof Pe=="string")return k=X,_=Fe,$(M,oc(Ce,Fe,w[Pe]),14);if(Se=w[Pe.stream],Pe.type==="detection_list"){if(Se){for(var D=Se.getRectList(),B=Se.getLandmarksList(),K=Se.getClassificationsList(),Z=[],se=0;se<D.size();++se){var le=D.get(se);e:{var pe=new Li;for(le=new _n(le);lt(le);)switch(le.i){case 13:var ge=Et(le);Ie(pe,1,ge);break;case 21:ge=Et(le),Ie(pe,2,ge);break;case 29:ge=Et(le),Ie(pe,3,ge);break;case 37:ge=Et(le),Ie(pe,4,ge);break;case 45:ge=Et(le),Ie(pe,5,ge);break;case 48:ge=gt(le.g),Ie(pe,6,ge);break;default:if(!bn(pe,le))break e}}pe={Z:vn(pe,1),$:vn(pe,2),height:vn(pe,3),width:vn(pe,4),rotation:vn(pe,5,0),X:or(pe,6,0)},le=Bs(Qu(B.get(se)),Ks).map(tl);var ve=K.get(se);e:for(ge=new Vs,ve=new _n(ve);lt(ve);)switch(ve.i){case 10:ge.addClassification(Un(ve,new Rt,zs));break;default:if(!bn(ge,ve))break e}pe={T:pe,O:le,M:el(ge)},Z.push(pe)}D=Z}else D=[];X[Fe]=D,M.g=7;break}if(Pe.type==="proto_list"){if(Se){for(D=Array(Se.size()),B=0;B<Se.size();B++)D[B]=Se.get(B);Se.delete()}else D=[];X[Fe]=D,M.g=7;break}if(Se===void 0){M.g=3;break}if(Pe.type==="float_list"){X[Fe]=Se,M.g=7;break}if(Pe.type==="proto"){X[Fe]=Se,M.g=7;break}if(Pe.type!=="texture")throw Error("Unknown output config type: '"+Pe.type+"'");return h=Ce.s[Fe],h||(h=new Lo(Ce.h,Ce.D),Ce.s[Fe]=h),$(M,Us(h,Se,Ce.G),13);case 13:S=M.h,X[Fe]=S;case 7:Pe.transform&&X[Fe]&&(X[Fe]=Pe.transform(X[Fe])),M.g=3;break;case 14:k[_]=M.h;case 3:oe=qe.next(),M.g=2;break;case 4:return M.return(X)}})})}function oc(m,w,T){return me(m,function L(){var X=this,re;return j(L,function(Q){return typeof T=="number"||T instanceof Uint8Array||T instanceof X.h.Uint8BlobList?Q.return(T):T instanceof X.h.Texture2dDataOut?(re=X.s[w],re||(re=new Lo(X.h,X.D),X.s[w]=re),Q.return(Us(re,T,X.G))):Q.return(void 0)})})}function yp(m,w){for(var T=w.name||"$",L=[].concat(l(w.wants)),X=new m.h.StringList,re=a(w.wants),Q=re.next();!Q.done;Q=re.next())X.push_back(Q.value);re=m.h.PacketListener.implement({onResults:function(oe){for(var fe={},we=0;we<w.wants.length;++we)fe[L[we]]=oe.get(we);var Ce=m.listeners[T];Ce&&(m.C=sc(m,fe,w.outs).then(function(qe){qe=Ce(qe);for(var Fe=0;Fe<w.wants.length;++Fe){var Pe=fe[L[Fe]];typeof Pe=="object"&&Pe.hasOwnProperty&&Pe.hasOwnProperty("delete")&&Pe.delete()}qe&&(m.C=qe)}))}}),m.i.attachMultiListener(X,re),X.delete()}e.onResults=function(m,w){this.listeners[w||"$"]=m},V("Solution",os),V("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function vp(m){m=ec(m);var w=m.getMesh();if(!w)return m;var T=new Float32Array(w.getVertexBufferList());w.getVertexBufferList=function(){return T};var L=new Uint32Array(w.getIndexBufferList());return w.getIndexBufferList=function(){return L},m}var sl={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(m){return m.map(vp)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(m){return m.map(function(w){return Bs(Qu(w),Ks).map(tl)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},ol=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],il=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],al=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ll=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],ul=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],cl=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],ic=[].concat(l(ol),l(il),l(al),l(ll),l(ul),l(cl));function ac(m){m=m||{},m=Object.assign(Object.assign({},sl),m),this.g=new os(m)}e=ac.prototype,e.close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(m){this.g.onResults(m)},e.initialize=function(){return me(this,function m(){var w=this;return j(m,function(T){return $(T,w.g.initialize(),0)})})},e.reset=function(){this.g.reset()},e.send=function(m){return me(this,function w(){var T=this;return j(w,function(L){return $(L,T.g.send(m),0)})})},e.setOptions=function(m){this.g.setOptions(m)},V("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),V("FaceMesh",ac),V("FACEMESH_LIPS",ol),V("FACEMESH_LEFT_EYE",il),V("FACEMESH_LEFT_EYEBROW",al),V("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),V("FACEMESH_RIGHT_EYE",ll),V("FACEMESH_RIGHT_EYEBROW",ul),V("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),V("FACEMESH_FACE_OVAL",cl),V("FACEMESH_CONTOURS",ic),V("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),V("matrixDataToMatrix",function(m){for(var w=m.getCols(),T=m.getRows(),L=m.getPackedDataList(),X=[],re=0;re<T;re++)X.push(Array(w));for(re=0;re<T;re++)for(var Q=0;Q<w;Q++){var oe=m.getLayout()===1?re*w+Q:Q*T+re;X[re][Q]=L[oe]}return X}),V("VERSION","0.4.1633559619")}).call(Ln);var VI=FaceMesh;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KI=1e-7,UI=1e-4;class WI{refCount(t){return Dn("refCount")}incRef(t){return Dn("incRef")}timerAvailable(){return!0}time(t){return Dn("time")}read(t){return Dn("read")}readSync(t){return Dn("readSync")}readToGPU(t,n){return Dn("readToGPU")}numDataIds(){return Dn("numDataIds")}disposeData(t,n){return Dn("disposeData")}write(t,n,r){return Dn("write")}move(t,n,r,s,o){return Dn("move")}createTensorFromGPUData(t,n,r){return Dn("createTensorFromGPUData")}memory(){return Dn("memory")}floatPrecision(){return Dn("floatPrecision")}epsilon(){return this.floatPrecision()===32?KI:UI}dispose(){return Dn("dispose")}}function Dn(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function Tr(e,t,n=""){R(_s(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function Ga(e){R(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function jt(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function HI(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==null&&t[n]!==null&&e[n]!==t[n])return!1;return!0}function _s(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function wu(e){return e%1===0}function od(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Xf(e,t){const n=t.length;return e=e==null?t.map((r,s)=>s):[].concat(e),R(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),R(e.every(r=>wu(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function GI(e,t){const n=[],r=[],s=t!=null&&Array.isArray(t)&&t.length===0,o=t==null||s?null:Xf(t,e).sort();let i=0;for(let a=0;a<e.length;++a){if(o!=null){if(o[i]===a&&e[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${e[a]}' is not 1`);(o[i]==null||o[i]>a)&&e[a]===1&&(n.push(e[a]),r.push(a)),o[i]<=a&&i++}e[a]!==1&&(n.push(e[a]),r.push(a))}return{newShape:n,keptDims:r}}function qI(e,t){return O9(e,t)}function O9(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function XI(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function YI(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function u2(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function JI(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function M3(e){return typeof e=="string"||e instanceof String}function QI(e){return typeof e=="boolean"}function ZI(e){return typeof e=="number"}function Yf(e){return Array.isArray(e)?Yf(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":ZI(e)?"float32":M3(e)?"string":QI(e)?"bool":"float32"}function c2(e){return!!(e&&e.constructor&&e.call&&e.apply)}function L3(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function D9(e,t,n,r=!1){const s=new Array;if(t.length===1){const o=t[0]*(r?2:1);for(let i=0;i<o;i++)s[i]=n[e+i]}else{const o=t[0],i=t.slice(1),a=i.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<o;l++)s[l]=D9(e+l*a,i,n,r)}return s}function d2(e,t,n=!1){if(e.length===0)return t[0];const r=e.reduce((s,o)=>s*o)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return D9(0,e,t,n)}function R9(e,t){const n=B3(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function B3(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function rr(e){e.forEach(t=>{R(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function yi(e){return e&&e.then&&typeof e.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ny="tfjsflags";class eO{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=tO,this.populateURLFlags()}setPlatform(t,n){this.platform!=null&&(ze().getBool("IS_TEST")||ze().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=n}registerFlag(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){const s=this.urlFlags[t];ze().getBool("IS_TEST")||ze().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${s}.`),this.set(t,s)}}async getAsync(t){return t in this.flags?this.flags[t]:(this.flags[t]=await this.evaluateFlag(t),this.flags[t])}get(t){if(t in this.flags)return this.flags[t];const n=this.evaluateFlag(t);if(yi(n))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);ny in t&&t[ny].split(",").forEach(r=>{const[s,o]=r.split(":");this.urlFlags[s]=rO(s,o)})}}function tO(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(nO(t,r[0],r[1]),r.join("="))),t}function nO(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function rO(e,t){const n=t.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:t}function ze(){return F9}let F9=null;function sO(e){F9=e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ph;function M9(){if(ph==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");ph=e}return ph}function oO(){const e=M9();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function j3(e,t){const n=oO();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const iO="Abs",aO="Acos",lO="Acosh",L9="Add",uO="AddN",cO="All",dO="Any",fO="ArgMax",pO="ArgMin",hO="Asin",mO="Asinh",gO="Atan",yO="Atanh",vO="Atan2",bO="AvgPool",wO="AvgPool3D",xO="BatchMatMul",SO="BatchToSpaceND",EO="Bincount",TO="BitwiseAnd",$O="BroadcastArgs",B9="Cast",kO="Ceil",NO="ClipByValue",CO="Complex",_O="ComplexAbs",PO="Concat",AO="Conv2D",IO="Conv2DBackpropFilter",OO="Conv2DBackpropInput",DO="Conv3D",RO="Conv3DBackpropInputV2",FO="Cos",MO="Cosh",LO="Cumprod",BO="Cumsum",jO="CropAndResize",zO="DenseBincount",VO="DepthToSpace",KO="DepthwiseConv2dNative",UO="DepthwiseConv2dNativeBackpropFilter",WO="DepthwiseConv2dNativeBackpropInput",HO="Diag",GO="Dilation2D",qO="RealDiv",XO="Einsum",YO="Elu",JO="Erf",QO="Equal",ZO="Exp",eD="ExpandDims",tD="Expm1",nD="FFT",rD="Fill",sD="FlipLeftRight",oD="Floor",iD="FloorDiv",aD="FusedBatchNorm",lD="GatherV2",uD="GatherNd",cD="Greater",dD="GreaterEqual",j9="Identity",fD="IFFT",pD="Imag",hD="IsFinite",mD="IsInf",gD="IsNan",yD="LeakyRelu",vD="Less",bD="LessEqual",wD="LinSpace",xD="Log",SD="Log1p",ED="LogicalAnd",TD="LogicalNot",$D="LogicalOr",kD="LRN",ND="Max",CD="Maximum",_D="MaxPool",PD="MaxPool3D",AD="MaxPoolWithArgmax",ID="Mean",OD="Min",DD="Minimum",RD="MirrorPad",FD="Mod",MD="Multinomial",LD="Multiply",BD="Neg",jD="NotEqual",zD="NonMaxSuppressionV3",VD="NonMaxSuppressionV4",KD="NonMaxSuppressionV5",UD="OnesLike",WD="OneHot",HD="Pack",GD="PadV2",qD="Pow",XD="Prelu",YD="Prod",JD="RaggedGather",QD="RaggedRange",ZD="RaggedTensorToTensor",eR="Range",tR="Real",nR="Reciprocal",rR="Relu",sR="Reshape",oR="ResizeNearestNeighbor",iR="ResizeBilinear",aR="Relu6",lR="Reverse",uR="Round",cR="Rsqrt",dR="ScatterNd",fR="TensorScatterUpdate",pR="SearchSorted",hR="Select",mR="Selu",gR="Slice",yR="Sin",vR="Sinh",bR="Sign",wR="Sigmoid",xR="Softplus",SR="Sqrt",ER="Sum",TR="SpaceToBatchND",$R="SplitV",kR="Softmax",NR="SparseFillEmptyRows",CR="SparseReshape",_R="SparseSegmentMean",PR="SparseSegmentSum",AR="SparseToDense",IR="SquaredDifference",OR="StaticRegexReplace",DR="StridedSlice",RR="StringNGrams",FR="StringSplit",MR="StringToHashBucketFast",LR="Sub",BR="Tan",jR="Tanh",z9="Tile",zR="TopK",VR="Transform",hh="Transpose",KR="Unique",UR="Unpack",WR="UnsortedSegmentSum",HR="ZerosLike",GR="Step",ry="FromPixels",qR="RotateWithOffset",sy="_FusedMatMul",oy="FusedConv2D",iy="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $l(...e){ze().getBool("IS_TEST")||ze().getBool("PROD")||console.warn(...e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V9=j3("kernelRegistry",()=>new Map),XR=j3("gradRegistry",()=>new Map);function f2(e,t){const n=YR(e,t);return V9.get(n)}function ay(e){return XR.get(e)}function ly(e){const t=V9.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[o,i]=s,[a]=o.split("_");a===e&&n.push(i)}return n}function YR(e,t){return`${t}_${e}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K9(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JR(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function U9(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=xu(e)),ze().getBool("DEBUG")&&XI(e,t),JR(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){const n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function rf(){return ze().platform.now()}function QR(e,t="utf-8"){return t=t||"utf-8",ze().platform.encode(e,t)}function uy(e,t="utf-8"){return t=t||"utf-8",ze().platform.decode(e,t)}function Sr(e){return ze().platform.isTypedArray!=null?ze().platform.isTypedArray(e):K9(e)}function xu(e,t=[],n=!1){if(t==null&&(t=[]),typeof e=="boolean"||typeof e=="number"||typeof e=="string"||yi(e)||e==null||Sr(e)&&n)t.push(e);else if(Array.isArray(e)||Sr(e))for(let r=0;r<e.length;++r)xu(e[r],t,n);else{let r=-1;for(const s of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)xu(e[s],t,n)}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZR{constructor(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new tF)}profileKernel(t,n,r){let s;const o=()=>{s=r()};let i;const a=rf();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const u of s)u.dataSync();i=Promise.resolve({kernelMs:rf()-a})}if(ze().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<s.length;u++){const c=s[u];c.data().then(d=>{eF(d,c.dtype,t)})}return{kernelName:t,outputs:s,inputs:n,timeMs:i.then(u=>u.kernelMs),extraInfo:i.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:n,outputs:r,timeMs:s,inputs:o,extraInfo:i}=t;r.forEach(a=>{Promise.all([a.data(),s,i]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],o,l[2])})})}}function eF(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){const s=e[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class tF{logKernelProfile(t,n,r,s,o,i){const a=typeof s=="number"?od(`${s}ms`,9):s.error,l=od(t,25),u=n.rank,c=n.size,d=od(n.shape.toString(),14);let f="";for(const p in o){const g=o[p];if(g!=null){const y=g.shape||n.shape,E=y.length;f+=`${p}: ${E}D ${E>0?y:""} `}}console.log(`%c${l}	%c${a}	%c${u}D ${d}	%c${c}	%c${f}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nF(e,t,n){const r={},s={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const u=e[l],c=u.inputs;for(const d in c){const f=c[d];let p=!1;for(let g=0;g<t.length;g++)if(r[f.id]){u.outputs.forEach(y=>r[y.id]=!0),p=!0,s[u.id]=!0;break}if(p)break}}const o={};o[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const u=e[l],c=u.inputs;for(let d=0;d<u.outputs.length;d++)if(o[u.outputs[d].id]){for(const f in c)o[c[f].id]=!0,i[u.id]=!0;break}}const a=[];for(let l=0;l<e.length;l++){const u=e[l];if(s[u.id]&&i[u.id]){const c={};for(const f in u.inputs){const p=u.inputs[f];r[p.id]&&(c[f]=p)}const d=Object.assign({},u);d.inputs=c,d.outputs=u.outputs,a.push(d)}}return a}function rF(e,t,n,r){for(let s=t.length-1;s>=0;s--){const o=t[s],i=[];if(o.outputs.forEach(l=>{const u=e[l.id];u!=null?i.push(u):i.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const a=o.gradient(i);for(const l in o.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const u=n(()=>a[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=o.inputs[l];if(!_s(u.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(e[c.id]==null)e[c.id]=u;else{const d=e[c.id];e[c.id]=r(d,u),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cy=20,kl=3,mh=7;function sF(e,t,n,r){const s=L3(t),o=oF(e,t,n,s),i=t.length,a=id(e,t,n,s,o),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(a.map(u=>"    "+u).join(`
`)),l.join(`
`)}function oF(e,t,n,r){const s=jt(t),o=r[r.length-1],i=new Array(o).fill(0),a=t.length,l=n==="complex64"?Ll(e):e;if(a>1)for(let u=0;u<s/o;u++){const c=u*o;for(let d=0;d<o;d++)i[d]=Math.max(i[d],Ml(l[c+d],0,n).length)}return i}function Ml(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(mh))} + ${parseFloat(e[1].toFixed(mh))}j`:M3(e)?r=`'${e}'`:n==="bool"?r=W9(e):r=parseFloat(e.toFixed(mh)).toString(),od(r,t)}function W9(e){return e===0?"false":"true"}function id(e,t,n,r,s,o=!0){const i=n==="complex64"?2:1,a=t[0],l=t.length;if(l===0){if(n==="complex64"){const y=Ll(e);return[Ml(y[0],0,n)]}return n==="bool"?[W9(e[0])]:[e[0].toString()]}if(l===1){if(a>cy){const E=kl*i;let v=Array.from(e.slice(0,E)),x=Array.from(e.slice((a-kl)*i,a*i));return n==="complex64"&&(v=Ll(v),x=Ll(x)),["["+v.map(($,N)=>Ml($,s[N],n)).join(", ")+", ..., "+x.map(($,N)=>Ml($,s[a-kl+N],n)).join(", ")+"]"]}return["["+(n==="complex64"?Ll(e):Array.from(e)).map((E,v)=>Ml(E,s[v],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*i,f=[];if(a>cy){for(let y=0;y<kl;y++){const E=y*d,v=E+d;f.push(...id(e.slice(E,v),u,n,c,s,!1))}f.push("...");for(let y=a-kl;y<a;y++){const E=y*d,v=E+d;f.push(...id(e.slice(E,v),u,n,c,s,y===a-1))}}else for(let y=0;y<a;y++){const E=y*d,v=E+d;f.push(...id(e.slice(E,v),u,n,c,s,y===a-1))}const p=l===2?",":"";f[0]="["+(a>0?f[0]+p:"");for(let y=1;y<f.length-1;y++)f[y]=" "+f[y]+p;let g=`,
`;for(let y=2;y<l;y++)g+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(o?"":g),f}function Ll(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class p2{constructor(t,n,r){if(this.dtype=n,this.shape=t.slice(),this.size=jt(t),r!=null){const s=r.length;R(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||O9(n,this.size),this.strides=L3(t)}set(t,...n){n.length===0&&(n=[0]),R(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=t}get(...t){t.length===0&&(t=[0]);let n=0;for(const s of t){if(s<0||s>=this.shape[n]){const o=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=this.strides[s]*t[s];return this.values[r]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n}get rank(){return this.shape.length}toTensor(){return Ir().makeTensor(this.values,this.shape,this.dtype)}}let Ir=null,Xi=null;function iF(e){Ir=e}function aF(e){Xi=e}class Pt{constructor(t,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=jt(t),this.strides=L3(t),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return Xi.buffer(this.shape,this.dtype,t)}bufferSync(){return Xi.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return d2(this.shape,t,this.dtype==="complex64")}arraySync(){return d2(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const t=Ir().read(this.dataId);if(this.dtype==="string"){const n=await t;try{return n.map(r=>uy(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataToGPU(t){return this.throwIfDisposed(),Ir().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=Ir().readSync(this.dataId);if(this.dtype==="string")try{return t.map(n=>uy(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await Ir().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Ir().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return Xi.print(this,t)}clone(){return this.throwIfDisposed(),Xi.clone(this)}toString(t=!1){const n=this.dataSync();return sF(n,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),Xi.cast(this,t)}variable(t=!0,n,r){return this.throwIfDisposed(),Ir().makeVariable(this,t,n,r)}}Object.defineProperty(Pt,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function H9(){return j3("Tensor",()=>Pt)}H9();class sf extends Pt{constructor(t,n,r,s){super(t.shape,t.dtype,t.dataId,s),this.trainable=n,this.name=r}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!_s(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);Ir().disposeTensor(this),this.dataId=t.dataId,Ir().incRef(this,null)}dispose(){Ir().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(sf,Symbol.hasInstance,{value:e=>e instanceof Pt&&e.assign!=null&&e.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var dy;(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(dy||(dy={}));var h2;(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(h2||(h2={}));var m2;(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(m2||(m2={}));var g2;(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(g2||(g2={}));var y2;(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(y2||(y2={}));const lF={float32:g2,int32:h2,bool:m2,complex64:y2};function uF(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return lF[e][t]}function G9(e){return e!=null&&typeof e=="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function q9(e){return typeof GPUBuffer<"u"&&e!=null&&typeof e=="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ot(e,t){if(e.dtype===t.dtype)return[e,t];const n=uF(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function cF(e,t){R(e.dtype===t.dtype,()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`)}function X9(e){const t=[];return Y9(e,t,new Set),t}function Y9(e,t,n){if(e==null)return;if(e instanceof Pt){t.push(e);return}if(!dF(e))return;const r=e;for(const s in r){const o=r[s];n.has(o)||(n.add(o),Y9(o,t,n))}}function dF(e){return Array.isArray(e)||typeof e=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gh(e){return e.kernelName!=null}class fy{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class Ra{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new fy}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry))if(t in this.registryFactory){const{asyncInit:n}=this.initializeBackend(t);if(n)return null}else return null;return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,r=1){return t in this.registryFactory?($l(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:n,priority:r},!0)}async setBackend(t){if(this.registryFactory[t]==null)throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,this.registry[t]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(t);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new ZR(this.backendInstance),!0}setupRegisteredKernels(){ly(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(t){ly(t).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[t])})}initializeBackend(t){const n=this.registryFactory[t];if(n==null)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof WI)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,o=r.then(i=>s<this.pendingBackendInitId?!1:(this.registry[t]=i,this.pendingBackendInit=null,!0)).catch(i=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,$l(`Initialization of backend ${t} failed`),$l(i.stack||i.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(r){return $l(`Initialization of backend ${t} failed`),$l(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority)}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n],{success:s,asyncInit:o}=this.initializeBackend(r);if(o||s)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){const r=this.state.tensorInfo.get(n),s=r.backend,o=this.readSync(n),i=s.refCount(n);s.disposeData(n,!0),r.backend=t,t.move(n,o,r.shape,r.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let r=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(t,n,r){t();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Ra.nextTensorId++}nextVariableId(){return Ra.nextVariableId++}clone(t){const n=W.runKernel(j9,{x:t}),r={x:t},s=i=>({x:()=>{const a="float32",l={x:i},u={dtype:a};return W.runKernel(B9,l,u)}}),o=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,o,{}),n}runKernel(t,n,r){if(this.backendName==null&&this.backend,!(f2(t,this.backendName)!=null))throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,r){const s=this.backend.numDataIds();let o=0;r.forEach(l=>{o+=l.dtype==="complex64"?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-o-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${t}'`)}runKernelFunc(t){let n,r=[];const s=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const u=gh(t)?t.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(gh(t)){const{kernelName:g,inputs:y,attrs:E}=t;this.backendName==null&&this.backend;const v=f2(g,this.backendName);R(v!=null,()=>`Cannot find registered kernel '${g}' for backend '${this.backendName}'`),a=()=>{const x=this.backend.numDataIds();l=v.kernelFunc({inputs:y,attrs:E,backend:this.backend});const $=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(g,x,$);const N=$.map(I=>I.rank!=null?I:this.makeTensorFromTensorInfo(I));if(s){const I=this.getTensorsForGradient(g,y,N);r=this.saveTensorsForBackwardMode(I)}return N}}else{const{forwardFunc:g}=t,y=E=>{s&&(r=E.map(v=>this.keep(this.clone(v))))};a=()=>{const E=this.backend.numDataIds();l=this.tidy(()=>g(this.backend,y));const v=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,E,v),v}}const{inputs:c,attrs:d}=t,f=gh(t)?null:t.backwardsFunc;let p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(p=this.profiler.profileKernel(u,c,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),n=p.outputs)}),s&&this.addTapeNode(u,c,n,f,r,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(g=>c[g]!=null?c[g].shape:null),outputShapes:n.map(g=>g.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(t){return t.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(t,n,r){const s=ay(t);if(s!=null){const o=s.inputsToSave||[],i=s.outputsToSave||[];let a;s.saveAllInputs?(R(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(u=>n[u])):a=o.map(u=>n[u]);const l=r.filter((u,c)=>i[c]);return a.concat(l)}return[]}makeTensor(t,n,r,s){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let o=t;r==="string"&&M3(t[0])&&(o=t.map(l=>QR(l)));const i=s.write(o,n,r),a=new Pt(n,r,i,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const l=this.state.tensorInfo.get(i),u=JI(o);this.state.numBytes+=u-l.bytes,l.bytes=u}return a}makeTensorFromDataId(t,n,r,s){r=r||"float32";const o={dataId:t,shape:n,dtype:r};return this.makeTensorFromTensorInfo(o,s)}makeTensorFromTensorInfo(t,n){const{dataId:r,shape:s,dtype:o}=t,i=new Pt(s,o,r,this.nextTensorId());return this.trackTensor(i,n),i}makeVariable(t,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==t.dtype&&(t=t.cast(s));const o=new sf(t,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(t,n){this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++;let r=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(r=t.size*u2(t.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r})),t instanceof sf||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,t.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),t.dtype!=="complex64"&&t.dtype!=="string"){const r=t.size*u2(t.dtype);this.state.numBytes-=r}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(t,n,r,s,o,i){const a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:o},l=ay(t);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=u=>(u=u.map((c,d)=>{if(c==null){const f=r[d],p=B3(f.size,f.dtype);return this.makeTensor(p,f.shape,f.dtype)}return c}),s(u.length>1?u:u[0],o,i))),this.state.activeTape.push(a)}keep(t){return t.kept=!0,t}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){const n=X9(t),r=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const i=this.state.activeScope.track[o];!i.kept&&!r.has(i.id)&&i.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===s.id&&this.track(o)})}gradients(t,n,r,s=!1){if(R(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",t));R(o instanceof Pt,()=>"The result y returned by f() must be a tensor.");const i=nF(this.state.activeTape,n,o);if(!s&&i.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[o.id]=r??fF(o.shape),rF(a,i,u=>this.tidy(u),pF);const l=n.map(u=>a[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(t){return R(c2(t),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{R(n.every(a=>a instanceof Pt),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,l)=>{s[l]=a});const o=(a,l)=>(r=t(...n,l),R(r.value instanceof Pt,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),R(c2(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),i=(a,l)=>{const u=r.gradFunc(a,l),c=Array.isArray(u)?u:[u];R(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),R(c.every(f=>f instanceof Pt),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return c.forEach((f,p)=>{d[p]=()=>f}),d};return this.runKernelFunc({forwardFunc:o,backwardsFunc:i,inputs:s})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){const n=rf(),r=await this.backend.time(t);return r.wallMs=rf()-n,r}track(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new fy;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Ra.nextTensorId=0;Ra.nextVariableId=0;function fF(e){const t=R9(jt(e),"float32");return W.makeTensor(t,e,"float32")}function J9(){const e=M9();if(e._tfengine==null){const t=new eO(e);e._tfengine=new Ra(t)}return sO(e._tfengine.ENV),iF(()=>e._tfengine),e._tfengine}const W=J9();function pF(e,t){const n={a:e,b:t};return W.runKernel(L9,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hF(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kn=ze();kn.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});kn.registerFlag("IS_BROWSER",()=>hF());kn.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");kn.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));kn.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));kn.registerFlag("PROD",()=>!1);kn.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>kn.getBool("DEBUG"));kn.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);kn.registerFlag("IS_TEST",()=>!1);kn.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>kn.getBool("DEBUG"));kn.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);kn.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);kn.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ao(e,t){let n=e;if(Sr(e))return t==="string"?[]:[e.length];if(G9(e)){const s=e.channels||"RGBA";return[e.height,e.width*s.length]}else if(q9(e))return[e.buffer.size/(t==null?4:u2(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Sr(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&ze().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Q9(e,r,[]),r}function Q9(e,t,n){if(n=n||[],!Array.isArray(e)&&!Sr(e)){R(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}R(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),R(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let s=0;s<e.length;++s)Q9(e[s],r,n.concat(s))}function py(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function A(e,t,n,r="numeric"){if(e instanceof H9())return py(r,e.dtype,t,n),e;let s=Yf(e);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),py(r,s,t,n),e==null||!Sr(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){const l=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const o=Ao(e,s);!Sr(e)&&!Array.isArray(e)&&(e=[e]);const a=s!=="string"?U9(e,s):xu(e,[],!0);return W.makeTensor(a,o,s)}function of(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((o,i)=>A(o,`${t}[${i}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z9="__op";function z(e){const t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+Z9;const s=(...o)=>{W.startScope(n);try{const i=r(...o);return yi(i)&&console.error("Cannot return a Promise inside of tidy."),W.endScope(i),i}catch(i){throw W.endScope(null),i}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mF(e,t){const n=A(e,"real","complex"),r=A(t,"imag","complex");Tr(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return W.runKernel(CO,s)}const $o=z({complex_:mF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Io(e,t,n,r){if(r==null)r=Yf(e);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(q9(e)||G9(e)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return W.backend.createTensorFromGPUData(e,t||n,r)}if(!Sr(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){rr(t);const s=jt(t),o=jt(n);R(s===o,()=>`Based on the provided shape, [${t}], the tensor should have ${s} values but has ${o}`);for(let i=0;i<n.length;++i){const a=n[i],l=i===n.length-1?a!==jt(t.slice(i)):!0;R(n[i]===t[i]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!Sr(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?U9(e,r):xu(e,[],!0),W.makeTensor(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jr(e,t,n){const r=Ao(e,n);return Io(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vi={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Br{static join(t){return new Br(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(r=>Sr(r)?r.buffer:r),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let n=0;for(let r=0;r<t.length;r++){const s=t[r];r!==t.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+s.byteLength;this.shards.push({buffer:s,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,n=isNaN(Number(n))?0:n,t=Math.max(0,t),n=Math.min(this.byteLength,n),n<=t)return new ArrayBuffer(0);const r=this.findShardForByte(t);if(r===-1)throw new Error(`Could not find start shard for byte ${t}`);const s=n-t,o=new ArrayBuffer(s),i=new Uint8Array(o);let a=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],d=t+a-u.start,f=a,g=Math.min(n,u.end)-u.start,y=new Uint8Array(u.buffer,d,g-d);if(i.set(y,f),a+=y.length,n<u.end)break}return o}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function n(s){return t<s.start?-1:t>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=gF(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function gF(e,t){let n=0,r=e.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,o=t(e[s]);if(o===0)return s;o<0?r=s:n=s+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Le(e,t){return W.tidy(e,t)}function Nt(e){X9(e).forEach(n=>n.dispose())}function Hr(e){return W.keep(e)}function yF(){return W.backendName}function vF(){return W.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ko=4;async function bF(e,t){const n=[],r=[],s=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);for(let i=0;i<s.length;++i){const a=s[i],l=Array.isArray(e)?e[i].tensor:e[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const u={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async d=>{const f=await l.bytes(),p=f.reduce((E,v)=>E+v.length,0)+ko*f.length,g=new Uint8Array(p);let y=0;for(let E=0;E<f.length;E++){const v=f[E],x=new Uint8Array(new Uint32Array([v.length]).buffer);g.set(x,y),y+=ko,g.set(v,y),y+=v.length}d(g)});r.push(c)}else r.push(l.data());t!=null&&(u.group=t),n.push(u)}const o=await Promise.all(r);return{data:SF(o),specs:n}}function ew(e,t){const n=new Br(e),r={};let s=0;for(const o of t){const i=wF(o,(a,l)=>n.slice(s+a,s+l));r[o.name]=tw(o,n.slice(s,s+i)),s+=i}return r}function wF(e,t){const n=jt(e.shape);let r;if("quantization"in e){const s=e.quantization;r=vi[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=ko+new Uint32Array(t(s,s+ko))[0];return s}else r=vi[e.dtype];return n*r}async function xF(e,t){const n=jt(e.shape);let r;if("quantization"in e){const s=e.quantization;r=vi[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=ko+new Uint32Array(await t(s,s+ko))[0];return s}else r=vi[e.dtype];return n*r}function tw(e,t){const n=e.name,r=e.dtype,s=e.shape,o=jt(s);let i,a=0;if("quantization"in e){const l=e.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${e.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${e.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${e.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=vi[l.dtype],c=l.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){i=new Float32Array(c.length);for(let d=0;d<c.length;d++){const f=c[d];i[d]=f*l.scale+l.min}}else if(l.dtype==="float16")i=_F()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);i=new Int32Array(c.length);for(let d=0;d<c.length;d++){const f=c[d];i[d]=Math.round(f*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*u}else if(r==="string"){const l=jt(e.shape);i=[];for(let u=0;u<l;u++){const c=new Uint32Array(t.slice(a,a+ko))[0];a+=ko;const d=new Uint8Array(t.slice(a,a+c));i.push(d),a+=c}}else{const l=vi[r];if(r==="float32")i=new Float32Array(t);else if(r==="int32")i=new Int32Array(t);else if(r==="bool")i=new Uint8Array(t);else if(r==="complex64"){i=new Float32Array(t);const u=new Float32Array(i.length/2),c=new Float32Array(i.length/2);for(let g=0;g<u.length;g++)u[g]=i[g*2],c[g]=i[g*2+1];const d=Jr(u,s,"float32"),f=Jr(c,s,"float32"),p=$o(d,f);return d.dispose(),f.dispose(),p}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*l}return Jr(i,s,r)}async function hy(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:s,value:o}=await e.read();if(s&&o==null){const a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}const i=new Uint8Array(r.length+o.byteLength);i.set(r,0),i.set(new Uint8Array(o),r.length),r=i}return r.buffer}async function nw(e,t){const n={},r=e.getReader();let s=new ArrayBuffer(0);for(const o of t){const i=await xF(o,async(u,c)=>(s=await hy(r,s,c),s.slice(u,c)));s=await hy(r,s,i);const a=s.slice(0,i);s=s.slice(i);const l=tw(o,a);if(n[o.name]=l,yF()==="webgpu"){const u=vF();"uploadToGPU"in u&&jt(l.shape)>=ze().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(l.dataId)}}return n}function SF(e){if(e===null)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(o=>{if(t+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const r=new Uint8Array(t);let s=0;return n.forEach(o=>{r.set(new Uint8Array(o.buffer),s),s+=o.byteLength}),r.buffer}const z3=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function my(e){return z3?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function EF(e){if(z3)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,s=t.length;r<s;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function TF(e){if(z3){const r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function $F(e){return Br.join(e)}function gy(e){const t="/";for(e=e.trim();e.endsWith(t);)e=e.slice(0,e.length-1);const n=e.split(t);return n[n.length-1]}function rw(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(n.initializerSignature=e.initializerSignature),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function sw(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(r.trainingConfig=e.trainingConfig),e.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return e.signature!=null&&(r.signature=e.signature),e.userDefinedMetadata!=null&&(r.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(r.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(r.initializerSignature=e.initializerSignature),r}async function V3(e,t){let n,r;return e.weightsManifest!=null&&([n,r]=await t(e.weightsManifest)),sw(e,n,r)}function Ku(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:my(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:my(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:new Br(e.weightData).byteLength}}function v2(e){const t=[];for(const n of e)t.push(...n.weights);return t}function kF(){const e=n=>{let r=n<<13,s=0;for(;!(r&8388608);)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}function NF(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function CF(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function _F(){const e=kF(),t=NF(),n=CF();return r=>{const s=new ArrayBuffer(4*r.length),o=new Uint32Array(s);for(let i=0;i<r.length;i++){const a=r[i],l=e[n[a>>10]+(a&1023)]+t[a>>10];o[i]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $t{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return $t.instance==null&&($t.instance=new $t),$t.instance}static registerSaveRouter(t){$t.getInstance().saveRouters.push(t)}static registerLoadRouter(t){$t.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return $t.getHandlers(t,"save")}static getLoadHandlers(t,n){return $t.getHandlers(t,"load",n)}static getHandlers(t,n,r){const s=[];return(n==="load"?$t.getInstance().loadRouters:$t.getInstance().saveRouters).forEach(i=>{const a=i(t,r);a!==null&&s.push(a)}),s}}const PF=e=>$t.registerSaveRouter(e),AF=e=>$t.registerLoadRouter(e),IF=e=>$t.getSaveHandlers(e),OF=(e,t)=>$t.getLoadHandlers(e,t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b2="tensorflowjs",w2=1,ni="models_store",oo="model_info_store";function ow(){if(!ze().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function x2(e){const t=e.result;t.createObjectStore(ni,{keyPath:"modelPath"}),t.createObjectStore(oo,{keyPath:"modelPath"})}class bi{constructor(t){if(this.indexedDB=ow(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,n){return new Promise((r,s)=>{const o=this.indexedDB.open(b2,w2);o.onupgradeneeded=()=>x2(o),o.onsuccess=()=>{const i=o.result;if(n==null){const a=i.transaction(ni,"readonly"),u=a.objectStore(ni).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return i.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(i.close(),s(u.error)),a.oncomplete=()=>i.close()}else{n.weightData=Br.join(n.weightData);const a=Ku(n),l=i.transaction(oo,"readwrite");let u=l.objectStore(oo),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(f){return s(f)}let d;c.onsuccess=()=>{d=i.transaction(ni,"readwrite");const f=d.objectStore(ni);let p;try{p=f.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(g){return s(g)}p.onsuccess=()=>r({modelArtifactsInfo:a}),p.onerror=g=>{u=l.objectStore(oo);const y=u.delete(this.modelPath);y.onsuccess=()=>(i.close(),s(p.error)),y.onerror=E=>(i.close(),s(p.error))}},c.onerror=f=>(i.close(),s(c.error)),l.oncomplete=()=>{d==null?i.close():d.oncomplete=()=>i.close()}}},o.onerror=i=>s(o.error)})}}bi.URL_SCHEME="indexeddb://";const iw=e=>ze().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(bi.URL_SCHEME)?DF(e.slice(bi.URL_SCHEME.length)):null;$t.registerSaveRouter(iw);$t.registerLoadRouter(iw);function DF(e){return new bi(e)}function RF(e){return e.startsWith(bi.URL_SCHEME)?e.slice(bi.URL_SCHEME.length):e}class FF{constructor(){this.indexedDB=ow()}async listModels(){return new Promise((t,n)=>{const r=this.indexedDB.open(b2,w2);r.onupgradeneeded=()=>x2(r),r.onsuccess=()=>{const s=r.result,o=s.transaction(oo,"readonly"),a=o.objectStore(oo).getAll();a.onsuccess=()=>{const l={};for(const u of a.result)l[u.modelPath]=u.modelArtifactsInfo;t(l)},a.onerror=l=>(s.close(),n(a.error)),o.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(t){return t=RF(t),new Promise((n,r)=>{const s=this.indexedDB.open(b2,w2);s.onupgradeneeded=()=>x2(s),s.onsuccess=()=>{const o=s.result,i=o.transaction(oo,"readwrite"),a=i.objectStore(oo),l=a.get(t);let u;l.onsuccess=()=>{if(l.result==null)return o.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const c=a.delete(t),d=()=>{u=o.transaction(ni,"readwrite");const p=u.objectStore(ni).delete(t);p.onsuccess=()=>n(l.result.modelArtifactsInfo),p.onerror=g=>r(l.error)};c.onsuccess=d,c.onerror=f=>(d(),o.close(),r(l.error))}},l.onerror=c=>(o.close(),r(l.error)),i.oncomplete=()=>{u==null?o.close():u.oncomplete=()=>o.close()}},s.onerror=o=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fs="/",Yi="tensorflowjs_models",aw="info",MF="model_topology",LF="weight_specs",BF="weight_data",jF="model_metadata";function lw(e){return{info:[Yi,e,aw].join(fs),topology:[Yi,e,MF].join(fs),weightSpecs:[Yi,e,LF].join(fs),weightData:[Yi,e,BF].join(fs),modelMetadata:[Yi,e,jF].join(fs)}}function uw(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function zF(e){const t=e.split(fs);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(fs)}function VF(e){return e.startsWith(wi.URL_SCHEME)?e.slice(wi.URL_SCHEME.length):e}class wi{constructor(t){if(!ze().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=lw(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),s=Ku(t),o=Br.join(t.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,EF(o));const i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:t.signature!=null?t.signature:void 0,userDefinedMetadata:t.userDefinedMetadata!=null?t.userDefinedMetadata:void 0,modelInitializer:t.modelInitializer!=null?t.modelInitializer:void 0,initializerSignature:t.initializerSignature!=null?t.initializerSignature:void 0,trainingConfig:t.trainingConfig!=null?t.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:s}}catch{throw uw(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(t==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const a=JSON.parse(o);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=TF(i),n}}wi.URL_SCHEME="localstorage://";const cw=e=>ze().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(wi.URL_SCHEME)?KF(e.slice(wi.URL_SCHEME.length)):null;$t.registerSaveRouter(cw);$t.registerLoadRouter(cw);function KF(e){return new wi(e)}class UF{constructor(){R(ze().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),R(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const t={},n=Yi+fs,r=fs+aw;for(let s=0;s<this.LS.length;++s){const o=this.LS.key(s);if(o.startsWith(n)&&o.endsWith(r)){const i=zF(o);t[i]=JSON.parse(this.LS.getItem(o))}}return t}async removeModel(t){t=VF(t);const n=lw(t);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(this.LS.getItem(n.info));return uw(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sa="://";class hn{constructor(){this.managers={}}static getInstance(){return hn.instance==null&&(hn.instance=new hn),hn.instance}static registerManager(t,n){R(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(Sa)&&(t=t.slice(0,t.indexOf(Sa))),R(t.length>0,()=>"scheme must not be an empty string.");const r=hn.getInstance();R(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){const n=hn.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(hn.getInstance().managers)}}function ad(e){if(e.indexOf(Sa)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${hn.getSchemes().join(",")}`);return{scheme:e.split(Sa)[0],path:e.split(Sa)[1]}}async function dw(e,t,n=!1){R(e!==t,()=>`Old path and new path are the same: '${e}'`);const r=$t.getLoadHandlers(e);R(r.length>0,()=>`Copying failed because no load handler is found for source URL ${e}.`),R(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`);const s=r[0],o=$t.getSaveHandlers(t);R(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),R(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`);const i=o[0],a=ad(e).scheme,l=ad(e).path,u=a===ad(e).scheme,c=await s.load();n&&u&&await hn.getManager(a).removeModel(l);const d=await i.save(c);return n&&!u&&await hn.getManager(a).removeModel(l),d.modelArtifactsInfo}async function WF(){const e=hn.getSchemes(),t={};for(const n of e){const r=await hn.getManager(n).listModels();for(const s in r){const o=n+Sa+s;t[o]=r[s]}}return t}async function HF(e){const t=ad(e);return hn.getManager(t.scheme).removeModel(t.path)}async function GF(e,t){return dw(e,t,!1)}async function qF(e,t){return dw(e,t,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XF{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,n){return fetch(t,n)}now(){return performance.now()}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,n){return new TextDecoder(n).decode(t)}setTimeoutCustom(t,n){if(typeof window>"u"||!ze().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(t,n);return}this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(t){return K9(t)}}if(ze().get("IS_BROWSER")){ze().setPlatform("browser",new XF);try{hn.registerManager(wi.URL_SCHEME,new UF)}catch{}try{hn.registerManager(bi.URL_SCHEME,new FF)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YF={importFetch:()=>require("node-fetch")};let yh;class JF{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(t,n){return ze().global.fetch!=null?ze().global.fetch(t,n):(yh==null&&(yh=YF.importFetch()),yh(t,n))}now(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(t)}decode(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}}ze().get("IS_NODE")&&!ze().get("IS_BROWSER")&&ze().setPlatform("node",new JF);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ps(e,t="float32",n){return t=t||"float32",rr(e),new p2(e,t,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QF(e,t){const n=A(e,"x","cast");if(!YI(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:t};return W.runKernel(B9,r,s)}const ht=z({cast_:QF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZF(e){const n={x:A(e,"x","clone","string_or_numeric")};return W.runKernel(j9,n)}const vo=z({clone_:ZF});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fw(e,t=!1){console.log(e.toString(t))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */J9();const eM={buffer:Ps,cast:ht,clone:vo,print:fw};aF(eM);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tM(e,t){let n=A(e,"a","add"),r=A(t,"b","add");[n,r]=Ot(n,r);const s={a:n,b:r};return W.runKernel(L9,s)}const $e=z({add_:tM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nM(e,t){let n=A(e,"a","floorDiv"),r=A(t,"b","floorDiv");[n,r]=Ot(n,r);const s={a:n,b:r};return W.runKernel(iD,s)}const pw=z({floorDiv_:nM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rM(e,t){let n=A(e,"a","div"),r=A(t,"b","div");if([n,r]=Ot(n,r),n.dtype==="int32"&&r.dtype==="int32")return pw(n,r);const s={a:n,b:r},o={};return W.runKernel(qO,s,o)}const je=z({div_:rM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sM(e,t){let n=A(e,"a","mul"),r=A(t,"b","mul");[n,r]=Ot(n,r);const s={a:n,b:r};return W.runKernel(LD,s)}const he=z({mul_:sM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oM(e){const t=A(e,"x","abs");if(t.dtype==="complex64"){const n={x:t};return W.runKernel(_O,n)}else{const n={x:t};return W.runKernel(iO,n)}}const Xn=z({abs_:oM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iM(e){const n={x:A(e,"x","acos")};return W.runKernel(aO,n)}const aM=z({acos_:iM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lM(e){const n={x:A(e,"x","acosh")};return W.runKernel(lO,n)}const uM=z({acosh_:lM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cM(e){R(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),R(e.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`);const t=e.map((s,o)=>A(s,`tensors${o}`,"addN")),n=t[0];t.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(s=>{if(!_s(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=t;return W.runKernel(uO,r)}const dM=z({addN_:cM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fM(e,t=null,n=!1){const s={x:A(e,"x","all","bool")},o={axis:t,keepDims:n};return W.runKernel(cO,s,o)}const pM=z({all_:fM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hM(e,t=null,n=!1){const s={x:A(e,"x","any","bool")},o={axis:t,keepDims:n};return W.runKernel(dO,s,o)}const mM=z({any_:hM});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gM(e,t=0){const r={x:A(e,"x","argMax")},s={axis:t};return W.runKernel(fO,r,s)}const yM=z({argMax_:gM});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vM(e,t=0){const r={x:A(e,"x","argMin")},s={axis:t};return W.runKernel(pO,r,s)}const bM=z({argMin_:vM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wM(e){const n={x:A(e,"x","asin")};return W.runKernel(hO,n)}const xM=z({asin_:wM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SM(e){const n={x:A(e,"x","asinh")};return W.runKernel(mO,n)}const EM=z({asinh_:SM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TM(e){const n={x:A(e,"x","atan")};return W.runKernel(gO,n)}const $M=z({atan_:TM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kM(e,t){let n=A(e,"a","atan2"),r=A(t,"b","atan2");[n,r]=Ot(n,r);const s={a:n,b:r};return W.runKernel(vO,s)}const NM=z({atan2_:kM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CM(e){const n={x:A(e,"x","atanh")};return W.runKernel(yO,n)}const _M=z({atanh_:CM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PM(e,t,n,r,s,o,i="channelsLast"){const[a,l]=Su(t);let u;if(i==="channelsLast")u=[a,l,e[3],e[3]];else if(i==="channelsFirst")u=[a,l,e[1],e[1]];else throw new Error(`Unknown dataFormat ${i}`);return K3(e,u,n,r,s,o,!1,i)}function K3(e,t,n,r,s,o,i=!1,a="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,d]=e;else if(a==="channelsFirst")[l,d,u,c]=e;else throw new Error(`Unknown dataFormat ${a}`);const[f,p,,g]=t,[y,E]=Su(n),[v,x]=Su(r),$=S2(f,v),N=S2(p,x),{padInfo:I,outHeight:O,outWidth:U}=OM(s,u,c,y,E,$,N,o,a),C=i?g*d:g;let j;return a==="channelsFirst"?j=[l,C,O,U]:a==="channelsLast"&&(j=[l,O,U,C]),{batchSize:l,dataFormat:a,inHeight:u,inWidth:c,inChannels:d,outHeight:O,outWidth:U,outChannels:C,padInfo:I,strideHeight:y,strideWidth:E,filterHeight:f,filterWidth:p,effectiveFilterHeight:$,effectiveFilterWidth:N,dilationHeight:v,dilationWidth:x,inShape:e,outShape:j,filterShape:t}}function AM(e,t,n,r,s){r==null&&(r=IM(e,t,n));const o=e[0],i=e[1],a=af((o-t+2*r)/n+1,s),l=af((i-t+2*r)/n+1,s);return[a,l]}function IM(e,t,n,r=1){const s=S2(t,r);return Math.floor((e[0]*(n-1)-n+s)/2)}function Su(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function S2(e,t){return t<=1?e:e+(e-1)*(t-1)}function OM(e,t,n,r,s,o,i,a,l){let u,c,d;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};const p=AM([t,n],o,r,e,a);c=p[0],d=p[1]}else if(e==="same"){c=Math.ceil(t/r),d=Math.ceil(n/s);const f=Math.max(0,(c-1)*r+o-t),p=Math.max(0,(d-1)*s+i-n),g=Math.floor(f/2),y=f-g,E=Math.floor(p/2),v=p-E;u={top:g,bottom:y,left:E,right:v,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),d=Math.ceil((n-i+1)/s);else if(typeof e=="object"){const f=l==="channelsLast"?e[1][0]:e[2][0],p=l==="channelsLast"?e[1][1]:e[2][1],g=l==="channelsLast"?e[2][0]:e[3][0],y=l==="channelsLast"?e[2][1]:e[3][1];u={top:f,bottom:p,left:g,right:y,type:f===0&&p===0&&g===0&&y===0?"VALID":"EXPLICIT"},c=af((t-o+f+p)/r+1,a),d=af((n-i+g+y)/s+1,a)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:d}}function af(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function lf(e){const[t,n,r]=Su(e);return t===1&&n===1&&r===1}function Oo(e,t){return lf(e)||lf(t)}function Fa(e){return Su(e).every(t=>t>0)}function jr(e,t,n){if(n!=null){if(typeof t=="string")throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if(typeof t=="number")R(wu(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else if(typeof t=="object")t.forEach(r=>{r.forEach(s=>{R(wu(s),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DM(e,t){const r={x:A(e,"x","reshape","string_or_numeric")},s={shape:t};return W.runKernel(sR,r,s)}const ie=z({reshape_:DM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RM(e,t,n,r,s){const o=A(e,"x","avgPool","float32"),i=1;R(Oo(n,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let a=o,l=!1;o.rank===3&&(l=!0,a=ie(o,[1,o.shape[0],o.shape[1],o.shape[2]])),R(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),jr("avgPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s};let d=W.runKernel(bO,u,c);return d=ht(d,o.dtype),l?ie(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const hw=z({avgPool_:RM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FM(e,t,n,r,s,o="NDHWC"){const i=A(e,"x","avgPool3d","float32");let a=i,l=!1;i.rank===4&&(l=!0,a=ie(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),R(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),R(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),R(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),jr("avgPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o};let d=W.runKernel(wO,u,c);return d=ht(d,a.dtype),l?ie(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const MM=z({avgPool3d_:FM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LM(e,t=0){R(e.length>=1,()=>"Pass at least one tensor to concat");const n=of(e,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return vo(n[0]);const r=n,s={axis:t};return W.runKernel(PO,r,s)}const en=z({concat_:LM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BM(e,t,n=!1,r=!1){let s=A(e,"a","matMul"),o=A(t,"b","matMul");[s,o]=Ot(s,o);const i={a:s,b:o},a={transposeA:n,transposeB:r};return W.runKernel(xO,i,a)}const st=z({matMul_:BM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jM(e){const n={x:A(e,"x","sigmoid","float32")};return W.runKernel(wR,n)}const li=z({sigmoid_:jM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zM(e,t,n){const r=A(e,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},o={begin:t,size:n};return W.runKernel(gR,s,o)}const De=z({slice_:zM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VM(e){const n={x:A(e,"x","tanh","float32")};return W.runKernel(jR,n)}const E2=z({tanh_:VM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KM(e,t,n,r,s,o){const i=A(e,"forgetBias","basicLSTMCell"),a=A(t,"lstmKernel","basicLSTMCell"),l=A(n,"lstmBias","basicLSTMCell"),u=A(r,"data","basicLSTMCell"),c=A(s,"c","basicLSTMCell"),d=A(o,"h","basicLSTMCell"),f=en([u,d],1),p=st(f,a),g=$e(p,l),y=g.shape[0],E=g.shape[1]/4,v=[y,E],x=De(g,[0,0],v),$=De(g,[0,E],v),N=De(g,[0,E*2],v),I=De(g,[0,E*3],v),O=$e(he(li(x),E2($)),he(c,li($e(i,N)))),U=he(E2(O),li(I));return[O,U]}const UM=z({basicLSTMCell_:KM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WM(e,t,n){const r=A(e,"x","batchToSpaceND"),s=t.reduce((a,l)=>a*l);R(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),R(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),R(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${s}`);const o={x:r},i={blockShape:t,crops:n};return W.runKernel(SO,o,i)}const mw=z({batchToSpaceND_:WM});function HM(e){let t;return e.rank===0||e.rank===1?t=ie(e,[1,1,1,e.size]):e.rank===2?t=ie(e,[1,1,e.shape[0],e.shape[1]]):e.rank===3?t=ie(e,[1,e.shape[0],e.shape[1],e.shape[2]]):t=e,t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GM(e,t,n,r,s,o){o==null&&(o=.001);const i=A(e,"x","batchNorm"),a=A(t,"mean","batchNorm"),l=A(n,"variance","batchNorm");let u;s!=null&&(u=A(s,"scale","batchNorm"));let c;r!=null&&(c=A(r,"offset","batchNorm")),R(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),R(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),R(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const f={x:HM(i),scale:u,offset:c,mean:a,variance:l},p={varianceEpsilon:o},g=W.runKernel(aD,f,p);return ie(g,i.shape)}const Jf=z({batchNorm_:GM});function qM(e,t,n,r,s,o){const i=A(e,"x","batchNorm"),a=A(t,"mean","batchNorm"),l=A(n,"variance","batchNorm");let u;s!=null&&(u=A(s,"scale","batchNorm"));let c;return r!=null&&(c=A(r,"offset","batchNorm")),R(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),R(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),R(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&R(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&R(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),Jf(i,a,l,c,u,o)}const XM=z({batchNorm2d_:qM});function YM(e,t,n,r,s,o){const i=A(e,"x","batchNorm"),a=A(t,"mean","batchNorm"),l=A(n,"variance","batchNorm");let u;s!=null&&(u=A(s,"scale","batchNorm"));let c;return r!=null&&(c=A(r,"offset","batchNorm")),R(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),R(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),R(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&R(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&R(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),Jf(i,a,l,c,u,o)}const JM=z({batchNorm3d_:YM});function QM(e,t,n,r,s,o){const i=A(e,"x","batchNorm"),a=A(t,"mean","batchNorm"),l=A(n,"variance","batchNorm");let u;s!=null&&(u=A(s,"scale","batchNorm"));let c;return r!=null&&(c=A(r,"offset","batchNorm")),R(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),R(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),R(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&R(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&R(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),Jf(i,a,l,c,u,o)}const ZM=z({batchNorm4d_:QM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eL(e,t,n){const r=A(e,"x","bincount"),s=A(t,"weights","bincount");R(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),R(n>=0,()=>`size must be non-negative, but got ${n}.`),R(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const o={x:r,weights:s},i={size:n};return W.runKernel(EO,o,i)}const gw=z({bincount_:eL});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tL(e,t){const n=A(e,"x","bitwiseAnd"),r=A(t,"y","bitwiseAnd");if(!_s(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return W.runKernel(TO,s)}const nL=z({bitwiseAnd_:tL});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rL(e,t){const n=A(e,"s0","broadcastArgs","int32"),r=A(t,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return W.runKernel($O,s)}const sL=z({broadcastArgs_:rL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oL(e,t){let n=A(e,"broadcastTo","x");const r=n.shape;if(rr(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const u=n.shape.slice();for(;u.length<t.length;)u.unshift(1);n=ie(n,u)}const s=n.shape,o=Array.from(t);for(let u=t.length-1;u>=0;u--)if(s[u]===t[u])o[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(o.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return vo(n);const a={x:n},l={reps:o};return W.runKernel(z9,a,l)}const ld=z({broadcastTo_:oL});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iL(e){const n={x:A(e,"x","ceil","float32")};return W.runKernel(kO,n)}const aL=z({ceil_:iL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uu(e,t,n){rr(e),n=n||Yf(t);const r={shape:e,value:t,dtype:n};return W.runKernel(rD,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lL(e,t,n){const r=A(e,"x","clipByValue");if(R(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return Uu(r.shape,t,r.dtype);const s={x:r},o={clipValueMin:t,clipValueMax:n};return W.runKernel(NO,s,o)}const yw=z({clipByValue_:lL});function uL(e){return en(e,0)}const cL=z({concat1d_:uL});function dL(e,t){return en(e,t)}const fL=z({concat2d_:dL});function pL(e,t){return en(e,t)}const hL=z({concat3d_:pL});function mL(e,t){return en(e,t)}const gL=z({concat4d_:mL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yL(e,t,n,r,s="NHWC",o=[1,1],i){const a=A(e,"x","conv2d","float32"),l=A(t,"filter","conv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=ie(a,[1,a.shape[0],a.shape[1],a.shape[2]])),R(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),R(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),jr("conv2d",r,i);const d=s==="NHWC"?u.shape[3]:u.shape[1];R(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),R(Oo(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),R(Fa(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),R(Fa(n),()=>"Error in conv2D: Strides should be larger than 0.");const f={x:u,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},g=W.runKernel(AO,f,p);return c?ie(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const Qf=z({conv2d_:yL});function vL(e,t,n,r,s="NWC",o=1,i){const a=A(e,"x","conv1d"),l=A(t,"filter","conv1d");let u=a,c=!1;a.rank===2&&(c=!0,u=ie(a,[1,a.shape[0],a.shape[1]])),R(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),R(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),jr("conv1d",r,i),R(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),R(Oo(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),R(Fa(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),R(Fa(n),()=>"Error in conv1D: Stride should be larger than 0."),R(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const d=ie(l,[1,l.shape[0],l.shape[1],l.shape[2]]),f=ie(u,[u.shape[0],1,u.shape[1],u.shape[2]]),E=Qf(f,d,[1,n],r,"NHWC",[1,o],i);return c?ie(E,[E.shape[2],E.shape[3]]):ie(E,[E.shape[0],E.shape[2],E.shape[3]])}const bL=z({conv1d_:vL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wL(e,t,n,r,s,o="NHWC",i){R(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let a=e,l=t,u=!1;t.rank===3&&(u=!0,l=ie(t,[1,t.shape[0],t.shape[1],t.shape[2]]),a=[1,e[0],e[1],e[2]]),R(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),R(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),R(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?a[3]:a[1],d=o==="NHWC"?l.shape[3]:l.shape[1];R(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),R(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),jr("conv2dDerInput",s,i);const f={dy:l,filter:n},p={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,inputShape:a},g=W.runKernel(OO,f,p);return u?ie(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const vw=z({conv2DBackpropInput_:wL});function xL(e,t,n,r,s,o){const i=A(e,"x","conv2dTranspose"),a=A(t,"filter","conv2dTranspose");return vw(n,i,a,r,s,"NHWC",o)}const SL=z({conv2dTranspose_:xL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EL(e,t,n,r,s="NDHWC",o=[1,1,1]){const i=A(e,"x","conv3d"),a=A(t,"filter","conv3d");let l=i,u=!1;i.rank===4&&(u=!0,l=ie(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),R(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),R(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),R(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),R(Oo(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),R(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),R(Fa(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),R(Fa(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:a},d={strides:n,pad:r,dataFormat:s,dilations:o},f=W.runKernel(DO,c,d);return u?ie(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const TL=z({conv3d_:EL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $L(e,t,n,r,s){R(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,i=t,a=!1;t.rank===4&&(a=!0,i=ie(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=i.shape[4];R(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),R(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),R(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),R(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),R(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:i,filter:n},d={pad:s,strides:r,inputShape:o},f=W.runKernel(RO,c,d);return a?ie(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const kL=z({conv3DBackpropInput_:$L});function NL(e,t,n,r,s){const o=A(e,"x","conv3dTranspose"),i=A(t,"filter","conv3dTranspose");return kL(n,o,i,r,s)}const CL=z({conv3dTranspose_:NL});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _L(e){const n={x:A(e,"x","cos","float32")};return W.runKernel(FO,n)}const PL=z({cos_:_L});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AL(e){const n={x:A(e,"x","cosh","float32")};return W.runKernel(MO,n)}const IL=z({cosh_:AL});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OL(e,t=0,n=!1,r=!1){const o={x:A(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return W.runKernel(LO,o,i)}const DL=z({cumprod_:OL});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RL(e,t=0,n=!1,r=!1){const o={x:A(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return W.runKernel(BO,o,i)}const FL=z({cumsum_:RL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ML(e,t,n,r=!1){const s=A(e,"x","denseBincount"),o=A(t,"weights","denseBincount");R(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),R(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),R(n>=0,()=>`size must be non-negative, but got ${n}.`),R(o.size===s.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${o.shape}.`);const i={x:s,weights:o},a={size:n,binaryOutput:r};return W.runKernel(zO,i,a)}const LL=z({denseBincount_:ML});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BL(e,t,n="NHWC"){const r=A(e,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];R(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),R(s*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${t}  for depthToSpace with input shape
    ${r.shape}`),R(o*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${t} for depthToSpace with input shape
        ${r.shape}`),R(i%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:t,dataFormat:n};return W.runKernel(VO,a,l)}const jL=z({depthToSpace_:BL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zL(e,t,n,r,s="NHWC",o=[1,1],i){const a=A(e,"x","depthwiseConv2d","float32"),l=A(t,"filter","depthwiseConv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=ie(a,[1,a.shape[0],a.shape[1],a.shape[2]])),R(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),R(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=s==="NHWC"?u.shape[3]:u.shape[1];R(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),jr("depthwiseConv2d",r,i);const f={x:u,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},g=W.runKernel(KO,f,p);return c?ie(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const U3=z({depthwiseConv2d_:zL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VL(e){const n={x:A(e,"x","diag")};return W.runKernel(HO,n)}const KL=z({diag_:VL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UL(e,t,n,r,s=[1,1],o="NHWC"){const i=A(e,"x","dilation2d"),a=A(t,"filter","dilation2d");R(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),R(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),R(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let l=i,u=!1;i.rank===3&&(l=ie(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0),R(l.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${a.shape[2]}`);const c={x:l,filter:a},d={strides:n,pad:r,dilations:s},f=W.runKernel(GO,c,d);return u?ie(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const WL=z({dilation2d_:UL});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HL(e,t){const n=[];for(let r=0;r<t.length;r++){const s=e[e.length-r-1],o=t.length-r-1,i=t[o];(s==null||s===1&&i>1)&&n.unshift(o)}return n}function qt(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let s=0;s<n;s++){let o=e[e.length-s-1];o==null&&(o=1);let i=t[t.length-s-1];if(i==null&&(i=1),o===1)r[n-s-1]=i;else if(i===1)r[n-s-1]=o;else if(o!==i){const a=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(a)}else r[n-s-1]=o}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GL(e,t){let n=A(e,"a","equal","string_or_numeric"),r=A(t,"b","equal","string_or_numeric");[n,r]=Ot(n,r),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(QO,s)}const bw=z({equal_:GL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qL(e,t,n){const r=A(t,"a","where"),s=A(n,"b","where"),o=A(e,"condition","where","bool"),i=qt(qt(o.shape,r.shape),s.shape),a=ld(o,i),l=ld(r,i),u=ld(s,i),c={condition:a,t:l,e:u};return W.runKernel(hR,c)}const bo=z({where_:qL});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XL(e){const n={x:A(e,"x","zerosLike")};return W.runKernel(HR,n)}const Qn=z({zerosLike_:XL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YL(e,t){let n=A(e,"a","div"),r=A(t,"b","div");[n,r]=Ot(n,r);const s=je(n,r),o=Qn(s),i=bw(r,o);return bo(i,o,s)}const JL=z({divNoNan_:YL});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QL(e,t){const n=A(e,"t1","dot"),r=A(t,"t2","dot");R((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];if(R(s===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${o}.`),n.rank===1&&r.rank===1){const i=ie(n,[1,-1]),a=ie(r,[-1,1]),l=st(i,a);return ie(l,[])}else if(n.rank===1&&r.rank===2){const i=ie(n,[1,-1]),a=ie(r,[r.shape[0],r.shape[1]]),l=st(i,a);return ie(l,[l.size])}else if(n.rank===2&&r.rank===1){const i=ie(r,[-1,1]),a=st(n,i);return ie(a,[a.size])}else{const i=ie(r,[r.shape[0],r.shape[1]]);return st(n,i)}}const ZL=z({dot_:QL});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eB(e,...t){const n=t.map((s,o)=>A(s,`tensors${o}`,"einsum")),r={equation:e};return W.runKernel(XO,n,r)}const Ji=z({einsum_:eB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tB(e){const n={x:A(e,"x","elu","float32")};return W.runKernel(YO,n)}const ww=z({elu_:tB});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nB(e,t){const n=A(e,"x","ensureShape","string_or_numeric");if(!HI(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}const rB=z({ensureShape_:nB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sB(e){let t=A(e,"x","erf");R(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=ht(t,"float32"));const n={x:t};return W.runKernel(JO,n)}const oB=z({erf_:sB});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iB(e,t,n){const r=e.length+t.length,s=[];let o=0,i=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(e[o++]):s.push(t[i++]);return s}function Zf(e,t){const n=t.map(r=>1);return iB(e,n,t)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aB(e,t=null,n=!1){const s={x:A(e,"x","max")},o={reductionIndices:t,keepDims:n};return W.runKernel(ND,s,o)}const Ea=z({max_:aB});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lB(e,t=null,n=!1){const s={x:A(e,"x","min")},o={axis:t,keepDims:n};return W.runKernel(OD,s,o)}const T2=z({min_:lB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uB(e,t){let n=A(e,"base","pow"),r=A(t,"exp","pow");[n,r]=Ot(n,r);const s={a:n,b:r};return W.runKernel(qD,s)}const Eu=z({pow_:uB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xe(e,t){if((Sr(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Sr(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Io(e,[],[],t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cB(e){const n={x:A(e,"x","sqrt","float32")};return W.runKernel(SR,n)}const As=z({sqrt_:cB});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dB(e){const t=A(e,"x","square"),n={};return W.runKernel("Square",{x:t},n)}const Fr=z({square_:dB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fB(e,t=null,n=!1){let r=A(e,"x","sum");r.dtype==="bool"&&(r=ht(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return W.runKernel(ER,s,o)}const ft=z({sum_:fB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pB(e,t="euclidean",n=null,r=!1){e=A(e,"x","norm");const s=xw(e,t,n);let o=s.shape;if(r){const i=Xf(n,e.shape);o=Zf(s.shape,i)}return ie(s,o)}function xw(e,t,n=null){if(e.rank===0)return Xn(e);if(e.rank!==1&&n===null)return xw(ie(e,[-1]),t,n);if(e.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(t===1)return ft(Xn(e),n);if(t===1/0)return Ea(Xn(e),n);if(t===-1/0)return T2(Xn(e),n);if(t==="euclidean"||t===2)return As(ft(Eu(Xn(e),Xe(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&n.length===2){if(t===1)return Ea(ft(Xn(e),n[0]),n[1]-1);if(t===1/0)return Ea(ft(Xn(e),n[1]),n[0]);if(t===-1/0)return T2(ft(Xn(e),n[1]),n[0]);if(t==="fro"||t==="euclidean")return As(ft(Fr(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const ep=z({norm_:pB});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hB(e,t=null,n=!1){return ep(e,"euclidean",t,n)}const mB=z({euclideanNorm_:hB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gB(e){const n={x:A(e,"x","exp")};return W.runKernel(ZO,n)}const Is=z({exp_:gB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yB(e,t=0){const n=A(e,"x","expandDims","string_or_numeric");R(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:t};return W.runKernel(eD,r,s)}const mr=z({expandDims_:yB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vB(e){const n={x:A(e,"x","expm1")};return W.runKernel(tD,n)}const bB=z({expm1_:vB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wB(e,t){const n=A(e,"x","tile","string_or_numeric");R(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},s={reps:t};return W.runKernel(z9,r,s)}const Jl=z({tile_:wB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xB(e,t,n,r="float32"){t==null&&(t=e);const s=Ps([e,t],r),o=e<=t?e:t;for(let a=0;a<o;++a)s.set(1,a,a);const i=ie(s.toTensor(),[e,t]);if(n==null)return i;if(n.length===1)return Jl(mr(i,0),[n[0],1,1]);if(n.length===2)return Jl(mr(mr(i,0),0),[n[0],n[1],1,1]);if(n.length===3)return Jl(mr(mr(mr(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const Sw=z({eye_:xB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SB(e){const n={x:A(e,"x","floor","float32")};return W.runKernel(oD,n)}const Ew=z({floor_:SB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EB(e,t,n=0,r=0){const s=A(e,"x","gather"),o=A(t,"indices","gather","int32"),i={x:s,indices:o},a={axis:n,batchDims:r};return W.runKernel(lD,i,a)}const Tw=z({gather_:EB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TB(e,t){let n=A(e,"a","greater","string_or_numeric"),r=A(t,"b","greater","string_or_numeric");[n,r]=Ot(n,r),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(cD,s)}const tp=z({greater_:TB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $B(e,t){let n=A(e,"a","greaterEqual","string_or_numeric"),r=A(t,"b","greaterEqual","string_or_numeric");[n,r]=Ot(n,r),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(dD,s)}const $w=z({greaterEqual_:$B});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kB(e){const n={input:A(e,"input","imag")};return W.runKernel(pD,n)}const np=z({imag_:kB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NB(e){const n={x:A(e,"x","isFinite")};return W.runKernel(hD,n)}const CB=z({isFinite_:NB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _B(e){const n={x:A(e,"x","isInf")};return W.runKernel(mD,n)}const PB=z({isInf_:_B});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AB(e){const n={x:A(e,"x","isNaN")};return W.runKernel(gD,n)}const IB=z({isNaN_:AB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OB(e,t=.2){const r={x:A(e,"x","leakyRelu")},s={alpha:t};return W.runKernel(yD,r,s)}const kw=z({leakyRelu_:OB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DB(e,t){let n=A(e,"a","less","string_or_numeric"),r=A(t,"b","less","string_or_numeric");[n,r]=Ot(n,r),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(vD,s)}const $2=z({less_:DB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RB(e,t){let n=A(e,"a","lessEqual","string_or_numeric"),r=A(t,"b","lessEqual","string_or_numeric");[n,r]=Ot(n,r),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(bD,s)}const W3=z({lessEqual_:RB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FB(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return W.runKernel(wD,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MB(e,t=5,n=1,r=1,s=.5){const o=A(e,"x","localResponseNormalization");R(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),R(wu(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let i=o,a=!1;o.rank===3&&(a=!0,i=ie(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:s},c=W.runKernel(kD,l,u);return a?ie(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const LB=z({localResponseNormalization_:MB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BB(e){const n={x:A(e,"x","log","float32")};return W.runKernel(xD,n)}const Tu=z({log_:BB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jB(e){const n={x:A(e,"x","log1p")};return W.runKernel(SD,n)}const Nw=z({log1p_:jB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zB(e,t){R(c2(e),()=>"The f passed in variableGrads(f) must be a function"),R(t==null||Array.isArray(t)&&t.every(u=>u instanceof sf),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=t!=null;if(!n){t=[];for(const u in W.registeredVariables)t.push(W.registeredVariables[u])}const r=n?t.filter(u=>!u.trainable):null,s=t.length;t=t.filter(u=>u.trainable),R(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const o=!0,{value:i,grads:a}=W.gradients(e,t,null,o);R(a.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),R(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const l={};return t.forEach((u,c)=>{a[c]!=null&&(l[u.name]=a[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:i,grads:l}}function Os(e){return W.customGrad(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VB(e){const n={x:A(e,"x","neg")};return W.runKernel(BD,n)}const Qr=z({neg_:VB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KB(e){const n={x:A(e,"x","softplus")};return W.runKernel(xR,n)}const Cw=z({softplus_:KB});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UB(e){const t=A(e,"x","logSigmoid");return Os(r=>({value:Qr(Cw(Qr(r))),gradFunc:i=>he(i,li(Qr(r)))}))(t)}const WB=z({logSigmoid_:UB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HB(e,t){let n=A(e,"a","sub"),r=A(t,"b","sub");[n,r]=Ot(n,r);const s={a:n,b:r};return W.runKernel(LR,s)}const Re=z({sub_:HB});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GB(e,t=-1){const n=A(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return Os((s,o)=>{const a=Ea(s,t,!0),l=Re(s,a),u=Re(ht(l,"float32"),Tu(ft(Is(l),t,!0)));return o([u]),{value:u,gradFunc:(d,f)=>{const[p]=f,g=!0,y=Is(p);return Re(d,he(ft(d,t,g),y))}}})(n)}const qB=z({logSoftmax_:GB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XB(e,t=null,n=!1){const r=A(e,"x","logSumExp"),s=Xf(t,r.shape),o=Ea(r,s,!0),i=Re(r,o),a=Is(i),l=ft(a,s),u=Tu(l),c=$e(ie(o,u.shape),u);if(n){const d=Zf(c.shape,s);return ie(c,d)}return c}const _w=z({logSumExp_:XB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YB(e,t){const n=A(e,"a","logicalAnd","bool"),r=A(t,"b","logicalAnd","bool");qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(ED,s)}const uf=z({logicalAnd_:YB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JB(e){const n={x:A(e,"x","logicalNot","bool")};return W.runKernel(TD,n)}const Pw=z({logicalNot_:JB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QB(e,t){const n=A(e,"a","logicalOr","bool"),r=A(t,"b","logicalOr","bool");qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel($D,s)}const Aw=z({logicalOr_:QB});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZB(e,t){const n=A(e,"a","logicalXor","bool"),r=A(t,"b","logicalXor","bool");return qt(n.shape,r.shape),uf(Aw(e,t),Pw(uf(e,t)))}const ej=z({logicalXor_:ZB});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bc=2147483648;function tj(e,t,n="left"){const r=A(e,"sortedSequence","searchSorted"),s=A(t,"values","searchSorted"),o=r.shape[r.shape.length-1],i=s.shape[s.shape.length-1],a=ie(r,[-1,o]),l=ie(s,[-1,i]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(jt(l.shape)>=Bc)throw new Error(`values tensor size must less than ${Bc}`);if(a.shape[1]>=Bc)throw new Error(`trailing dim_size must less than ${Bc} for int32 output type, was ${a.shape[1]}`);const u={sortedSequence:a,values:l},c={side:n};return W.runKernel(pR,u,c)}const H3=z({searchSorted_:tj});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nj(e,t){return H3(e,t,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rj(e,t,n,r,s){const o=A(e,"x","maxPool"),i=1;let a=o,l=!1;o.rank===3&&(l=!0,a=ie(o,[1,o.shape[0],o.shape[1],o.shape[2]])),R(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),R(Oo(n,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),jr("maxPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s},d=W.runKernel(_D,u,c);return l?ie(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Iw=z({maxPool_:rj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sj(e,t=[1,1,1],n,r,s,o="NDHWC"){const i=A(e,"x","maxPool3d");let a=i,l=!1;i.rank===4&&(l=!0,a=ie(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),R(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),R(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),jr("maxPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o},d=W.runKernel(PD,u,c);return l?ie(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const oj=z({maxPool3d_:sj});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ij(e,t,n,r,s=!1){const i={x:A(e,"x","maxPoolWithArgmax")},a={filterSize:t,strides:n,pad:r,includeBatchInIndex:s},l=W.runKernel(AD,i,a);return{result:l[0],indexes:l[1]}}const aj=z({maxPoolWithArgmax_:ij});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lj(e,t){let n=A(e,"a","maximum"),r=A(t,"b","maximum");[n,r]=Ot(n,r),n.dtype==="bool"&&(n=ht(n,"int32"),r=ht(r,"int32")),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(CD,s)}const Ow=z({maximum_:lj});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uj(e,t=null,n=!1){const s={x:A(e,"x","mean")},o={axis:t,keepDims:n};return W.runKernel(ID,s,o)}const cf=z({mean_:uj});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ma(e,t="float32"){if(rr(e),t==="complex64"){const r=Ma(e,"float32"),s=Ma(e,"float32");return $o(r,s)}const n=B3(jt(e),t);return W.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ri(e,t="float32"){if(rr(e),t==="complex64"){const r=ri(e,"float32"),s=Ma(e,"float32");return $o(r,s)}const n=R9(jt(e),t);return W.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cj(e,t,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(e===void 0)return[];let r=A(e,"x","meshgrid",e instanceof Pt?e.dtype:"float32");if(t===void 0)return[r];let s=A(t,"y","meshgrid",t instanceof Pt?t.dtype:"float32");const o=jt(r.shape),i=jt(s.shape);return n==="xy"?(r=ie(r,[1,-1]),s=ie(s,[-1,1]),[st(ri([i,1],r.dtype),r),st(s,ri([1,o],s.dtype))]):(r=ie(r,[-1,1]),s=ie(s,[1,-1]),[st(r,ri([1,i],r.dtype)),st(ri([o,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dj(e,t){let n=A(e,"a","minimum"),r=A(t,"b","minimum");[n,r]=Ot(n,r),n.dtype==="bool"&&(n=ht(n,"int32"),r=ht(r,"int32")),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(DD,s)}const df=z({minimum_:dj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fj(e,t,n){R(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=A(e,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");R(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)R(t[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),R(t[a][0]>=0&&t[a][0]<=r.shape[a]-s&&t[a][1]>=0&&t[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const o={paddings:t,mode:n},i={x:r};return W.runKernel(RD,i,o)}const pj=z({mirrorPad_:fj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hj(e,t){let n=A(e,"a","mod"),r=A(t,"b","mod");[n,r]=Ot(n,r);const s={a:n,b:r};return W.runKernel(FD,s)}const mj=z({mod_:hj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gj(e,t=null,n=!1){e=A(e,"x","moments");const r=Xf(t,e.shape),s=cf(e,r,n);let o=s.shape;n||(o=Zf(s.shape,r));const i=Fr(Re(ht(e,"float32"),ie(s,o))),a=cf(i,r,n);return{mean:s,variance:a}}const yj=z({moments_:gj});function vj(e,t,n,r){const s=A(t,"data","multiRNNCell"),o=of(n,"c","multiRNNCell"),i=of(r,"h","multiRNNCell");let a=s;const l=[];for(let d=0;d<e.length;d++){const f=e[d](a,o[d],i[d]);l.push(f[0]),l.push(f[1]),a=f[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}const bj=z({multiRNNCell_:vj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wj(e,t,n,r=!1){const s=A(e,"logits","multinomial"),o=s.size,i=s.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const l={logits:i===1?ie(s,[1,-1]):s},u={numSamples:t,seed:n,normalized:r},c=W.runKernel(MD,l,u);return i===1?ie(c,[c.size]):c}const xj=z({multinomial_:wj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sj(e,t){let n=A(e,"a","notEqual","string_or_numeric"),r=A(t,"b","notEqual","string_or_numeric");[n,r]=Ot(n,r),qt(n.shape,r.shape);const s={a:n,b:r};return W.runKernel(jD,s)}const Dw=z({notEqual_:Sj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ej(e,t,n=1,r=0,s="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:A(e,"indices","oneHot","int32")},a={dtype:s,depth:t,onValue:n,offValue:r};return W.runKernel(WD,i,a)}const Tj=z({oneHot_:Ej});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $j(e){const n={x:A(e,"x","onesLike")};return W.runKernel(UD,n)}const kj=z({onesLike_:$j});function Nj(e,t){const n=A(e,"v1","outerProduct"),r=A(t,"v2","outerProduct");R(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=ie(n,[-1,1]),o=ie(r,[1,-1]);return st(s,o)}const Cj=z({outerProduct_:Nj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _j(e,t,n=0){const r=A(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},o={x:r};return W.runKernel(GD,o,s)}const Wu=z({pad_:_j});function Pj(e,t,n=0){return R(t.length===2,()=>"Invalid number of paddings. Must be length of 2."),Wu(e,[t],n)}const Aj=z({pad1d_:Pj});function Ij(e,t,n=0){return R(t.length===2&&t[0].length===2&&t[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Wu(e,t,n)}const Oj=z({pad2d_:Ij});function Dj(e,t,n=0){return R(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Wu(e,t,n)}const Rj=z({pad3d_:Dj});function Fj(e,t,n=0){return R(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Wu(e,t,n)}const Mj=z({pad4d_:Fj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lj(e,t,n){const r=A(e,"x","spaceToBatchND");R(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),R(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),R(r.shape.reduce((i,a,l)=>l>0&&l<=t.length?i&&(a+n[l-1][0]+n[l-1][1])%t[l-1]===0:i,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const s={x:r},o={blockShape:t,paddings:n};return W.runKernel(TR,s,o)}const Rw=z({spaceToBatchND_:Lj});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bj(e,t,n,r,s,o,i){s==null&&(s=[1,1]),o==null&&(o=1),r===0&&(r="valid");const a=A(e,"x","maxPool");let l=a,u=!1;a.rank===3&&(u=!0,l=ie(a,[1,a.shape[0],a.shape[1],a.shape[2]])),R(Oo(o,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${s}'`);const c=PM(l.shape,t,o,s,r),d=[c.dilationHeight,c.dilationWidth];let f;r==="same"?f=zj([c.filterHeight,c.filterWidth],d):f=[[0,0],[0,0]];const p=d[0]===1&&d[1]===1,[g,y]=jj([c.inHeight,c.inWidth],d,f),E=p?r:"valid",v=p?l:Rw(l,d,g),$=(n==="avg"?()=>hw(v,t,o,E,i):()=>Iw(v,t,o,E,i))(),N=p?$:mw($,d,y);return u?ie(N,[N.shape[1],N.shape[2],N.shape[3]]):N}function jj(e,t,n){const r=n.map(c=>c[0]),s=n.map(c=>c[1]),o=e.concat(r,s),i=t.map((c,d)=>(c-o[d]%c)%c),a=s.map((c,d)=>c+i[d]),l=t.map((c,d)=>[r[d],a[d]]),u=t.map((c,d)=>[0,i[d]]);return[l,u]}function zj(e,t){const r=e.map((i,a)=>i+(i-1)*(t[a]-1)).map(i=>i-1),s=r.map(i=>Math.floor(i/2)),o=r.map((i,a)=>i-s[a]);return r.map((i,a)=>[s[a],o[a]])}const Vj=z({pool_:Bj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kj(e,t){const n=A(e,"x","prelu"),r=A(t,"alpha","prelu"),s={x:n,alpha:r};return W.runKernel(XD,s)}const Fw=z({prelu_:Kj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uj(e,t=null,n=!1){let r=A(e,"x","prod");r.dtype==="bool"&&(r=ht(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return W.runKernel(YD,s,o)}const Wj=z({prod_:Uj});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hj(e,t,n,r){const s=e.map((c,d)=>A(c,`tensors${d}`,"raggedGather","int32")),o=A(t,"paramsDenseValues","raggedGather"),i=A(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:o,indices:i},l={outputRaggedRank:r},u=W.runKernel(JD,a,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const Gj=z({raggedGather_:Hj});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qj(e,t,n){const r=A(e,"starts","raggedRange"),s=A(t,"limits","raggedRange",r.dtype),o=A(n,"deltas","raggedRange",r.dtype),i={starts:r,limits:s,deltas:o},a=W.runKernel(QD,i);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const Xj=z({raggedRange_:qj});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yj(e,t,n,r,s){const o=A(e,"shape","raggedTensorToTensor","int32"),i=A(t,"values","raggedTensorToTensor"),a=A(n,"defaultValue","raggedTensorToTensor",i.dtype),l=r.map((d,f)=>A(d,`tensors${f}`,"raggedTensorToTensor","int32")),u={shape:o,values:i,defaultValue:a,rowPartitionTensors:l},c={rowPartitionTypes:s};return W.runKernel(ZD,u,c)}const Jj=z({raggedTensorToTensor_:Yj});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qj(e,t,n){rr(e);const r=jt(e);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<r;o++)s[o]=t();return W.makeTensor(s,e,n)}const Zj=z({rand_:Qj});var G3={exports:{}};G3.exports;(function(e){(function(t,n,r){function s(l){var u=this,c=a();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function i(l,u){var c=new s(l),d=u&&u.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&o(d,c),f.state=function(){return o(c,{})}),f}function a(){var l=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){l+=c.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=i:this.alea=i})(Ln,e)})(G3);var ez=G3.exports,q3={exports:{}};q3.exports;(function(e){(function(t,n,r){function s(a){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function i(a,l){var u=new s(a),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=i:this.xor128=i})(Ln,e)})(q3);var tz=q3.exports,X3={exports:{}};X3.exports;(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=i:this.xorwow=i})(Ln,e)})(X3);var nz=X3.exports,Y3={exports:{}};Y3.exports;(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.x,d=l.i,f,p;return f=c[d],f^=f>>>7,p=f^f<<24,f=c[d+1&7],p^=f^f>>>10,f=c[d+3&7],p^=f^f>>>3,f=c[d+4&7],p^=f^f<<7,f=c[d+7&7],f=f^f<<13,p^=f^f<<9,c[d]=p,l.i=d+1&7,p};function u(c,d){var f,p=[];if(d===(d|0))p[0]=d;else for(d=""+d,f=0;f<d.length;++f)p[f&7]=p[f&7]<<15^d.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?p[7]=-1:p[f],c.x=p,c.i=0,f=256;f>0;--f)c.next()}u(l,a)}function o(a,l){return l.x=a.x.slice(),l.i=a.i,l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(c.x&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=i:this.xorshift7=i})(Ln,e)})(Y3);var rz=Y3.exports,J3={exports:{}};J3.exports;(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.w,d=l.X,f=l.i,p,g;return l.w=c=c+1640531527|0,g=d[f+34&127],p=d[f=f+1&127],g^=g<<13,p^=p<<17,g^=g>>>15,p^=p>>>12,g=d[f]=g^p,l.i=f,g+(c^c>>>16)|0};function u(c,d){var f,p,g,y,E,v=[],x=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,x=Math.max(x,d.length)),g=0,y=-32;y<x;++y)d&&(p^=d.charCodeAt((y+32)%d.length)),y===0&&(E=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,y>=0&&(E=E+1640531527|0,f=v[y&127]^=p+E,g=f==0?g+1:0);for(g>=128&&(v[(d&&d.length||0)&127]=-1),g=127,y=4*128;y>0;--y)p=v[g+34&127],f=v[g=g+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,v[g]=p^f;c.w=E,c.X=v,c.i=g}u(l,a)}function o(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(c.X&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=i:this.xor4096=i})(Ln,e)})(J3);var sz=J3.exports,Q3={exports:{}};Q3.exports;(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var d=l.b,f=l.c,p=l.d,g=l.a;return d=d<<25^d>>>7^f,f=f-p|0,p=p<<24^p>>>8^g,g=g-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-p|0,l.d=p<<16^f>>>16^g,l.a=g-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):u+=a;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(f+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=i:this.tychei=i})(Ln,e)})(Q3);var oz=Q3.exports,Mw={exports:{}};const iz={},az=Object.freeze(Object.defineProperty({__proto__:null,default:iz},Symbol.toStringTag,{value:"Module"})),lz=Zx(az);(function(e){(function(t,n,r){var s=256,o=6,i=52,a="random",l=r.pow(s,o),u=r.pow(2,i),c=u*2,d=s-1,f;function p(N,I,O){var U=[];I=I==!0?{entropy:!0}:I||{};var C=v(E(I.entropy?[N,$(n)]:N??x(),3),U),j=new g(U),F=function(){for(var H=j.g(o),Y=l,V=0;H<u;)H=(H+V)*s,Y*=s,V=j.g(1);for(;H>=c;)H/=2,Y/=2,V>>>=1;return(H+V)/Y};return F.int32=function(){return j.g(4)|0},F.quick=function(){return j.g(4)/4294967296},F.double=F,v($(j.S),n),(I.pass||O||function(H,Y,V,G){return G&&(G.S&&y(G,j),H.state=function(){return y(j,{})}),V?(r[a]=H,Y):H})(F,C,"global"in I?I.global:this==r,I.state)}function g(N){var I,O=N.length,U=this,C=0,j=U.i=U.j=0,F=U.S=[];for(O||(N=[O++]);C<s;)F[C]=C++;for(C=0;C<s;C++)F[C]=F[j=d&j+N[C%O]+(I=F[C])],F[j]=I;(U.g=function(H){for(var Y,V=0,G=U.i,ne=U.j,ce=U.S;H--;)Y=ce[G=d&G+1],V=V*s+ce[d&(ce[G]=ce[ne=d&ne+Y])+(ce[ne]=Y)];return U.i=G,U.j=ne,V})(s)}function y(N,I){return I.i=N.i,I.j=N.j,I.S=N.S.slice(),I}function E(N,I){var O=[],U=typeof N,C;if(I&&U=="object")for(C in N)try{O.push(E(N[C],I-1))}catch{}return O.length?O:U=="string"?N:N+"\0"}function v(N,I){for(var O=N+"",U,C=0;C<O.length;)I[d&C]=d&(U^=I[d&C]*19)+O.charCodeAt(C++);return $(I)}function x(){try{var N;return f&&(N=f.randomBytes)?N=N(s):(N=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(N)),$(N)}catch{var I=t.navigator,O=I&&I.plugins;return[+new Date,t,O,t.screen,$(n)]}}function $(N){return String.fromCharCode.apply(0,N)}if(v(r.random(),n),e.exports){e.exports=p;try{f=lz}catch{}}else r["seed"+a]=p})(typeof self<"u"?self:Ln,[],Math)})(Mw);var uz=Mw.exports,cz=ez,dz=tz,fz=nz,pz=rz,hz=sz,mz=oz,Ai=uz;Ai.alea=cz;Ai.xor128=dz;Ai.xorwow=fz;Ai.xorshift7=pz;Ai.xor4096=hz;Ai.tychei=mz;var Z3=Ai;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class e0{constructor(t,n,r,s,o){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const i=o||Math.random();this.random=Z3.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let t,n,r=!1;for(;!r;){let s,o,i;do s=2*this.random()-1,o=2*this.random()-1,i=s*s+o*o;while(i>=1||i===0);const a=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*o*a,(!this.truncated||this.isValidTruncated(t))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(t)}convertValue(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class gz{constructor(t,n,r,s){this.alpha=t,this.beta=1/n,this.dtype=r;const o=s||Math.random();this.randu=Z3.alea(o.toString()),this.randn=new e0(0,1,r,!1,this.randu()),t<1?this.d=t+2/3:this.d=t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,n,r,s,o,i;for(;;){do s=this.randn.nextValue(),i=1+this.c*s;while(i<=0);if(i*=i*i,t=s*s,n=1-.331*t*t,r=.5*t+this.d*(1-i+Math.log(i)),o=this.randu(),o<n||Math.log(o)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(t){return this.dtype==="float32"?t:Math.round(t)}}class yz{constructor(t=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=t,this.range=n-t,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${n} <= 1 and dtype is not float`);this.random=Z3.alea(s)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vz(e,t,n=1,r="float32",s){if(rr(e),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const o=new gz(t,n,r,s),i=Ps(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const bz=z({randomGamma_:vz});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wz(e,t=0,n=1,r,s){if(rr(e),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const o=new e0(t,n,r,!1,s),i=Ps(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const Lw=z({randomNormal_:wz});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xz(e,t,n){if(t!=null&&t==="bool")throw new Error(`Unsupported data type ${t}`);return Lw(e,0,1,t,n)}const Sz=z({randomStandardNormal_:xz});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ez(e,t=0,n=1,r="float32",s){rr(e);const o=Ps(e,r),i=new yz(t,n,null,s);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const t0=z({randomUniform_:Ez});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tz(e,t,n,r){return t0(e,t,n,"int32",r)}const $z=z({randomUniformInt_:Tz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $u(e,t,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:e,stop:t,step:n,dtype:r};return W.runKernel(eR,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kz(e){const n={input:A(e,"input","real")};return W.runKernel(tR,n)}const ku=z({real_:kz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nz(e){const n={x:A(e,"x","reciprocal")};return W.runKernel(nR,n)}const Cz=z({reciprocal_:Nz});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _z(e){const n={x:A(e,"x","relu")};return W.runKernel(rR,n)}const rp=z({relu_:_z});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pz(e){const n={x:A(e,"x","relu6")};return W.runKernel(aR,n)}const Bw=z({relu6_:Pz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Az(e,t){const r={x:A(e,"x","reverse")},s={dims:t};return W.runKernel(lR,r,s)}const xi=z({reverse_:Az});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iz(e){const t=A(e,"x","reverse");return R(t.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),xi(t,0)}const Oz=z({reverse1d_:Iz});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dz(e,t){const n=A(e,"x","reverse");return R(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),xi(n,t)}const Rz=z({reverse2d_:Dz});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fz(e,t){const n=A(e,"x","reverse");return R(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),xi(n,t)}const Mz=z({reverse3d_:Fz});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lz(e,t){const n=A(e,"x","reverse");return R(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),xi(n,t)}const Bz=z({reverse4d_:Lz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jz(e){const n={x:A(e,"x","round")};return W.runKernel(uR,n)}const jw=z({round_:jz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zz(e){const n={x:A(e,"x","rsqrt","float32")};return W.runKernel(cR,n)}const Vz=z({rsqrt_:zz});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kz(e){const n={x:A(e,"x","selu")};return W.runKernel(mR,n)}const Uz=z({selu_:Kz});function Wz(e,t,n,r,s,o=[1,1],i="NHWC"){const a=A(e,"x","separableConv2d"),l=A(t,"depthwiseFilter","separableConv2d"),u=A(n,"pointwiseFilter","separableConv2d");let c=a,d=!1;if(a.rank===3&&(d=!0,c=ie(a,[1,a.shape[0],a.shape[1],a.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");R(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),R(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),R(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),R(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),R(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const f=l.shape[2],p=l.shape[3];R(u.shape[2]===f*p,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*p}, but got ${u.shape[2]}.`);const g=U3(c,l,r,s,i,o),E=Qf(g,u,1,"valid",i);return d?ie(E,[E.shape[1],E.shape[2],E.shape[3]]):E}const Hz=z({separableConv2d_:Wz});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Gz(e,t){const n=A(e,"x","setdiff1d"),r=A(t,"y","setdiff1d");R(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),R(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),R(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),o=await r.data(),i=new Set(o);let a=0;for(let c=0;c<s.length;c++)i.has(s[c])||a++;const l=new p2([a],n.dtype),u=new p2([a],"int32");for(let c=0,d=0;c<s.length;c++)i.has(s[c])||(l.values[d]=s[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]}const qz=Gz;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xz(e){const n={x:A(e,"x","sign")};return W.runKernel(bR,n)}const Yz=z({sign_:Xz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jz(e){const n={x:A(e,"x","sin","float32")};return W.runKernel(yR,n)}const Qz=z({sin_:Jz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zz(e){const n={x:A(e,"x","sinh")};return W.runKernel(vR,n)}const eV=z({sinh_:Zz});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tV(e,t,n){const r=A(e,"x","slice1d");return R(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),De(r,[t],[n])}const nV=z({slice1d_:tV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rV(e,t,n){const r=A(e,"x","slice2d");return R(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),De(r,t,n)}const sV=z({slice2d_:rV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oV(e,t,n){const r=A(e,"x","slice3d");return R(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),De(r,t,n)}const iV=z({slice3d_:oV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aV(e,t,n){const r=A(e,"x","slice4d");return R(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),De(r,t,n)}const lV=z({slice4d_:aV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uV(e,t=-1){const n=A(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},s={dim:t};return W.runKernel(kR,r,s)}const cV=z({softmax_:uV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dV(e){R(e.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return W.runKernel(nD,t)}const n0=z({fft_:dV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fV(e){R(e.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return W.runKernel(fD,t)}const ff=z({ifft_:fV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pV(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const s=ie(e,[n,t]);r=ff(s)}else{const s=[n,2*(t-1)],o=ie(ku(e),[n,t]),i=ie(np(e),[n,t]),a=xi(De(o,[0,1],[n,t-2]),1),l=he(xi(De(i,[0,1],[n,t-2]),1),Xe(-1)),u=en([o,a],1),c=en([i,l],1),d=ie($o(u,c),[s[0],s[1]]);r=ff(d)}if(r=ku(r),e.rank===3&&e.shape[0]!==0){const s=r,o=e.shape[0];r=ie(r,[o,r.shape[0]/o,r.shape[1]]),s.dispose()}return r}const zw=z({irfft_:pV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hV(e,t,n=0){const s={x:A(e,"x","split")},o={numOrSizeSplits:t,axis:n};return W.runKernel($R,s,o)}const Nu=z({split_:hV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mV(e,t){R(e.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let s;if(t!=null&&t<n){const g=e.shape.map(E=>0),y=e.shape.map(E=>E);y[e.shape.length-1]=t,s=De(e,g,y),n=t}else if(t!=null&&t>n){const g=e.shape.map(y=>y);g[e.shape.length-1]=t-n,s=en([e,Ma(g)],e.shape.length-1),n=t}else s=e;const o=Qn(s),i=ie($o(s,o),[r,n]),a=n0(i),l=Math.floor(n/2)+1,u=ku(a),c=np(a),d=Nu(u,[l,n-l],u.shape.length-1),f=Nu(c,[l,n-l],c.shape.length-1),p=s.shape.slice();return p[s.shape.length-1]=l,ie($o(d[0],f[0]),p)}const r0=z({rfft_:mV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gV(e,t){let n=A(e,"a","squaredDifference"),r=A(t,"b","squaredDifference");[n,r]=Ot(n,r),qt(n.shape,r.shape);const s={a:n,b:r},o={};return W.runKernel(IR,s,o)}const Vw=z({squaredDifference_:gV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yV(e,t){const n=A(e,"x","squeeze","string_or_numeric");return ie(n,GI(n.shape,t).newShape)}const Wt=z({squeeze_:yV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vV(e,t=0){const n=of(e,"tensors","stack","string_or_numeric");R(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&R(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:t};return W.runKernel(HD,r,s)}const Ds=z({stack_:vV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bV(e,t=0){const r={x:A(e,"x","step")},s={alpha:t};return W.runKernel(GR,r,s)}const Kw=z({step_:bV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wV(e,t,n,r,s=0,o=0,i=0,a=0,l=0){const c={x:A(e,"x","stridedSlice","string_or_numeric")},d={begin:t,end:n,strides:r,beginMask:s,endMask:o,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:l};return W.runKernel(DR,c,d)}const xV=z({stridedSlice_:wV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SV(e){const n={x:A(e,"x","tan","float32")};return W.runKernel(BR,n)}const EV=z({tan_:SV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ln(e,t){Ga(e);const n=Ao(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Io(e,null,n,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wo(e,t,n){if(Ga(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Ao(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Io(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uw(e,t,n){if(Ga(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Ao(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Io(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TV(e,t,n){if(Ga(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=Ao(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Io(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $V(e,t,n){if(Ga(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=Ao(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Io(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kV(e,t,n){if(Ga(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=Ao(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,Io(e,t,r,n)}function NV(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,s=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(o+` update.rank < ${s}. `);if(e.length<r+(n.rank-s))throw new Error(o+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+e.length-r)throw new Error(o+` update.rank != ${s+e.length-r}`);for(let i=0;i<s;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${t.shape[i]}).`);for(let i=0;i<n.rank-s;++i)if(n.shape[i+s]!==e[i+r])throw new Error(o+` updates.shape[${i+s}] (${n.shape[i+s]}) != shape[${i+s}] (${e[i+s]})`)}function Ww(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}NV(n,t,e)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CV(e,t,n){const r=A(e,"tensor","tensorScatterupdate"),s=A(t,"indices","tensorScatterupdate","int32"),o=A(n,"updates","tensorScatterupdate");if(Ww(o,s,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const i={tensor:r,indices:s,updates:o},a={};return W.runKernel(fR,i,a)}const _V=z({tensorScatterUpdate_:CV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PV(e,t=1,n=!0){const r=A(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const o={x:r},i={k:t,sorted:n},[a,l]=W.runKernel(zR,o,i);return{values:a,indices:l}}const AV=z({topk_:PV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IV(e,t=0,n=1,r,s){if(rr(e),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new e0(t,n,r,!0,s),i=Ps(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const OV=z({truncatedNormal_:IV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DV(e,t=0){const n=A(e,"x","unique","string_or_numeric");R(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:t},[o,i]=W.runKernel(KR,r,s);return{values:o,indices:i}}const RV=z({unique_:DV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FV(e,t,n){const r=A(e,"x","unsortedSegmentSum"),s=A(t,"segmentIds","unsortedSegmentSum","int32");R(wu(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:s},i={numSegments:n};return W.runKernel(WR,o,i)}const MV=z({unsortedSegmentSum_:FV});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LV(e,t=0){const n=A(e,"x","unstack","string_or_numeric");R(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:t};return W.runKernel(UR,r,s)}const Ii=z({unstack_:LV});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BV(e,t){return H3(e,t,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jV(e,t=!0,n,r){return W.makeVariable(e,t,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zV(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Ps(e,"int32"),s=Ps([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const i=r.indexToLoc(n[o]),a=o*e.length;s.values.set(i,a)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function VV(e){const t=A(e,"condition","whereAsync","bool"),n=await t.data(),r=zV(t.shape,n);return e!==t&&t.dispose(),r}const Hw=VV;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function KV(e,t,n){const r=A(e,"tensor","boolMask"),s=A(t,"mask","boolMask","bool"),o=n??0,i=s.rank,a=r.shape;R(i>0,()=>"mask cannot be scalar"),Tr(a.slice(o,o+i),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let y=o;y<o+i;y++)l*=a[y];const u=a.slice(0,o).concat([l],a.slice(o+i)),c=ie(r,u),d=ie(s,[-1]),f=await Hw(d),p=Wt(f,[1]),g=Tw(c,p,o);return e!==r&&r.dispose(),t!==s&&s.dispose(),p.dispose(),c.dispose(),d.dispose(),f.dispose(),g}const UV=KV;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WV(e,t,n){const r=A(e,"x","transpose");if(t==null&&(t=r.shape.map((i,a)=>a).reverse()),R(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(i=>{R(i>=0&&i<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();const s={x:r},o={perm:t};return r.dtype==="complex64"?Le(()=>{let i=ku(r),a=np(r);return i=W.runKernel(hh,{x:i},o),a=W.runKernel(hh,{x:a},o),n&&(a=Qr(a)),$o(i,a)}):W.runKernel(hh,s,o)}const k2=z({transpose_:WV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HV(e,t,n,r,s=!0){const o=A(e,"v","movingAverage"),i=A(t,"x","movingAverage"),a=A(n,"decay","movingAverage");cF(o,i),R(_s(o.shape,i.shape),()=>"Shape mismatch in v and x");const l=Xe(1),u=Re(l,a);let c=he(Re(i,o),u);if(s){R(r!=null,()=>"When using zeroDebias: true, step is required.");const d=A(r,"step","movingAverage");c=je(c,Re(l,Eu(a,d)))}return $e(o,c)}const GV=z({movingAverage_:HV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qV(e,t,n){rr(n);const r=A(e,"indices","scatterND","int32"),s=A(t,"updates","scatterND");Ww(s,r,n);const o={indices:r,updates:s},i={shape:n};return W.runKernel(dR,o,i)}const XV=z({scatterND_:qV});function YV(e,t,n,r){if(e.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const s=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const i=t.size;if(!(t.rank===0||t.rank===1&&i===s))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${s}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JV(e,t,n,r=0){rr(n);const s=A(e,"sparseIndices","sparseToDense","int32"),o=A(t,"sparseValues","sparseToDense","string_or_numeric"),i=A(r,"defaultValue","sparseToDense",o.dtype);YV(s,o,n,i);const a={sparseIndices:s,sparseValues:o,defaultValue:i},l={outputShape:n};return W.runKernel(AR,a,l)}const QV=z({sparseToDense_:JV});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZV(e,t){const n=A(t,"indices","gatherND","int32"),s={params:A(e,"x","gatherND","string_or_numeric"),indices:n};return W.runKernel(uD,s)}const eK=z({gatherND_:ZV});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tK(e,t){if(t==null)return e.shape.slice();if(_s(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)t[r]==null&&e.shape[r]!=null?n.push(e.shape[r]):n.push(t[r]);return n}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nK(e,t,n,r){const s=A(e,"x","dropout");if(R(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),R(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return e instanceof Pt?s.clone():s;const o=tK(s,n),i=1-t,a=je(Ew($e(t0(o,0,1,"float32",r),i)),i);return he(s,a)}const rK=z({dropout_:nK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gw(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function s0(e,t,n){const r=1-e%2,s=new Float32Array(e);for(let o=0;o<e;++o){const i=2*Math.PI*o/(e+r-1);s[o]=t-n*Math.cos(i)}return ln(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function sK(e,t,n=1){const r=A(e,"predictions","inTopK"),s=A(t,"targets","inTopK");R(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),R(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),Tr(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];R(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const i=await r.data(),a=await s.data(),[l,u]=[i.length/o,o],c=qI("bool",l);for(let d=0;d<l;d++){const f=d*u,p=i.subarray(f,f+u),g=[];for(let y=0;y<p.length;y++)g.push({value:p[y],index:y});g.sort((y,E)=>E.value-y.value),c[d]=0;for(let y=0;y<n;y++)if(g[y].index===a[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==s&&s.dispose(),Jr(c,s.shape,"bool")}const oK=sK;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iK(e,t,n,r,s,o="NHWC",i){let a=e;e.rank===3&&(a=ie(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=ie(t,[1,t.shape[0],t.shape[1],t.shape[2]])),R(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),R(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),R(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=o==="NHWC"?a.shape[3]:a.shape[1],c=o==="NHWC"?l.shape[3]:l.shape[1];R(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),R(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),jr("conv2dDerFilter",s,i);const d={x:a,dy:l},f={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,filterShape:n};return W.runKernel(IO,d,f)}const aK=z({conv2DBackpropFilter_:iK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o0(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return he(e,Kw(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function i0(e,t){let n=t;const r=HL(e.shape,t.shape);return r.length>0&&(n=ft(n,r)),ie(n,e.shape)}function a0(e,t,n,r){if(t==="linear")return e;if(t==="relu")return rp(e);if(t==="elu")return ww(e);if(t==="relu6")return Bw(e);if(t==="prelu")return Fw(e,n);if(t==="leakyrelu")return kw(e,r);if(t==="sigmoid")return li(e);throw new Error(`Unknown fused activation ${t}.`)}const l0=(e,t)=>!(e>0)||t==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lK({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",l0(W.state.gradientDepth,l)===!1){R(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let O=Qf(e,t,n,r,s,o,i);return a!=null&&(O=$e(O,a)),a0(O,l,u,c)}const d=A(e,"x","conv2d","float32"),f=A(t,"filter","conv2d","float32");let p=d,g=!1;d.rank===3&&(g=!0,p=ie(d,[1,d.shape[0],d.shape[1],d.shape[2]])),R(p.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`),R(f.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${f.rank}.`),jr("fused conv2d",r,i);const y=s==="NHWC"?p.shape[3]:p.shape[1];R(f.shape[2]===y,()=>`Error in conv2d: depth of input (${y}) must match input depth for filter ${f.shape[2]}.`),R(Oo(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const E=K3(p.shape,f.shape,n,o,r,i);let v;a!=null&&(v=A(a,"bias","fused conv2d"),[v]=Ot(v,d),s==="NHWC"?qt(E.outShape,v.shape):(R(v.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`),R(v.shape.length===0||v.shape[0]===E.outChannels||v.shape[0]===1,()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${E.outChannels})`)));let x;if(u!=null){const O=u.shape;if(R(O.length<=1||O.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${O.length}.`),O.length===1)R(O[0]===1||O[0]===E.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${O}) is not compatible with the number of output channels (${E.outChannels}).`);else if(O.length===3)try{qt(O,E.outShape)}catch{const C=`Error in fused conv2d: PReLU activation weights (${O}) is not compatible with the output shape of the conv2d (${E.outShape}).`;throw Error(C)}x=A(u,"prelu weights","fused conv2d")}const $=(O,U)=>{R(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[C,j,F,H]=U,Y=o0(O,F,l);R(lf(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const V=vw(j.shape,Y,C,n,r),G=aK(j,Y,C.shape,n,r),ne=[V,G];if(H!=null){const ce=i0(H,Y);ne.push(ce)}return ne},N={x:p,filter:f,bias:v,preluActivationWeights:x},I={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?Os((U,C,j)=>{let F=W.runKernel(oy,N,I);return j([C,U,F]),g&&(F=ie(F,[F.shape[1],F.shape[2],F.shape[3]])),{value:F,gradFunc:$}})(p,f):Os((U,C,j,F)=>{let H=W.runKernel(oy,N,I);return F([C,U,H,j]),g&&(H=ie(H,[H.shape[1],H.shape[2],H.shape[3]])),{value:H,gradFunc:$}})(p,f,v)}const uK=z({fusedConv2d_:lK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cK(e,t,n,r,s,o=[1,1],i){let a=e;e.rank===3&&(a=ie(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=ie(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:a,dy:l},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,filterShape:n};return W.runKernel(UO,u,c)}const dK=z({depthwiseConv2dNativeBackpropFilter_:cK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fK(e,t,n,r,s,o=[1,1],i){let a=t,l=!1;t.rank===3&&(l=!0,a=ie(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:a,filter:n},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,inputShape:e},d=W.runKernel(WO,u,c);return l?ie(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const pK=z({depthwiseConv2dNativeBackpropInput_:fK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hK({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l0(W.state.gradientDepth,l)===!1){let I=U3(e,t,n,r,s,o,i);return a!=null&&(I=$e(I,a)),a0(I,l,u,c)}const d=A(e,"x","depthwiseConv2d","float32"),f=A(t,"filter","depthwiseConv2d","float32");let p=d,g=!1;d.rank===3&&(g=!0,p=ie(d,[1,d.shape[0],d.shape[1],d.shape[2]])),R(p.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),R(f.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),R(p.shape[3]===f.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),o==null&&(o=[1,1]),R(Oo(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),jr("fused depthwiseConv2d",r,i);const y=K3(p.shape,f.shape,n,o,r,i,!0);let E;a!=null&&(E=A(a,"bias","fused conv2d"),[E]=Ot(E,d),qt(y.outShape,E.shape));let v;u!=null&&(v=A(u,"prelu weights","fused depthwiseConv2d"));const x=(I,O)=>{R(lf(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[U,C,j,F]=O,H=o0(I,j,l),Y=pK(C.shape,H,U,n,r,o,i),V=dK(C,H,U.shape,n,r,o,i);if(F!=null){const G=i0(E,H);return[Y,V,G]}return[Y,V]},$={x:p,filter:f,bias:E,preluActivationWeights:v},N={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?Os((O,U,C)=>{let j=W.runKernel(iy,$,N);return C([U,O,j]),g&&(j=ie(j,[j.shape[1],j.shape[2],j.shape[3]])),{value:j,gradFunc:x}})(p,f):Os((O,U,C,j)=>{let F=W.runKernel(iy,$,N);return j([U,O,F,C]),g&&(F=ie(F,[F.shape[1],F.shape[2],F.shape[3]])),{value:F,gradFunc:x}})(p,f,E)}const mK=z({fusedDepthwiseConv2d_:hK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gK({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:s,activation:o="linear",preluActivationWeights:i,leakyreluAlpha:a=.2}){if(l0(W.state.gradientDepth,o)===!1){let H=st(e,t,n,r);return s!=null&&(H=$e(H,s)),a0(H,o,i,a)}let l=A(e,"a","fused matMul"),u=A(t,"b","fused matMul");[l,u]=Ot(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=r?u.shape[u.rank-2]:u.shape[u.rank-1],g=l.shape.slice(0,-2),y=u.shape.slice(0,-2),E=jt(g),v=jt(y);R(c===d,()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const $=qt(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([f,p]),N=n?ie(l,[E,c,f]):ie(l,[E,f,c]),I=r?ie(u,[v,p,d]):ie(u,[v,d,p]);let O;s!=null&&(O=A(s,"bias","fused matMul"),[O]=Ot(O,l),qt($,O.shape));let U;i!=null&&(U=A(i,"prelu weights","fused matMul"));const C=(H,Y)=>{const[V,G,ne,ce]=Y,ee=o0(ie(H,ne.shape),ne,o);let te,ue;if(!n&&!r?(te=st(ee,G,!1,!0),ue=st(V,ee,!0,!1)):!n&&r?(te=st(ee,G,!1,!1),ue=st(ee,V,!0,!1)):n&&!r?(te=st(G,ee,!1,!0),ue=st(V,ee,!1,!1)):(te=st(G,ee,!0,!0),ue=st(ee,V,!0,!0)),s!=null){const q=i0(ce,ee);return[te,ue,q]}else return[te,ue]},j={a:N,b:I,bias:O,preluActivationWeights:U},F={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:a};return s==null?Os((Y,V,G)=>{const ne=W.runKernel(sy,j,F);return G([Y,V,ne]),{value:ie(ne,$),gradFunc:C}})(N,I):Os((Y,V,G,ne)=>{const ce=W.runKernel(sy,j,F);return ne([Y,V,ce,G]),{value:ie(ce,$),gradFunc:C}})(N,I,O)}const yK=z({fusedMatMul_:gK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vK=Object.freeze(Object.defineProperty({__proto__:null,conv2d:uK,depthwiseConv2d:mK,matMul:yK},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bK(e){return s0(e,.54,.46)}const wK=z({hammingWindow_:bK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xK(e){return s0(e,.5,.5)}const qw=z({hannWindow_:xK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SK(e,t,n,r=!1,s=0){let o=0;const i=[];for(;o+t<=e.size;)i.push(De(e,o,t)),o+=n;if(r)for(;o<e.size;){const a=o+t-e.size,l=en([De(e,o,t-a),Uu([a],s)]);i.push(l),o+=n}return i.length===0?wo([],[0,t]):ie(en(i),[i.length,t])}const Xw=z({frame_:SK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EK(e,t,n,r,s=qw){r==null&&(r=Gw(t));const o=Xw(e,t,n),i=he(o,s(t));return r0(i,r)}const TK=z({stft_:EK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $K(e,t,n,r,s="bilinear",o=0){const i=A(e,"image","cropAndResize"),a=A(t,"boxes","cropAndResize","float32"),l=A(n,"boxInd","cropAndResize","int32"),u=a.shape[0];R(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),R(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${a.shape}.`),R(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${a.shape}.`),R(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),R(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),R(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const c={image:i,boxes:a,boxInd:l},d={method:s,extrapolationValue:o,cropSize:r};return W.runKernel(jO,c,d)}const kK=z({cropAndResize_:$K});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NK(e){const t=A(e,"image","flipLeftRight","float32");R(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return W.runKernel(sD,n,{})}const CK=z({flipLeftRight_:NK});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _K(e){const t=A(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];R(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),R(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(t.rank);return s.fill(1,0,n),s[n]=3,Jl(t,s)}const PK=z({grayscaleToRGB_:_K});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AK(e){const t=A(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];R(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),R(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=t.dtype,o=ht(t,"float32"),i=ln([.2989,.587,.114]);let a;switch(t.rank){case 2:a=Ji("ij,j->i",o,i);break;case 3:a=Ji("ijk,k->ij",o,i);break;case 4:a=Ji("ijkl,l->ijk",o,i);break;case 5:a=Ji("ijklm,m->ijkl",o,i);break;case 6:a=Ji("ijklmn,n->ijklm",o,i);break;default:throw new Error("Not a valid tensor rank.")}return a=mr(a,-1),ht(a,s)}const IK=z({rgbToGrayscale_:AK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OK(e,t,n=0,r=.5){const s=A(e,"image","rotateWithOffset","float32");R(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const o={image:s},i={radians:t,fillValue:n,center:r};return W.runKernel(qR,o,i)}const DK=z({rotateWithOffset_:OK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qa(e,t,n,r,s,o){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),o==null&&(o=0);const i=e.shape[0];return n=Math.min(n,i),R(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),R(e.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),R(e.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),R(t.rank===1,()=>"scores must be a 1D tensor"),R(t.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`),R(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RK(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=A(e,"boxes","nonMaxSuppression","float32"),i=A(t,"scores","nonMaxSuppression","float32"),a=qa(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return W.runKernel(zD,{boxes:o,scores:i},l)}const FK=z({nonMaxSuppression_:RK});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MK(e,t,n){const r=LK(e,t,n),s=r<0?-(r+1):r;e.splice(s,0,t)}function LK(e,t,n){return jK(e,t,n||BK)}function BK(e,t){return e>t?1:e<t?-1:0}function jK(e,t,n){let r=0,s=e.length,o=0,i=!1;for(;r<s;){o=r+(s-r>>>1);const a=n(t,e[o]);a>0?r=o+1:(s=o,i=!a)}return i?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zK(e,t,n,r,s){return u0(e,t,n,r,s,0)}function VK(e,t,n,r,s,o){return u0(e,t,n,r,s,0,!1,o,!0)}function KK(e,t,n,r,s,o){return u0(e,t,n,r,s,o,!0)}function u0(e,t,n,r,s,o,i=!1,a=!1,l=!1){const u=[];for(let E=0;E<t.length;E++)t[E]>s&&u.push({score:t[E],boxIndex:E,suppressBeginIndex:0});u.sort(yy);const c=o>0?-.5/o:0,d=[],f=[];for(;d.length<n&&u.length>0;){const E=u.pop(),{score:v,boxIndex:x,suppressBeginIndex:$}=E;if(v<s)break;let N=!1;for(let I=d.length-1;I>=$;--I){const O=UK(e,x,d[I]);if(O>=r){N=!0;break}if(E.score=E.score*WK(r,c,O),E.score<=s)break}E.suppressBeginIndex=d.length,N||(E.score===v?(d.push(x),f.push(E.score)):E.score>s&&MK(u,E,yy))}const p=d.length,g=n-p;a&&g>0&&(d.push(...new Array(g).fill(0)),f.push(...new Array(g).fill(0)));const y={selectedIndices:d};return i&&(y.selectedScores=f),l&&(y.validOutputs=p),y}function UK(e,t,n){const r=e.subarray(t*4,t*4+4),s=e.subarray(n*4,n*4+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),c=Math.min(s[1],s[3]),d=Math.max(s[0],s[2]),f=Math.max(s[1],s[3]),p=(a-o)*(l-i),g=(d-u)*(f-c);if(p<=0||g<=0)return 0;const y=Math.max(o,u),E=Math.max(i,c),v=Math.min(a,d),x=Math.min(l,f),$=Math.max(v-y,0)*Math.max(x-E,0);return $/(p+g-$)}function WK(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function yy(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function HK(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=A(e,"boxes","nonMaxSuppressionAsync"),i=A(t,"scores","nonMaxSuppressionAsync"),a=qa(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([o.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:d}=zK(u,c,n,r,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),ln(d,"int32")}const GK=HK;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qK(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=A(e,"boxes","nonMaxSuppression"),a=A(t,"scores","nonMaxSuppression"),l=qa(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:i,scores:a},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o},d=W.runKernel(KD,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}const XK=z({nonMaxSuppressionWithScore_:qK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function YK(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=A(e,"boxes","nonMaxSuppressionAsync"),a=A(t,"scores","nonMaxSuppressionAsync"),l=qa(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([i.data(),a.data()]),c=u[0],d=u[1],{selectedIndices:f,selectedScores:p}=KK(c,d,n,r,s,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:ln(f,"int32"),selectedScores:ln(p)}}const JK=YK;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QK(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=A(e,"boxes","nonMaxSuppression"),a=A(t,"scores","nonMaxSuppression"),l=qa(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,f={boxes:i,scores:a},p={maxOutputSize:u,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:o},g=W.runKernel(VD,f,p);return{selectedIndices:g[0],validOutputs:g[1]}}const ZK=z({nonMaxSuppressionPadded_:QK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function eU(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=A(e,"boxes","nonMaxSuppressionAsync"),a=A(t,"scores","nonMaxSuppressionAsync"),l=qa(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[f,p]=await Promise.all([i.data(),a.data()]),{selectedIndices:g,validOutputs:y}=VK(f,p,u,c,d,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:ln(g,"int32"),validOutputs:Xe(y,"int32")}}const tU=eU;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nU(e,t,n=!1,r=!1){const s=A(e,"images","resizeBilinear");R(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),R(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),R(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=ie(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=W.runKernel(iR,a,l);return i?ie(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const rU=z({resizeBilinear_:nU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sU(e,t,n=!1,r=!1){const s=A(e,"images","resizeNearestNeighbor");R(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),R(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),R(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),R(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=ie(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=W.runKernel(oR,a,l);return i?ie(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const oU=z({resizeNearestNeighbor_:sU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iU(e,t="binary",n=!1,r=.5){const s=A(e,"image","threshold"),o=.2989,i=.587,a=.114,l=s.shape[0]*s.shape[1];let u=he(ln([r]),255),c,d,f,p;if(R(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),R(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),R(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),R(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),s.shape[2]===3){[c,d,f]=Nu(s,[1,1,1],-1);const E=he(c,o),v=he(d,i),x=he(f,a);p=$e($e(E,v),x)}else p=e;if(t==="otsu"){const E=gw(ht(jw(p),"int32"),Jr([]),256);u=aU(E,l)}const g=n?W3(p,u):tp(p,u);return ht(he(g,255),"int32")}function aU(e,t){let n=ln([-1]),r=ln([0]),s=ln([0]),o,i,a,l,u,c;for(let d=0;d<e.size-1;d++){o=De(e,0,d+1),i=De(e,d+1),u=je(ft(o),t),c=je(ft(i),t);const f=ft(he(o,$u(0,o.size)));a=je(f,ft(o));const p=Uu(i.shape,o.size),g=$e($u(0,i.size),p),y=he(i,g);l=je(ft(y),ft(i));const E=Re(a,l),v=Re(a,l),x=he(u,c);s=he(he(x,E),v);const $=tp(s,r);r=bo($,s,r),n=bo($,ln([d]),n)}return n}const lU=z({threshold_:iU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uU(e,t,n="nearest",r="constant",s=0,o){const i=A(e,"image","transform","float32"),a=A(t,"transforms","transform","float32");R(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),R(a.rank===2&&(a.shape[0]===i.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),R(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const l={image:i,transforms:a},u={interpolation:n,fillMode:r,fillValue:s,outputShape:o};return W.runKernel(VR,l,u)}const cU=z({transform_:uU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dU(e,t,n){const r=A(e,"a","bandPart");R(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[o,i]=r.shape.slice(-2);let a,l;typeof t=="number"?(R(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),R(t<=o,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`),a=A(t<0?o:t,"numLower","bandPart")):(R(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=bo($2(t,0),o,df(t,o))),typeof n=="number"?(R(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),R(n<=i,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`),l=A(n<0?i:n,"numUpper","bandPart")):(R(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=bo($2(n,0),i,df(n,i)));const u=ie($u(0,o,1,"int32"),[-1,1]),c=$u(0,i,1,"int32"),d=Re(u,c),f=uf(W3(d,a),$w(d,Qr(l))),p=Ma([o,i],r.dtype);return ie(Ds(Ii(ie(r,[-1,o,i])).map(g=>bo(f,g,p))),s)}const fU=z({bandPart_:dU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pU(e){let t;if(Array.isArray(e)){t=!1,R(e!=null&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=e[0].shape[0];for(let o=1;o<e.length;++o)R(e[o].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[o].shape[0]} vs. ${s})`)}else t=!0,e=Nu(e,e.shape[0],0).map(s=>Wt(s,[0]));R(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let s=0;s<e.length;++s)n.push(W.tidy(()=>{let o=r[s];if(s>0)for(let i=0;i<s;++i){const a=he(ft(he(n[i],o)),n[i]);o=Re(o,a)}return je(o,ep(o,"euclidean"))}));return t?Ds(n,0):n}const hU=z({gramSchmidt_:pU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mU(e,t=!1){if(R(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),e.rank===2)return vy(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((l,u)=>l*u),r=Ii(ie(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),s=[],o=[];r.forEach(l=>{const[u,c]=vy(l,t);s.push(u),o.push(c)});const i=ie(Ds(s,0),e.shape),a=ie(Ds(o,0),e.shape);return[i,a]}}function vy(e,t=!1){return W.tidy(()=>{R(e.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let s=Sw(n),o=vo(e);const i=wo([[1]],[1,1]);let a=vo(i);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=o,d=a,f=s;[a,o,s]=W.tidy(()=>{const p=De(o,[u,u],[n-u,1]),g=ep(p),y=De(o,[u,u],[1,1]),E=bo(tp(y,0),wo([[-1]]),wo([[1]])),v=Re(y,he(E,g)),x=je(p,v);x.shape[0]===1?a=vo(i):a=en([i,De(x,[1,0],[x.shape[0]-1,x.shape[1]])],0);const $=Qr(je(st(E,v),g)),N=De(o,[u,0],[n-u,r]),I=he($,a),O=k2(a);if(u===0)o=Re(N,st(I,st(O,N)));else{const j=Re(N,st(I,st(O,N)));o=en([De(o,[0,0],[u,r]),j],0)}const U=k2(I),C=De(s,[0,u],[n,s.shape[1]-u]);if(u===0)s=Re(C,st(st(C,a),U));else{const j=Re(C,st(st(C,a),U));s=en([De(s,[0,0],[n,u]),j],1)}return[a,o,s]}),Nt([c,d,f])}return!t&&n>r&&(s=De(s,[0,0],[n,r]),o=De(o,[0,0],[r,r])),[s,o]})}const gU=z({qr_:mU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var En;(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(En||(En={}));function yU(e,t,n=En.SUM_BY_NONZERO_WEIGHTS){const r=A(e,"losses","computeWeightedLoss");let s=null;t!=null&&(s=A(t,"weights","computeWeightedLoss"));const o=s==null?r:he(r,s);if(n===En.NONE)return o;if(n===En.SUM)return ft(o);if(n===En.MEAN){if(s==null)return cf(o);{const i=r.size/s.size,a=je(ft(o),ft(s));return i>1?je(a,Xe(i)):a}}if(n===En.SUM_BY_NONZERO_WEIGHTS){if(s==null)return je(ft(o),Xe(r.size));{const i=he(s,ri(r.shape)),a=ht(ft(Dw(i,Xe(0))),"float32");return je(ft(o),a)}}throw Error(`Unknown reduction: ${n}`)}const Ls=z({computeWeightedLoss_:yU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vU(e,t,n,r=En.SUM_BY_NONZERO_WEIGHTS){const s=A(e,"labels","absoluteDifference"),o=A(t,"predictions","absoluteDifference");let i=null;n!=null&&(i=A(n,"weights","absoluteDifference")),Tr(s.shape,o.shape,"Error in absoluteDifference: ");const a=Xn(Re(s,o));return Ls(a,i,r)}const bU=z({absoluteDifference_:vU});function wU(e,t,n,r,s=En.SUM_BY_NONZERO_WEIGHTS){const o=A(e,"labels","cosineDistance"),i=A(t,"predictions","cosineDistance");let a=null;r!=null&&(a=A(r,"weights","cosineDistance")),Tr(o.shape,i.shape,"Error in cosineDistance: ");const l=Xe(1),u=Re(l,ft(he(o,i),n,!0));return Ls(u,a,s)}const xU=z({cosineDistance_:wU});function SU(e,t,n,r=En.SUM_BY_NONZERO_WEIGHTS){let s=A(e,"labels","hingeLoss");const o=A(t,"predictions","hingeLoss");let i=null;n!=null&&(i=A(n,"weights","hingeLoss")),Tr(s.shape,o.shape,"Error in hingeLoss: ");const a=Xe(1);s=Re(he(Xe(2),s),a);const l=rp(Re(a,he(s,o)));return Ls(l,i,r)}const EU=z({hingeLoss_:SU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TU(e,t,n,r=1,s=En.SUM_BY_NONZERO_WEIGHTS){const o=A(e,"labels","huberLoss"),i=A(t,"predictions","huberLoss");let a=null;n!=null&&(a=A(n,"weights","huberLoss")),Tr(o.shape,i.shape,"Error in huberLoss: ");const l=Xe(r),u=Xn(Re(i,o)),c=df(u,l),d=Re(u,c),f=$e(he(Xe(.5),Fr(c)),he(l,d));return Ls(f,a,s)}const $U=z({huberLoss_:TU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kU(e,t,n,r=1e-7,s=En.SUM_BY_NONZERO_WEIGHTS){const o=A(e,"labels","logLoss"),i=A(t,"predictions","logLoss");let a=null;n!=null&&(a=A(n,"weights","logLoss")),Tr(o.shape,i.shape,"Error in logLoss: ");const l=Xe(1),u=Xe(r),c=Qr(he(o,Tu($e(i,u)))),d=he(Re(l,o),Tu($e(Re(l,i),u))),f=Re(c,d);return Ls(f,a,s)}const NU=z({logLoss_:kU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CU(e,t,n,r=En.SUM_BY_NONZERO_WEIGHTS){const s=A(e,"labels","meanSquaredError"),o=A(t,"predictions","meanSquaredError");let i=null;n!=null&&(i=A(n,"weights","meanSquaredError")),Tr(s.shape,o.shape,"Error in meanSquaredError: ");const a=Vw(s,o);return Ls(a,i,r)}const _U=z({meanSquaredError_:CU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PU(e,t){const n=A(e,"labels","sigmoidCrossEntropyWithLogits"),r=A(t,"logits","sigmoidCrossEntropyWithLogits");Tr(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=rp(r),o=he(r,n),i=Nw(Is(Qr(Xn(r))));return $e(Re(s,o),i)}function AU(e,t,n,r=0,s=En.SUM_BY_NONZERO_WEIGHTS){let o=A(e,"multiClassLabels","sigmoidCrossEntropy");const i=A(t,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=A(n,"weights","sigmoidCrossEntropy")),Tr(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=Xe(r),c=Xe(1),d=Xe(.5);o=$e(he(o,Re(c,u)),he(d,u))}const l=PU(o,i);return Ls(l,a,s)}const IU=z({sigmoidCrossEntropy_:AU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OU(e,t,n=-1){if(n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return Os((s,o,i)=>{const l=_w(o,[n],!0),u=Re(ht(o,"float32"),l);i([s,u]);const c=Qr(he(u,s));return{value:ft(c,[n]),gradFunc:(p,g)=>{const[y,E]=g,v=Zf(p.shape,[n]);return[he(ie(p,v),Re(ht(y,"float32"),Is(E))),he(ie(p,v),Re(Is(E),ht(y,"float32")))]}}})(e,t)}function DU(e,t,n,r=0,s=En.SUM_BY_NONZERO_WEIGHTS){let o=A(e,"onehotLabels","softmaxCrossEntropy");const i=A(t,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=A(n,"weights","softmaxCrossEntropy")),Tr(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const u=Xe(r),c=Xe(1),d=Xe(o.shape[1]);o=$e(he(o,Re(c,u)),je(u,d))}const l=OU(o,i);return Ls(l,a,s)}const RU=z({softmaxCrossEntropy_:DU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FU(e,t,n,r){const s=A(e,"indices","sparseFillEmptyRows","int32"),o=A(t,"values","sparseFillEmptyRows"),i=A(n,"denseShape","sparseFillEmptyRows","int32"),a=A(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:s,values:o,denseShape:i,defaultValue:a},u=W.runKernel(NR,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const MU=z({sparseFillEmptyRows_:FU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LU(e,t,n){const r=A(e,"inputIndices","sparseReshape","int32"),s=A(t,"inputShape","sparseReshape","int32"),o=A(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const i={inputIndices:r,inputShape:s,newShape:o},a=W.runKernel(CR,i);return{outputIndices:a[0],outputShape:a[1]}}const BU=z({sparseReshape_:LU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jU(e,t,n){const r=A(e,"data","sparseSegmentMean"),s=A(t,"indices","sparseSegmentMean","int32"),o=A(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return W.runKernel(_R,i)}const zU=z({sparseSegmentMean_:jU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VU(e,t,n){const r=A(e,"data","sparseSegmentSum"),s=A(t,"indices","sparseSegmentSum","int32"),o=A(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return W.runKernel(PR,i)}const KU=z({sparseSegmentSum_:VU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UU(e,t,n,r,s,o,i,a){const l=A(e,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=A(t,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:s,rightPad:o,padWidth:i,preserveShortSequences:a},d={data:l,dataSplits:u},f=W.runKernel(RR,d,c);return{nGrams:f[0],nGramsSplits:f[1]}}const WU=z({stringNGrams_:UU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HU(e,t,n=!0){const r=A(e,"input","stringSplit","string"),s=A(t,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const o={skipEmpty:n},i={input:r,delimiter:s},a=W.runKernel(FR,i,o);return{indices:a[0],values:a[1],shape:a[2]}}const GU=z({stringSplit_:HU});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qU(e,t){const n=A(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return W.runKernel(MR,s,r)}const XU=z({stringToHashBucketFast_:qU});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YU(e,t,n,r=!0){const s=A(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return W.runKernel(OR,{x:s},o)}const JU=z({staticRegexReplace_:YU});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QU={fft:n0,ifft:ff,rfft:r0,irfft:zw},ZU={hammingWindow:wK,hannWindow:qw,frame:Xw,stft:TK},Xa={flipLeftRight:CK,grayscaleToRGB:PK,resizeNearestNeighbor:oU,resizeBilinear:rU,rgbToGrayscale:IK,rotateWithOffset:DK,cropAndResize:kK,nonMaxSuppression:FK,nonMaxSuppressionAsync:GK,nonMaxSuppressionWithScore:XK,nonMaxSuppressionWithScoreAsync:JK,nonMaxSuppressionPadded:ZK,nonMaxSuppressionPaddedAsync:tU,threshold:lU,transform:cU},eW={bandPart:fU,gramSchmidt:hU,qr:gU},tW={absoluteDifference:bU,computeWeightedLoss:Ls,cosineDistance:xU,hingeLoss:EU,huberLoss:$U,logLoss:NU,meanSquaredError:_U,sigmoidCrossEntropy:IU,softmaxCrossEntropy:RU},nW={sparseFillEmptyRows:MU,sparseReshape:BU,sparseSegmentMean:zU,sparseSegmentSum:KU},rW={stringNGrams:WU,stringSplit:GU,stringToHashBucketFast:XU,staticRegexReplace:JU};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sW=new Map,oW=new Map;class iW{getClassName(){return this.constructor.className}static fromConfig(t,n){return new t(n)}}class Go{constructor(){this.classNameMap={}}static getMap(){return Go.instance==null&&(Go.instance=new Go),Go.instance}static register(t){Go.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function aW(e,t,n){R(e.className!=null,()=>"Class being registered does not have the static className property defined."),R(typeof e.className=="string",()=>"className is required to be a string, but got type "+typeof e.className),R(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof n>"u"&&(n=e.className);const r=n,s=t+">"+r;return Go.register(e),sW.set(s,e),oW.set(e,s),e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oi extends iW{minimize(t,n=!1,r){const{value:s,grads:o}=this.computeGradients(t,r);if(r!=null){const i=r.map(a=>({name:a.name,tensor:o[a.name]}));this.applyGradients(i)}else this.applyGradients(o);return Nt(o),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,n){return zB(t,n)}dispose(){this.iterations_!=null&&Nt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Xe(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(t){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(t){return this.iterations_=(await t[0].tensor.data())[0],t.slice(1)}}Object.defineProperty(Oi,Symbol.hasInstance,{value:e=>e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lW extends Oi{static get className(){return"Adadelta"}constructor(t,n,r=null){super(),this.learningRate=t,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=W.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=W.registeredVariables[r],i=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Le(()=>Qn(o).variable(i))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Le(()=>Qn(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedGrads[s].variable,u=this.accumulatedUpdates[s].variable;Le(()=>{const c=$e(he(l,this.rho),he(Fr(a),1-this.rho)),d=he(je(As($e(u,this.epsilon)),As($e(l,this.epsilon))),a),f=$e(he(u,this.rho),he(Fr(d),1-this.rho));l.assign(c),u.assign(f);const p=$e(he(d,-this.learningRate),o);o.assign(p)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Nt(this.accumulatedGrads.map(t=>t.variable)),Nt(this.accumulatedUpdates.map(t=>t.variable)))}async getWeights(){const t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=t.length/2,r=!1;this.accumulatedGrads=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uW extends Oi{static get className(){return"Adagrad"}constructor(t,n=.1){super(),this.learningRate=t,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=W.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Le(()=>Uu(o.shape,this.initialAccumulatorValue).variable(!1))});const i=Array.isArray(t)?t[s].tensor:t[r];if(i==null)return;const a=this.accumulatedGrads[s].variable;Le(()=>{const l=$e(a,Fr(i));a.assign(l);const u=$e(he(je(i,As($e(l,W.backend.epsilon()))),-this.learningRate),o);o.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Nt(this.accumulatedGrads.map(t=>t.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,n){return new t(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cW extends Oi{static get className(){return"Adam"}constructor(t,n,r,s=null){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Le(()=>{this.accBeta1=Xe(n).variable(),this.accBeta2=Xe(r).variable()}),s==null&&(this.epsilon=W.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Le(()=>{const r=Re(1,this.accBeta1),s=Re(1,this.accBeta2);n.forEach((o,i)=>{const a=W.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:Le(()=>Qn(a).variable(l))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${o}/v`,variable:Le(()=>Qn(a).variable(l))});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,d=this.accumulatedSecondMoment[i].variable,f=$e(he(c,this.beta1),he(u,1-this.beta1)),p=$e(he(d,this.beta2),he(Fr(u),1-this.beta2)),g=je(f,r),y=je(p,s);c.assign(f),d.assign(p);const E=$e(he(je(g,$e(As(y),this.epsilon)),-this.learningRate),a);a.assign(E)}),this.accBeta1.assign(he(this.accBeta1,this.beta1)),this.accBeta2.assign(he(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Nt(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedSecondMoment!=null&&Nt(this.accumulatedSecondMoment.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t),Le(()=>{this.accBeta1.assign(Eu(this.beta1,this.iterations_+1)),this.accBeta2.assign(Eu(this.beta2,this.iterations_+1))});const n=t.length/2,r=!1;this.accumulatedFirstMoment=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dW extends Oi{static get className(){return"Adamax"}constructor(t,n,r,s=null,o=0){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Le(()=>{this.iteration=Xe(0).variable(),this.accBeta1=Xe(n).variable()}),s==null&&(this.epsilon=W.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Le(()=>{const r=Re(1,this.accBeta1),s=je(-this.learningRate,$e(he(this.iteration,this.decay),1));n.forEach((o,i)=>{const a=W.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:Qn(a).variable(l)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${o}/v`,variable:Qn(a).variable(l)});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,d=this.accumulatedWeightedInfNorm[i].variable,f=$e(he(c,this.beta1),he(u,1-this.beta1)),p=he(d,this.beta2),g=Xn(u),y=Ow(p,g);c.assign(f),d.assign(y);const E=$e(he(je(s,r),je(f,$e(y,this.epsilon))),a);a.assign(E)}),this.iteration.assign($e(this.iteration,1)),this.accBeta1.assign(he(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Nt(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedWeightedInfNorm!=null&&Nt(this.accumulatedWeightedInfNorm.map(t=>t.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(t){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yw extends Oi{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=Array.isArray(t)?t[s].tensor:t[r];if(o==null)return;const i=W.registeredVariables[r];Le(()=>{const a=$e(he(this.c,o),i);i.assign(a)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=Hr(Xe(-t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(t){if(t=await this.extractIterations(t),t.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,n){return new t(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fW extends Yw{static get className(){return"Momentum"}constructor(t,n,r=!1){super(t),this.learningRate=t,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Xe(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=W.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Le(()=>Qn(o).variable(!1))});const i=this.accumulations[s].variable,a=Array.isArray(t)?t[s].tensor:t[r];a!=null&&Le(()=>{let l;const u=$e(he(this.m,i),a);this.useNesterov?l=$e(he(this.c,$e(a,he(u,this.m))),o):l=$e(he(this.c,u),o),i.assign(u),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Nt(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pW extends Oi{static get className(){return"RMSProp"}constructor(t,n=.9,r=0,s=null,o=!1){if(super(),this.learningRate=t,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,s==null&&(this.epsilon=W.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=W.registeredVariables[r],i=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Le(()=>Qn(o).variable(i))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Le(()=>Qn(o).variable(i))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Le(()=>Qn(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,u=this.accumulatedMoments[s].variable;Le(()=>{const c=$e(he(l,this.decay),he(Fr(a),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[s].variable,f=$e(he(d,this.decay),he(a,1-this.decay)),p=je(he(a,this.learningRate),As(Re(c,$e(Fr(f),this.epsilon)))),g=$e(he(u,this.momentum),p);l.assign(c),d.assign(f),u.assign(g);const y=Re(o,g);o.assign(y)}else{const d=$e(he(l,this.decay),he(Fr(a),1-this.decay)),f=$e(he(u,this.momentum),je(he(a,this.learningRate),As($e(d,this.epsilon))));l.assign(d),u.assign(f);const p=Re(o,f);o.assign(p)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Nt(this.accumulatedMeanSquares.map(t=>t.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Nt(this.accumulatedMeanGrads.map(t=>t.variable)),this.accumulatedMoments!=null&&Nt(this.accumulatedMoments.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=this.centered?t.length/3:t.length/2,r=!1;this.accumulatedMeanSquares=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=t.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hW=[lW,uW,cW,dW,fW,pW,Yw];function mW(){for(const e of hW)aW(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gW="model",yW=".json",vW=".weights.bin";function by(e){return new Promise(t=>setTimeout(t)).then(e)}class Si{constructor(t){if(!ze().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(Si.URL_SCHEME)&&(t=t.slice(Si.URL_SCHEME.length)),(t==null||t.length===0)&&(t=gW),this.modelJsonFileName=t+yW,this.weightDataFileName=t+vW}async save(t){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Br.join(t.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o=rw(t,s),i=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=i,await by(()=>a.dispatchEvent(new MouseEvent("click"))),t.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await by(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Ku(t)}}}}Si.URL_SCHEME="downloads://";class bW{constructor(t){if(t==null||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}async load(){return new Promise((t,n)=>{const r=new FileReader;r.onload=s=>{const o=JSON.parse(s.target.result),i=o.modelTopology;if(i==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){t({modelTopology:i});return}const l=V3(o,u=>this.loadWeights(u));t(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(t){const n=[],r=[];for(const i of t)n.push(...i.weights),r.push(...i.paths);const s=this.checkManifestAndWeightFiles(t),o=r.map(i=>this.loadWeightsFile(i,s[i]));return Promise.all(o).then(i=>[n,i])}loadWeightsFile(t,n){return new Promise((r,s)=>{const o=new FileReader;o.onload=i=>{const a=i.target.result;r(a)},o.onerror=i=>s(`Failed to weights data from file of path '${t}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(t){const n=[],r=this.weightsFiles.map(o=>gy(o.name)),s={};for(const o of t)o.paths.forEach(i=>{const a=gy(i);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[i]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const wW=e=>ze().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Si.URL_SCHEME)?xW(e.slice(Si.URL_SCHEME.length)):null;$t.registerSaveRouter(wW);function xW(e="model"){return new Si(e)}function SW(e){return new bW(e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wy(e,t,n,r){i(e),n=n??0,r=r??1,a(n,r);let s=0;const o=l=>(l.then(u=>{const c=n+ ++s/e.length*(r-n);return t(c),u}),l);function i(l){R(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,u){R(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),R(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),R(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(e.map(o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Jw(e,t){t==null&&(t={});const n=t.fetchFunc==null?ze().platform.fetch:t.fetchFunc,r=e.map(d=>n(d,t.requestInit,{isBinary:!0})),a=(t.onProgress==null?await Promise.all(r):await wy(r,t.onProgress,0,.5)).map(d=>d.arrayBuffer());return t.onProgress==null?await Promise.all(a):await wy(a,t.onProgress,.5,1)}function EW(e,t){var n;const r=t.fetchFunc==null?ze().platform.fetch:t.fetchFunc;let s=0,o;return(n=t.onProgress)===null||n===void 0||n.call(t,0),new ReadableStream({pull:async i=>{for(var a;s<e.length;){o||(o=(await r(e[s],t.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await o.read();if(l){s++,o=void 0,(a=t.onProgress)===null||a===void 0||a.call(t,s/e.length);continue}i.enqueue(u);return}i.close()}})}async function TW(e,t="",n,r){return Qw(i=>Jw(i,{requestInit:r}))(e,t,n)}function Qw(e){return async(t,n="",r)=>{const s=t.map(()=>!1),o={},i=r!=null?r.map(()=>!1):[],a=[];if(t.forEach((p,g)=>{let y=0;p.weights.forEach(E=>{const v="quantization"in E?E.quantization.dtype:E.dtype,x=vi[v]*jt(E.shape),$=()=>{s[g]=!0,o[g]==null&&(o[g]=[]),o[g].push({manifestEntry:E,groupOffset:y,sizeBytes:x})};r!=null?r.forEach((N,I)=>{N===E.name&&($(),i[I]=!0)}):$(),a.push(E.name),y+=x})}),!i.every(p=>p)){const p=r.filter((g,y)=>!i[y]);throw new Error(`Could not find weights in manifest with names: ${p.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=s.reduce((p,g,y)=>(g&&p.push(y),p),[]),u=[];l.forEach(p=>{t[p].paths.forEach(g=>{const y=n+(n.endsWith("/")?"":"/")+g;u.push(y)})});const c=await e(u),d={};let f=0;return l.forEach(p=>{const g=t[p].paths.length,y=new Br(c.slice(f,f+g));o[p].forEach(v=>{const x=y.slice(v.groupOffset,v.groupOffset+v.sizeBytes),$=ew(x,[v.manifestEntry]);for(const N in $)d[N]=$[N]}),f+=g}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $W="application/octet-stream",kW="application/json";class c0{constructor(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(R(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=ze().platform.fetch,R(t!=null&&t.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(t)&&R(t.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${t.length}).`),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],s=rw(t,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:kW}),"model.json"),t.weightData!=null){const i=Br.join(t.weightData);n.body.append("model.weights.bin",new Blob([i],{type:$W}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:Ku(t),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async loadModelJSON(){const t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw new Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await t.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const t=await this.loadModelJSON();return V3(t,n=>this.loadWeights(n))}async loadStream(){const t=await this.loadModelJSON(),n=await this.getWeightUrls(t.weightsManifest),r=v2(t.weightsManifest),s=()=>EW(n,this.loadOptions);return Object.assign(Object.assign({},t),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(t){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=NW(n),o=this.weightPathPrefix||r,i=[],a=[];for(const l of t)for(const u of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(u)):i.push(o+u+s);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(t){const n=await this.getWeightUrls(t),r=v2(t),s=await Jw(n,this.loadOptions);return[r,s]}}c0.URL_SCHEME_REGEX=/^https?:\/\//;function NW(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),s=n>t?e.substring(n):"";return[r+"/",s]}function N2(e){return e.match(c0.URL_SCHEME_REGEX)!=null}const Zw=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>N2(r)):n=N2(e),n)return d0(e,t)}return null};$t.registerSaveRouter(Zw);$t.registerLoadRouter(Zw);function d0(e,t){return new c0(e,t)}function CW(e,t){return d0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vh{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class ex{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class _W{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=n=>Promise.resolve(t.save(n)))}}function PW(e,t,n,r){const s=arguments;return new _W(tx(...s))}function tx(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new vh(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vh({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vh({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function AW(e){return new ex(e)}function IW(e){return new ex(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nx=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Br,browserFiles:SW,browserHTTPRequest:CW,concatenateArrayBuffers:$F,copyModel:GF,decodeWeights:ew,decodeWeightsStream:nw,encodeWeights:bF,fromMemory:PW,fromMemorySync:tx,getLoadHandlers:OF,getModelArtifactsForJSON:V3,getModelArtifactsForJSONSync:sw,getModelArtifactsInfoForJSON:Ku,getSaveHandlers:IF,getWeightSpecs:v2,http:d0,isHTTPScheme:N2,listModels:WF,loadWeights:TW,moveModel:qF,registerLoadRouter:AF,registerSaveRouter:PF,removeModel:HF,weightsLoaderFactory:Qw,withSaveHandler:AW,withSaveHandlerSync:IW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zo;function OW(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)o=!0;else if(e.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&e instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);if(f2(ry,W.backendName)!=null){const g={pixels:e},y={numChannels:t};return W.runKernel(ry,g,y)}const[u,c]=s?[e.videoWidth,e.videoHeight]:[e.width,e.height];let d;if(i)d=e.getContext("2d").getImageData(0,0,u,c).data;else if(r||n)d=e.data;else if(o||s||a){if(zo==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")zo=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else zo=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});zo.canvas.width=u,zo.canvas.height=c,zo.drawImage(e,0,0,u,c),d=zo.getImageData(0,0,u,c).data}let f;if(t===4)f=new Int32Array(d);else{const g=u*c;f=new Int32Array(g*t);for(let y=0;y<g;y++)for(let E=0;E<t;++E)f[y*t+E]=d[y*4+E]}return Uw(f,[c,u,t],"int32")}function DW(e){if(e.rank!==2&&e.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=e.rank===2?1:e.shape[2];if(t>4||t===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if(e.dtype!=="float32"&&e.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function rx(e,t){let n=A(e,"img","toPixels");if(!(e instanceof Pt)){const u=n;n=ht(u,"int32"),u.dispose()}DW(n);const[r,s]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],i=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let u=0;u<r*s;++u){const c=[0,0,0,255];for(let f=0;f<o;f++){const p=i[u*o+f];if(n.dtype==="float32"){if(p<0||p>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${p}.`)}else if(n.dtype==="int32"&&(p<0||p>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${p}.`);o===1?(c[0]=p*a,c[1]=p*a,c[2]=p*a):c[f]=p*a}const d=u*4;l[d+0]=Math.round(c[0]),l[d+1]=Math.round(c[1]),l[d+2]=Math.round(c[2]),l[d+3]=Math.round(c[3])}return n!==e&&n.dispose(),l}const sx=z({fromPixels_:OW});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */mW();/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RW=ze();RW.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Rn;(function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"})(Rn||(Rn={}));var xy;(function(e){(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))})(xy||(xy={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FW={};function ox(e){return FW[e]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b(e,t,n,r,s){const o=t.inputParams[e];if(o&&o.inputIndexStart!==void 0){const a=o.inputIndexStart,l=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?a+1:o.inputIndexEnd,u=a<0?t.inputNames.length+a:a;if(o.type==="tensor")return Qt(t.inputNames[u],n,r,s);if(o.type==="tensors"){const f=t.inputs.slice(a,l);return t.inputNames.slice(a,l).filter((g,y)=>{var E;return((E=f[y])===null||E===void 0?void 0:E.op)!=="NoOp"}).map(g=>Qt(g,n,r,s))}const c=Qt(t.inputNames[u],n,r,s),d=c.dataSync();return o.type==="number"?d[0]:d2(c.shape,d)}const i=t.attrParams[e];return i&&i.value}function Qt(e,t,n,r){const[s,o]=Fn(e,n);if(r!=null){const a=r.getHashTableHandleByName(s);if(a!=null)return a}const i=n.currentContextIds.find(a=>!!t[pf(s,a)]);return i!==void 0?t[pf(s,i)][o]:void 0}function Sy(e,t,n){return t[pf(e,n.currentContextId)]}function cs(e,t){const[n,r,s]=Fn(e,t);return[pf(n,t&&t.currentContextId),r,s]}function pf(e,t){return t?`${e}-${t}`:e}function Fn(e,t){if(e==="")return["",0,void 0];const n=t!=null&&t.parseNodeNameCache!=null;if(n){const o=t.parseNodeNameCache.get(e);if(o!=null)return o}const r=e.split(":");let s;if(r.length===1)s=[e,0,void 0];else{const o=r[0],i=r.length===3?r[1]:void 0,a=Number(r[r.length-1]);s=[o,a,i]}return n&&t.parseNodeNameCache.set(e,s),s}function ud(e,t,n){let r=b("pad",e,t,n);if(r==="explicit"){r=b("explicitPaddings",e,t,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)s[o][0]=r[o*2],s[o][1]=r[o*2+1];return s}return r}function ds(e){return e.kept?e:vo(e)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MW=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],LW=Object.freeze(Object.defineProperty({__proto__:null,json:MW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BW=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],jW=Object.freeze(Object.defineProperty({__proto__:null,json:BW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zW=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],VW=Object.freeze(Object.defineProperty({__proto__:null,json:zW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KW=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],UW=Object.freeze(Object.defineProperty({__proto__:null,json:KW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WW=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],HW=Object.freeze(Object.defineProperty({__proto__:null,json:WW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GW=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],qW=Object.freeze(Object.defineProperty({__proto__:null,json:GW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XW=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],YW=Object.freeze(Object.defineProperty({__proto__:null,json:XW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JW=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],QW=Object.freeze(Object.defineProperty({__proto__:null,json:JW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZW=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],eH=Object.freeze(Object.defineProperty({__proto__:null,json:ZW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tH=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],nH=Object.freeze(Object.defineProperty({__proto__:null,json:tH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rH=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],sH=Object.freeze(Object.defineProperty({__proto__:null,json:rH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oH=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],iH=Object.freeze(Object.defineProperty({__proto__:null,json:oH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aH=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],lH=Object.freeze(Object.defineProperty({__proto__:null,json:aH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uH=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],cH=Object.freeze(Object.defineProperty({__proto__:null,json:uH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dH=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],fH=Object.freeze(Object.defineProperty({__proto__:null,json:dH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pH=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],hH=Object.freeze(Object.defineProperty({__proto__:null,json:pH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mH=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],gH=Object.freeze(Object.defineProperty({__proto__:null,json:mH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yH=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],vH=Object.freeze(Object.defineProperty({__proto__:null,json:yH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bH=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],wH=Object.freeze(Object.defineProperty({__proto__:null,json:bH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ey{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const t=[LW,jW,VW,UW,HW,qW,YW,QW,eH,nH,sH,iH,lH,cH,fH,hH,gH,vH,wH],n=[].concat(...t.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(t,n={}){const r=t.node,s=[],o=[],i=[],a=r.reduce((y,E)=>(y[E.name]=this.mapNode(E),E.op.startsWith("Placeholder")?s.push(y[E.name]):E.op==="Const"?o.push(y[E.name]):(E.input==null||E.input.length===0)&&i.push(y[E.name]),y),{});let l=[];const u=[];let c={},d={};n!=null&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const f=Object.keys(a);f.forEach(y=>{const E=a[y];E.inputNames.forEach((v,x)=>{const[$,,N]=cs(v),I=a[$];if(I.outputs!=null){const O=I.outputs.indexOf(N);if(O!==-1){const U=`${$}:${O}`;E.inputNames[x]=U}}E.inputs.push(I),I.children.push(E)})}),Object.keys(d).length===0?f.forEach(y=>{const E=a[y];E.children.length===0&&u.push(E)}):Object.keys(d).forEach(y=>{const[E]=cs(y),v=a[E];v!=null&&(v.signatureKey=d[y],u.push(v))}),Object.keys(c).length>0?Object.keys(c).forEach(y=>{const[E]=cs(y),v=a[E];v&&(v.signatureKey=c[y],l.push(v))}):l=s;let p={};t.library!=null&&t.library.function!=null&&(p=t.library.function.reduce((y,E)=>(y[E.signature.name]=this.mapFunction(E),y),{}));const g={nodes:a,inputs:l,outputs:u,weights:o,placeholders:s,signature:n,functions:p};return i.length>0&&(g.initNodes=i),g}mapSignatureEntries(t){return Object.keys(t||{}).reduce((n,r)=>(n[t[r].name]=r,n),{})}mapNode(t){const n=ox(t.op)||this.opMappers[t.op]||{};t.attr==null&&(t.attr={});const r={name:t.name,op:t.op,category:n.category,inputNames:(t.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,o)=>(s[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,o)=>{const i=o.type;let a;switch(o.type){case"string":a=C2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=C2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":a=R2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=R2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":a=P2(t.attr,o.tfName,o.defaultValue||0),a===void 0&&o.tfDeprecatedName&&(a=P2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":a=D2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=D2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":a=_2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=_2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":a=M2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=M2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":a=O2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=O2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":a=F2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=F2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":a=A2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=A2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":a=I2(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=I2(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":a=Ty(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=Ty(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${t.op}`)}return s[o.name]={value:a,type:i},s},{})),r}mapFunction(t){const n=t.nodeDef,r=[],s=[];let o={};n!=null&&(o=n.reduce((d,f)=>(d[f.name]=this.mapNode(f),f.op==="Const"&&s.push(d[f.name]),d),{}));const i=[],a=[];t.signature.inputArg.forEach(d=>{const[f]=cs(d.name),p={name:f,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:f0(d.type),type:"dtype"}},children:[]};p.signatureKey=d.name,i.push(p),o[f]=p}),Object.keys(o).forEach(d=>{const f=o[d];f.inputNames.forEach((p,g)=>{const[y,,E]=cs(p),v=o[y];if(v.outputs!=null){const x=v.outputs.indexOf(E);if(x!==-1){const $=`${y}:${x}`;f.inputNames[g]=$}}f.inputs.push(v),v.children.push(f)})});const u=t.ret;t.signature.outputArg.forEach(d=>{const[f,p]=cs(u[d.name]),g=o[f];g!=null&&(g.defaultOutput=p,a.push(g))});const c=this.mapArgsToSignature(t);return{nodes:o,inputs:i,outputs:a,weights:s,placeholders:r,signature:c}}mapArgsToSignature(t){return{methodName:t.signature.name,inputs:t.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:t.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,t.ret),n),{})}}mapArgToTensorInfo(t,n){let r=t.name;return n!=null&&(r=n[r]),{name:r,dtype:t.type}}}function xH(e){const t=ze().global;if(typeof t.atob<"u")return t.atob(e);if(typeof Buffer<"u")return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function ix(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):xH(e);return t?n:n.toLowerCase()}function C2(e,t,n,r=!1){const s=e[t];return s!=null?ix(s.s,r):n}function _2(e,t,n){const r=e[t];return r?r.b:n}function P2(e,t,n){const r=e[t]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function f0(e){switch(typeof e=="string"&&(e=Rn[e]),e){case Rn.DT_FLOAT:case Rn.DT_HALF:return"float32";case Rn.DT_INT32:case Rn.DT_INT64:case Rn.DT_INT8:case Rn.DT_UINT8:return"int32";case Rn.DT_BOOL:return"bool";case Rn.DT_DOUBLE:return"float32";case Rn.DT_STRING:return"string";case Rn.DT_COMPLEX64:case Rn.DT_COMPLEX128:return"complex64";default:return null}}function Ty(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function A2(e,t,n){const r=e[t];return r&&r.type?f0(r.type):n}function I2(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map(s=>f0(s)):n}function ax(e){if(!e.unknownRank)return e.dim!=null?e.dim.map(t=>typeof t.size=="number"?t.size:parseInt(t.size,10)):[]}function O2(e,t,n){const r=e[t];return r&&r.shape?ax(r.shape):n}function D2(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function R2(e,t,n,r=!1){const s=e[t];return s&&s.list&&s.list.s?s.list.s.map(o=>ix(o,r)):n}function F2(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(s=>ax(s)):n}function M2(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SH{constructor(t,n,r){this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(s=>this.getInput(s)),t.rawAttrs!=null&&(this.attrs=Object.keys(t.rawAttrs).reduce((s,o)=>(s[o]=this.getAttr(o),s),{}))}getInput(t){return Qt(t,this.tensorMap,this.context)}getAttr(t,n){const r=this.node.rawAttrs[t];if(r.tensor!=null)return Qt(t,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return P2(this.node.rawAttrs,t,n);if(r.s!=null)return C2(this.node.rawAttrs,t,n);if(r.b!=null)return _2(this.node.rawAttrs,t,n);if(r.shape!=null)return O2(this.node.rawAttrs,t,n);if(r.type!=null)return A2(this.node.rawAttrs,t,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return D2(this.node.rawAttrs,t,n);if(r.list.s!=null)return R2(this.node.rawAttrs,t,n);if(r.list.shape!=null)return F2(this.node.rawAttrs,t,n);if(r.list.b!=null)return M2(this.node.rawAttrs,t,n);if(r.list.type!=null)return I2(this.node.rawAttrs,t,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tn=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:Z9,abs:Xn,acos:aM,acosh:uM,add:$e,addN:dM,all:pM,any:mM,argMax:yM,argMin:bM,asin:xM,asinh:EM,atan:$M,atan2:NM,atanh:_M,avgPool:hw,avgPool3d:MM,basicLSTMCell:UM,batchNorm:Jf,batchNorm2d:XM,batchNorm3d:JM,batchNorm4d:ZM,batchToSpaceND:mw,bincount:gw,bitwiseAnd:nL,booleanMaskAsync:UV,broadcastArgs:sL,broadcastTo:ld,buffer:Ps,cast:ht,ceil:aL,clipByValue:yw,clone:vo,complex:$o,concat:en,concat1d:cL,concat2d:fL,concat3d:hL,concat4d:gL,conv1d:bL,conv2d:Qf,conv2dTranspose:SL,conv3d:TL,conv3dTranspose:CL,cos:PL,cosh:IL,cosineWindow:s0,cumprod:DL,cumsum:FL,denseBincount:LL,depthToSpace:jL,depthwiseConv2d:U3,diag:KL,dilation2d:WL,div:je,divNoNan:JL,dot:ZL,dropout:rK,einsum:Ji,elu:ww,enclosingPowerOfTwo:Gw,ensureShape:rB,equal:bw,erf:oB,euclideanNorm:mB,exp:Is,expandDims:mr,expm1:bB,eye:Sw,fft:n0,fill:Uu,floor:Ew,floorDiv:pw,fused:vK,gather:Tw,gatherND:eK,greater:tp,greaterEqual:$w,ifft:ff,imag:np,image:Xa,inTopKAsync:oK,irfft:zw,isFinite:CB,isInf:PB,isNaN:IB,leakyRelu:kw,less:$2,lessEqual:W3,linalg:eW,linspace:FB,localResponseNormalization:LB,log:Tu,log1p:Nw,logSigmoid:WB,logSoftmax:qB,logSumExp:_w,logicalAnd:uf,logicalNot:Pw,logicalOr:Aw,logicalXor:ej,losses:tW,lowerBound:nj,matMul:st,max:Ea,maxPool:Iw,maxPool3d:oj,maxPoolWithArgmax:aj,maximum:Ow,mean:cf,meshgrid:cj,min:T2,minimum:df,mirrorPad:pj,mod:mj,moments:yj,movingAverage:GV,mul:he,multiRNNCell:bj,multinomial:xj,neg:Qr,norm:ep,notEqual:Dw,oneHot:Tj,ones:ri,onesLike:kj,op:z,outerProduct:Cj,pad:Wu,pad1d:Aj,pad2d:Oj,pad3d:Rj,pad4d:Mj,pool:Vj,pow:Eu,prelu:Fw,print:fw,prod:Wj,raggedGather:Gj,raggedRange:Xj,raggedTensorToTensor:Jj,rand:Zj,randomGamma:bz,randomNormal:Lw,randomStandardNormal:Sz,randomUniform:t0,randomUniformInt:$z,range:$u,real:ku,reciprocal:Cz,relu:rp,relu6:Bw,reshape:ie,reverse:xi,reverse1d:Oz,reverse2d:Rz,reverse3d:Mz,reverse4d:Bz,rfft:r0,round:jw,rsqrt:Vz,scalar:Xe,scatterND:XV,searchSorted:H3,selu:Uz,separableConv2d:Hz,setdiff1dAsync:qz,sigmoid:li,sign:Yz,signal:ZU,sin:Qz,sinh:eV,slice:De,slice1d:nV,slice2d:sV,slice3d:iV,slice4d:lV,softmax:cV,softplus:Cw,spaceToBatchND:Rw,sparse:nW,sparseToDense:QV,spectral:QU,split:Nu,sqrt:As,square:Fr,squaredDifference:Vw,squeeze:Wt,stack:Ds,step:Kw,stridedSlice:xV,string:rW,sub:Re,sum:ft,tan:EV,tanh:E2,tensor:Jr,tensor1d:ln,tensor2d:wo,tensor3d:Uw,tensor4d:TV,tensor5d:$V,tensor6d:kV,tensorScatterUpdate:_V,tile:Jl,topk:AV,transpose:k2,truncatedNormal:OV,unique:RV,unsortedSegmentSum:MV,unstack:Ii,upperBound:BV,variable:jV,where:bo,whereAsync:Hw,zeros:Ma,zerosLike:Qn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EH=(e,t,n,r=tn)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(b("a",e,t,n),b("b",e,t,n))];case"AddN":return[r.addN(b("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(b("a",e,t,n),b("b",e,t,n))];case"Mul":return[r.mul(b("a",e,t,n),b("b",e,t,n))];case"RealDiv":case"Div":return[r.div(b("a",e,t,n),b("b",e,t,n))];case"DivNoNan":return[r.divNoNan(b("a",e,t,n),b("b",e,t,n))];case"FloorDiv":return[r.floorDiv(b("a",e,t,n),b("b",e,t,n))];case"Sub":return[r.sub(b("a",e,t,n),b("b",e,t,n))];case"Minimum":return[r.minimum(b("a",e,t,n),b("b",e,t,n))];case"Maximum":return[r.maximum(b("a",e,t,n),b("b",e,t,n))];case"Pow":return[r.pow(b("a",e,t,n),b("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(b("a",e,t,n),b("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TH=(e,t,n,r=tn)=>{switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(b("x",e,t,n))];case"Acos":return[r.acos(b("x",e,t,n))];case"Acosh":return[r.acosh(b("x",e,t,n))];case"Asin":return[r.asin(b("x",e,t,n))];case"Asinh":return[r.asinh(b("x",e,t,n))];case"Atan":return[r.atan(b("x",e,t,n))];case"Atan2":return[r.atan2(b("x",e,t,n),b("y",e,t,n))];case"Atanh":return[r.atanh(b("x",e,t,n))];case"Ceil":return[r.ceil(b("x",e,t,n))];case"Complex":return[r.complex(b("real",e,t,n),b("imag",e,t,n))];case"Cos":return[r.cos(b("x",e,t,n))];case"Cosh":return[r.cosh(b("x",e,t,n))];case"Elu":return[r.elu(b("x",e,t,n))];case"Erf":return[r.erf(b("x",e,t,n))];case"Exp":return[r.exp(b("x",e,t,n))];case"Expm1":return[r.expm1(b("x",e,t,n))];case"Floor":return[r.floor(b("x",e,t,n))];case"Log":return[r.log(b("x",e,t,n))];case"Log1p":return[r.log1p(b("x",e,t,n))];case"Imag":return[r.imag(b("x",e,t,n))];case"Neg":return[r.neg(b("x",e,t,n))];case"Reciprocal":return[r.reciprocal(b("x",e,t,n))];case"Real":return[r.real(b("x",e,t,n))];case"Relu":return[r.relu(b("x",e,t,n))];case"Round":return[r.round(b("x",e,t,n))];case"Selu":return[r.selu(b("x",e,t,n))];case"Sigmoid":return[r.sigmoid(b("x",e,t,n))];case"Sin":return[r.sin(b("x",e,t,n))];case"Sign":return[r.sign(b("x",e,t,n))];case"Sinh":return[r.sinh(b("x",e,t,n))];case"Softplus":return[r.softplus(b("x",e,t,n))];case"Sqrt":return[r.sqrt(b("x",e,t,n))];case"Square":return[r.square(b("x",e,t,n))];case"Tanh":return[r.tanh(b("x",e,t,n))];case"Tan":return[r.tan(b("x",e,t,n))];case"ClipByValue":return[r.clipByValue(b("x",e,t,n),b("clipValueMin",e,t,n),b("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(b("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Qt(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(b("x",e,t,n),b("alpha",e,t,n))];case"Prelu":return[r.prelu(b("x",e,t,n),b("alpha",e,t,n))];case"IsNan":return[r.isNaN(Qt(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(Qt(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(Qt(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dr(e,t,n=""){if(!(typeof e=="number"||typeof t=="number")){R(e.length===t.length,()=>n+` Shapes ${e} and ${t} must match`);for(let r=0;r<e.length;r++){const s=e[r],o=t[r];R(s<0||o<0||s===o,()=>n+` Shapes ${e} and ${t} must match`)}}}function $y(e){return!(typeof e=="number"||e.some(t=>t<0))}function Nl(e,t,n){let r=L2(e,n);const s=!$y(r);if(s&&t.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&t.forEach(o=>{r=L2(o.shape,r)}),!$y(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function L2(e,t){if(typeof e=="number")return t;if(typeof t=="number")return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const s=e[r],o=t[r];if(s>=0&&o>=0&&s!==o)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=s>=0?s:o}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $H{constructor(t,n,r,s,o,i,a){this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=Xe(0),Hr(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(t){this.tensors.forEach(n=>{(t==null||!t.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||t>=this.size())throw new Error(`Tried to read from index ${t}, but array size is: ${this.size()}`);const n=this.tensors[t];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${t} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(t){return t.map(n=>this.read(n))}write(t,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error(`Tried to write to index ${t}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[t]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),dr(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${t}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been written.`);r.tensor=n,Hr(n),r.written=!0,this.tensors[t]=r}writeMany(t,n){if(t.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${t.length} is not the same as tensors size: ${n.length}.`);t.forEach((r,s)=>this.write(r,n[s]))}gather(t,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(t)t=t.slice(0,this.size());else{t=[];for(let s=0;s<this.size();s++)t.push(s)}if(t.length===0)return Jr([],[0].concat(this.elementShape));const r=this.readMany(t);return dr(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Ds(r,0)}concat(t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${t}`);if(this.size()===0)return Jr([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return dr(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),en(r,0)}scatter(t,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(t.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${n.shape[0]}`);const r=Math.max(...t);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(t,Ii(n,0))}split(t,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=t.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${t.length}), and the TensorArray is not marked as dynamically resizeable`);const o=r===0?0:n.size/r,i=[];Le(()=>{n=ie(n,[1,r,o]);for(let l=0;l<t.length;++l){const c=[0,l===0?0:s[l-1],0],d=[1,t[l],o];i[l]=ie(De(n,c,d),this.elementShape)}return i});const a=[];for(let l=0;l<t.length;l++)a[l]=l;this.writeMany(a,i)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ei{get id(){return this.idTensor.id}constructor(t,n,r,s=-1){this.tensors=t,this.elementShape=n,this.elementDtype=r,t!=null&&t.forEach(o=>{if(r!==o.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${o.dtype}`);dr(n,o.shape,"TensorList shape mismatch: "),Hr(o)}),this.idTensor=Xe(0),this.maxNumElements=s,Hr(this.idTensor)}copy(){return new Ei([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(t){this.tensors.forEach(n=>{(t==null||!t.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(t,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);dr(t,this.elementShape,"TensorList shape mismatch: ");const s=Nl(this.elementShape,this.tensors,t);return Le(()=>{const o=this.tensors.map(i=>ie(i,s));return Ds(o,0)})}popBack(t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=Nl(this.elementShape,this.tensors,t),s=this.tensors.pop();return s.kept=!1,dr(s.shape,t,"TensorList shape mismatch: "),ie(s,r)}pushBack(t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(dr(t.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Hr(t),this.tensors.push(t)}resize(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(this.maxNumElements!==-1&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);const n=new Ei([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(let r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}getItem(t,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(t<0||t>this.tensors.length)throw new Error(`Trying to access element ${t} in a list with ${this.tensors.length} elements.`);if(this.tensors[t]==null)throw new Error(`element at index ${t} is null.`);dr(this.tensors[t].shape,n,"TensorList shape mismatch: ");const s=Nl(this.elementShape,this.tensors,n);return ie(this.tensors[t],s)}setItem(t,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(t<0||this.maxNumElements!==-1&&t>=this.maxNumElements)throw new Error(`Trying to set element ${t} in a list with max ${this.maxNumElements} elements.`);dr(this.elementShape,n.shape,"TensorList shape mismatch: "),Hr(n),this.tensors[t]!=null&&(this.tensors[t].kept=!1),this.tensors[t]=n}gather(t,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);dr(this.elementShape,r,"TensorList shape mismatch: "),t=t.slice(0,this.size());const s=Nl(this.elementShape,this.tensors,r);return t.length===0?Jr([],[0].concat(s)):Le(()=>{const o=t.map(i=>ie(this.tensors[i],s));return Ds(o,0)})}concat(t,n){if(t&&t!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${t}`);dr(this.elementShape,n,"TensorList shape mismatch: ");const r=Nl(this.elementShape,this.tensors,n);return this.size()===0?Jr([],[0].concat(r)):Le(()=>{const s=this.tensors.map(o=>ie(o,r));return en(s,0)})}}function kH(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);const s=e.shape.slice(1);dr(s,t,"TensorList shape mismatch: ");const o=Ii(e);return new Ei(o,t,r)}function NH(e,t,n,r){return new Ei([],e,t,r)}function CH(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const s=Math.max(...t);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const o=new Ei([],n,e.dtype,r),i=Ii(e,0);return t.forEach((a,l)=>{o.setItem(a,i[l])}),o}function _H(e,t,n){let r=0;const s=t.map(c=>(r+=c,r));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${e.shape}`);const o=e.shape.slice(1),i=L2(o,n),a=r===0?0:e.size/r,l=Le(()=>{const c=[];e=ie(e,[1,r,a]);for(let d=0;d<t.length;++d){const p=[0,d===0?0:s[d-1],0],g=[1,t[d],a];c[d]=ie(De(e,p,g),i)}return e.dispose(),c}),u=new Ei([],n,e.dtype,t.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PH=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=b("thenBranch",e,t,n),s=b("elseBranch",e,t,n),o=b("cond",e,t,n),i=b("args",e,t,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=b("body",e,t,n),s=b("cond",e,t,n),o=b("args",e,t,n),i=await n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),a=o.map(c=>c.id);let l=await i[0].data();i.forEach(c=>{!c.kept&&a.indexOf(c.id)===-1&&c.dispose()});let u=o;for(;l[0];){const c=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const d=u.map(p=>p.id);c.forEach(p=>{!p.kept&&a.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()});const f=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await f[0].data(),f.forEach(p=>{!p.kept&&a.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()})}return u}case"LoopCond":{const r=b("pred",e,t,n);return[ds(r)]}case"Switch":{const r=b("pred",e,t,n);let s=b("data",e,t,n);return s.kept||(s=ds(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=e.inputNames.find(s=>Qt(s,t,n)!==void 0);if(r){const s=Qt(r,t,n);return[ds(s)]}return}case"Enter":{const r=b("frameName",e,t,n),s=b("tensor",e,t,n);return n.enterFrame(r),[ds(s)]}case"Exit":{const r=b("tensor",e,t,n);return n.exitFrame(),[ds(r)]}case"NextIteration":{const r=b("tensor",e,t,n);return n.nextIteration(),[ds(r)]}case"TensorArrayV3":{const r=b("size",e,t,n),s=b("dtype",e,t,n),o=b("elementShape",e,t,n),i=b("dynamicSize",e,t,n),a=b("clearAfterRead",e,t,n),l=b("identicalElementShapes",e,t,n),u=b("name",e,t,n),c=new $H(u,s,r,o,l,i,a);return n.addTensorArray(c),[c.idTensor,Xe(1)]}case"TensorArrayWriteV3":{const r=b("tensorArrayId",e,t,n),s=b("index",e,t,n),o=b("tensor",e,t,n),i=n.getTensorArray(r.id);return i.write(s,o),[i.idTensor]}case"TensorArrayReadV3":{const r=b("tensorArrayId",e,t,n),s=b("index",e,t,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=b("tensorArrayId",e,t,n),s=b("indices",e,t,n),o=b("dtype",e,t,n);return[n.getTensorArray(r.id).gather(s,o)]}case"TensorArrayScatterV3":{const r=b("tensorArrayId",e,t,n),s=b("indices",e,t,n),o=b("tensor",e,t,n),i=n.getTensorArray(r.id);return i.scatter(s,o),[i.idTensor]}case"TensorArrayConcatV3":{const r=b("tensorArrayId",e,t,n),s=n.getTensorArray(r.id),o=b("dtype",e,t,n);return[s.concat(o)]}case"TensorArraySplitV3":{const r=b("tensorArrayId",e,t,n),s=b("tensor",e,t,n),o=b("lengths",e,t,n),i=n.getTensorArray(r.id);return i.split(o,s),[i.idTensor]}case"TensorArraySizeV3":{const r=b("tensorArrayId",e,t,n),s=n.getTensorArray(r.id);return[Xe(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=b("tensorArrayId",e,t,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=b("tensorListId",e,t,n),s=b("index",e,t,n),o=b("tensor",e,t,n),i=n.getTensorList(r.id);return i.setItem(s,o),[i.idTensor]}case"TensorListGetItem":{const r=b("tensorListId",e,t,n),s=b("index",e,t,n),o=b("elementShape",e,t,n),i=b("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(s,o,i)]}case"TensorListScatterV2":case"TensorListScatter":{const r=b("indices",e,t,n),s=b("tensor",e,t,n),o=b("elementShape",e,t,n),i=b("numElements",e,t,n),a=CH(s,r,o,i);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=b("elementShape",e,t,n),s=b("elementDType",e,t,n);let o;e.op==="TensorListReserve"?o="numElements":o="maxNumElements";const i=b(o,e,t,n),a=e.op==="TensorListReserve"?-1:i,l=NH(r,s,i,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=b("tensorListId",e,t,n),s=b("indices",e,t,n),o=b("elementShape",e,t,n),i=b("elementDType",e,t,n);return[n.getTensorList(r.id).gather(s,i,o)]}case"TensorListStack":{const r=b("tensorListId",e,t,n),s=b("elementShape",e,t,n),o=b("elementDType",e,t,n),i=b("numElements",e,t,n);return[n.getTensorList(r.id).stack(s,o,i)]}case"TensorListFromTensor":{const r=b("tensor",e,t,n),s=b("elementShape",e,t,n),o=b("elementDType",e,t,n),i=kH(r,s,o);return n.addTensorList(i),[i.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=b("tensorListId",e,t,n),s=n.getTensorList(r.id),o=b("dtype",e,t,n),i=b("elementShape",e,t,n);return[s.concat(o,i)]}case"TensorListPushBack":{const r=b("tensorListId",e,t,n),s=b("tensor",e,t,n),o=n.getTensorList(r.id);return o.pushBack(s),[o.idTensor]}case"TensorListPopBack":{const r=b("tensorListId",e,t,n),s=b("elementShape",e,t,n),o=b("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(s,o)]}case"TensorListSplit":{const r=b("tensor",e,t,n),s=b("elementShape",e,t,n),o=b("lengths",e,t,n),i=_H(r,o,s);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{const r=b("tensorListId",e,t,n),s=n.getTensorList(r.id);return[Xe(s.size(),"int32")]}case"TensorListResize":{const r=b("tensorListId",e,t,n),s=b("size",e,t,n),i=n.getTensorList(r.id).resize(s);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ky(e,t,n){const[r,s]=b("fusedOps",e,t,n),o=r==="biasadd",i=!o,a=s==="prelu",l=r==="fusedbatchnorm",u=b("numArgs",e,t,n);if(o){if(a&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&o&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=b("strides",e,t,n),d=ud(e,t,n),f=b("dataFormat",e,t,n).toUpperCase(),p=b("dilations",e,t,n);let[g,y]=b("args",e,t,n);i&&(y=g,g=void 0);const E=b("leakyreluAlpha",e,t,n);return{stride:c,pad:d,dataFormat:f,dilations:p,biasArg:g,preluArg:y,activationFunc:s,leakyreluAlpha:E}}const AH=(e,t,n,r=tn)=>{switch(e.op){case"Conv1D":{const s=b("stride",e,t,n),o=b("pad",e,t,n),i=b("dataFormat",e,t,n).toUpperCase(),a=b("dilation",e,t,n);return[r.conv1d(b("x",e,t,n),b("filter",e,t,n),s,o,i,a)]}case"Conv2D":{const s=b("strides",e,t,n),o=ud(e,t,n),i=b("dataFormat",e,t,n).toUpperCase(),a=b("dilations",e,t,n);return[r.conv2d(b("x",e,t,n),b("filter",e,t,n),[s[1],s[2]],o,i,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:s,pad:o,dataFormat:i,dilations:a,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ky(e,t,n);return[r.fused.conv2d({x:b("x",e,t,n),filter:b("filter",e,t,n),strides:[s[1],s[2]],pad:o,dataFormat:i,dilations:[a[1],a[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:o,dataFormat:i,dilations:a,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ky(e,t,n);return[r.fused.depthwiseConv2d({x:b("x",e,t,n),filter:b("filter",e,t,n),strides:[s[1],s[2]],pad:o,dataFormat:i,dilations:[a[1],a[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=b("outputShape",e,t,n),o=b("strides",e,t,n),i=ud(e,t,n);return[r.conv2dTranspose(b("x",e,t,n),b("filter",e,t,n),s,[o[1],o[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=b("strides",e,t,n),o=ud(e,t,n),i=b("dilations",e,t,n),a=b("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(b("input",e,t,n),b("filter",e,t,n),[s[1],s[2]],o,a,[i[1],i[2]])]}case"Conv3D":{const s=b("strides",e,t,n),o=b("pad",e,t,n),i=b("dataFormat",e,t,n).toUpperCase(),a=b("dilations",e,t,n);return[r.conv3d(b("x",e,t,n),b("filter",e,t,n),[s[1],s[2],s[3]],o,i,[a[1],a[2],a[3]])]}case"AvgPool":{const s=b("strides",e,t,n),o=b("pad",e,t,n),i=b("kernelSize",e,t,n);return[r.avgPool(b("x",e,t,n),[i[1],i[2]],[s[1],s[2]],o)]}case"MaxPool":{const s=b("strides",e,t,n),o=b("pad",e,t,n),i=b("kernelSize",e,t,n);return[r.maxPool(b("x",e,t,n),[i[1],i[2]],[s[1],s[2]],o)]}case"MaxPoolWithArgmax":{const s=b("strides",e,t,n),o=b("pad",e,t,n),i=b("kernelSize",e,t,n),a=b("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(b("x",e,t,n),[i[1],i[2]],[s[1],s[2]],o,a);return[l,u]}case"AvgPool3D":{const s=b("strides",e,t,n),o=b("pad",e,t,n),i=b("kernelSize",e,t,n);return[r.avgPool3d(b("x",e,t,n),[i[1],i[2],i[3]],[s[1],s[2],s[3]],o)]}case"MaxPool3D":{const s=b("strides",e,t,n),o=b("pad",e,t,n),i=b("kernelSize",e,t,n);return[r.maxPool3d(b("x",e,t,n),[i[1],i[2],i[3]],[s[1],s[2],s[3]],o)]}case"Dilation2D":{const s=b("strides",e,t,n),o=b("pad",e,t,n),i=b("dilations",e,t,n),a=s[1],l=s[2],u=i[1],c=i[2];return[r.dilation2d(b("x",e,t,n),b("filter",e,t,n),[a,l],o,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IH=(e,t,n,r=tn)=>{switch(e.op){case"Fill":{const s=b("shape",e,t,n),o=b("dtype",e,t,n),i=b("value",e,t,n);return[r.fill(s,i,o)]}case"LinSpace":{const s=b("start",e,t,n),o=b("stop",e,t,n),i=b("num",e,t,n);return[r.linspace(s,o,i)]}case"Multinomial":{const s=b("logits",e,t,n),o=b("numSamples",e,t,n),i=b("seed",e,t,n);return[r.multinomial(s,o,i)]}case"OneHot":{const s=b("indices",e,t,n),o=b("depth",e,t,n),i=b("onValue",e,t,n),a=b("offValue",e,t,n),l=b("dtype",e,t,n);return[r.oneHot(s,o,i,a,l)]}case"Ones":return[r.ones(b("shape",e,t,n),b("dtype",e,t,n))];case"OnesLike":return[r.onesLike(b("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(b("shape",e,t,n),b("dtype",e,t,n),b("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(b("shape",e,t,n),b("minval",e,t,n),b("maxval",e,t,n),b("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(b("shape",e,t,n),b("minval",e,t,n),b("maxval",e,t,n),b("seed",e,t,n))];case"Range":{const s=b("start",e,t,n),o=b("stop",e,t,n),i=b("step",e,t,n);return[r.range(s,o,i,b("dtype",e,t,n))]}case"TruncatedNormal":{const s=b("shape",e,t,n),o=b("mean",e,t,n),i=b("stdDev",e,t,n),a=b("seed",e,t,n);return[r.truncatedNormal(s,o,i,b("dtype",e,t,n),a)]}case"Zeros":return[r.zeros(b("shape",e,t,n),b("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(b("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bh(e,t,n){const r=b("boxes",e,t,n),s=b("scores",e,t,n),o=b("maxOutputSize",e,t,n),i=b("iouThreshold",e,t,n),a=b("scoreThreshold",e,t,n),l=b("softNmsSigma",e,t,n);return{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:a,softNmsSigma:l}}const OH=async(e,t,n,r,s=tn)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:i,maxOutputSize:a,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=bh(e,t,n),d=await s.image.nonMaxSuppressionWithScoreAsync(o,i,a,l,u,c);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:i,maxOutputSize:a,iouThreshold:l,scoreThreshold:u}=bh(e,t,n),c=b("padToMaxOutputSize",e,t,n),d=await s.image.nonMaxSuppressionPaddedAsync(o,i,a,l,u,c);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:i,maxOutputSize:a,iouThreshold:l,scoreThreshold:u}=bh(e,t,n);return[await s.image.nonMaxSuppressionAsync(o,i,a,l,u)]}case"Where":{const o=s.cast(b("condition",e,t,n),"bool"),i=[await s.whereAsync(o)];return o.dispose(),i}case"ListDiff":return s.setdiff1dAsync(b("x",e,t,n),b("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DH=(e,t,n,r=tn)=>{switch(e.op){case"LowerBound":{const s=b("sortedSequence",e,t,n),o=b("values",e,t,n);return[r.lowerBound(s,o)]}case"TopKV2":{const s=b("x",e,t,n),o=b("k",e,t,n),i=b("sorted",e,t,n),a=r.topk(s,o,i);return[a.values,a.indices]}case"UpperBound":{const s=b("sortedSequence",e,t,n),o=b("values",e,t,n);return[r.upperBound(s,o)]}case"Unique":{const s=b("x",e,t,n),o=r.unique(s);return[o.values,o.indices]}case"UniqueV2":{const s=b("x",e,t,n),o=b("axis",e,t,n),i=r.unique(s,o);return[i.values,i.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RH=(e,t,n,r=tn)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const s=b("default",e,t,n);return[Qt(e.name,t,n)||s];case"Placeholder":return[Qt(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=b("x",e,t,n);return[ds(c)]}case"IdentityN":return b("x",e,t,n).map(c=>ds(c));case"Snapshot":const o=b("x",e,t,n);return[ds(o)];case"Shape":return[r.tensor1d(b("x",e,t,n).shape,"int32")];case"ShapeN":return b("x",e,t,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(b("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(b("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const i=b("x",e,t,n),a=b("data",e,t,n),l=b("message",e,t,n),u=b("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<a.length;c++)console.log(Array.prototype.slice.call(a[c].dataSync()).slice(0,u));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FH{get id(){return this.handle.id}constructor(t,n){this.keyDType=t,this.valueDType=n,this.handle=Xe(0),this.tensorMap=new Map,Hr(this.handle)}clearAndClose(){this.tensorMap.forEach(t=>t.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Xe(this.size(),"int32")}async import(t,n){this.checkKeyAndValueTensor(t,n);const r=await t.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),Le(()=>{const s=Ii(n),o=r.length,i=s.length;R(o===i,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${i} elements.`);for(let a=0;a<o;a++){const l=r[a],u=s[a];Hr(u),this.tensorMap.set(l,u)}return this.handle})}async find(t,n){this.checkKeyAndValueTensor(t,n);const r=await t.data();return Le(()=>{const s=[];for(let o=0;o<r.length;o++){const i=r[o],a=this.findWithDefault(i,n);s.push(a)}return Ds(s)})}findWithDefault(t,n){const r=this.tensorMap.get(t);return r??n}checkKeyAndValueTensor(t,n){if(t.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${t.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MH=async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(e.name);if(s!=null)return[s];{const o=b("keyDType",e,t,n),i=b("valueDType",e,t,n),a=new FH(o,i);return r.addHashTable(e.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=b("tableHandle",e,t,n,r),o=b("keys",e,t,n),i=b("values",e,t,n);return[await r.getHashTableById(s.id).import(o,i)]}case"LookupTableFind":case"LookupTableFindV2":{const s=b("tableHandle",e,t,n,r),o=b("keys",e,t,n),i=b("defaultValue",e,t,n);return[await r.getHashTableById(s.id).find(o,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=b("tableHandle",e,t,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LH=(e,t,n,r=tn)=>{switch(e.op){case"ResizeBilinear":{const s=b("images",e,t,n),o=b("size",e,t,n),i=b("alignCorners",e,t,n),a=b("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(s,[o[0],o[1]],i,a)]}case"ResizeNearestNeighbor":{const s=b("images",e,t,n),o=b("size",e,t,n),i=b("alignCorners",e,t,n),a=b("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(s,[o[0],o[1]],i,a)]}case"CropAndResize":{const s=b("image",e,t,n),o=b("boxes",e,t,n),i=b("boxInd",e,t,n),a=b("cropSize",e,t,n),l=b("method",e,t,n),u=b("extrapolationValue",e,t,n);return[r.image.cropAndResize(s,o,i,a,l,u)]}case"ImageProjectiveTransformV3":{const s=b("images",e,t,n),o=b("transforms",e,t,n),i=b("outputShape",e,t,n),a=b("fillValue",e,t,n),l=b("interpolation",e,t,n),u=b("fillMode",e,t,n);return[r.image.transform(s,o,l.toLowerCase(),u.toLowerCase(),a,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BH=(e,t,n,r=tn)=>{switch(e.op){case"Equal":return[r.equal(b("a",e,t,n),b("b",e,t,n))];case"NotEqual":return[r.notEqual(b("a",e,t,n),b("b",e,t,n))];case"Greater":return[r.greater(b("a",e,t,n),b("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(b("a",e,t,n),b("b",e,t,n))];case"Less":return[r.less(b("a",e,t,n),b("b",e,t,n))];case"LessEqual":return[r.lessEqual(b("a",e,t,n),b("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(b("a",e,t,n),b("b",e,t,n))];case"LogicalNot":return[r.logicalNot(b("a",e,t,n))];case"LogicalOr":return[r.logicalOr(b("a",e,t,n),b("b",e,t,n))];case"Select":case"SelectV2":return[r.where(b("condition",e,t,n),b("a",e,t,n),b("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(b("a",e,t,n),b("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jH=(e,t,n,r=tn)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(b("a",e,t,n),b("b",e,t,n),b("transposeA",e,t,n),b("transposeB",e,t,n))];case"Einsum":return[r.einsum(b("equation",e,t,n),...b("tensors",e,t,n))];case"Transpose":return[r.transpose(b("x",e,t,n),b("perm",e,t,n))];case"_FusedMatMul":const[s,o]=b("fusedOps",e,t,n),i=s==="biasadd",a=o==="prelu",l=b("numArgs",e,t,n),u=b("leakyreluAlpha",e,t,n);if(i){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=b("args",e,t,n);return[r.fused.matMul({a:b("a",e,t,n),b:b("b",e,t,n),transposeA:b("transposeA",e,t,n),transposeB:b("transposeB",e,t,n),bias:c,activation:o,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(b("a",e,t,n),b("numLower",e,t,n),b("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zH=(e,t,n,r=tn)=>{switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(b("x",e,t,n),b("axis",e,t,n),b("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(b("x",e,t,n),b("mean",e,t,n),b("variance",e,t,n),b("offset",e,t,n),b("scale",e,t,n),b("epsilon",e,t,n))];case"FusedBatchNormV3":return[r.batchNorm(b("x",e,t,n),b("mean",e,t,n),b("variance",e,t,n),b("offset",e,t,n),b("scale",e,t,n),b("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(b("x",e,t,n),b("radius",e,t,n),b("bias",e,t,n),b("alpha",e,t,n),b("beta",e,t,n))];case"Softmax":return[r.softmax(b("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(b("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VH=(e,t,n,r=tn)=>{switch(e.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:o}=r.raggedGather(b("paramsNestedSplits",e,t,n),b("paramsDenseValues",e,t,n),b("indices",e,t,n),b("outputRaggedRank",e,t,n));return s.concat(o)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:o}=r.raggedRange(b("starts",e,t,n),b("limits",e,t,n),b("splits",e,t,n));return[s,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(b("shape",e,t,n),b("values",e,t,n),b("defaultValue",e,t,n),b("rowPartitionTensors",e,t,n),b("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KH=(e,t,n,r=tn)=>{switch(e.op){case"Max":{const a=b("axis",e,t,n),l=b("keepDims",e,t,n);return[r.max(b("x",e,t,n),a,l)]}case"Mean":{const a=b("axis",e,t,n),l=b("keepDims",e,t,n);return[r.mean(b("x",e,t,n),a,l)]}case"Min":{const a=b("axis",e,t,n),l=b("keepDims",e,t,n);return[r.min(b("x",e,t,n),a,l)]}case"Sum":{const a=b("axis",e,t,n),l=b("keepDims",e,t,n);return[r.sum(b("x",e,t,n),a,l)]}case"All":{const a=b("axis",e,t,n),l=b("keepDims",e,t,n);return[r.all(b("x",e,t,n),a,l)]}case"Any":{const a=b("axis",e,t,n),l=b("keepDims",e,t,n);return[r.any(b("x",e,t,n),a,l)]}case"ArgMax":{const a=b("axis",e,t,n);return[r.argMax(b("x",e,t,n),a)]}case"ArgMin":{const a=b("axis",e,t,n);return[r.argMin(b("x",e,t,n),a)]}case"Prod":{const a=b("axis",e,t,n),l=b("keepDims",e,t,n);return[r.prod(b("x",e,t,n),a,l)]}case"Cumprod":{const a=b("axis",e,t,n),l=b("exclusive",e,t,n),u=b("reverse",e,t,n);return[r.cumprod(b("x",e,t,n),a,l,u)]}case"Cumsum":{const a=b("axis",e,t,n),l=b("exclusive",e,t,n),u=b("reverse",e,t,n);return[r.cumsum(b("x",e,t,n),a,l,u)]}case"Bincount":const s=b("x",e,t,n),o=b("weights",e,t,n),i=b("size",e,t,n);return[r.bincount(s,o,i)];case"DenseBincount":{const a=b("x",e,t,n),l=b("weights",e,t,n),u=b("size",e,t,n),c=b("binaryOutput",e,t,n);return[r.denseBincount(a,l,u,c)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UH=(e,t,n,r=tn)=>{switch(e.op){case"ConcatV2":case"Concat":{const s=b("n",e,t,n),o=b("axis",e,t,n);let i=b("tensors",e,t,n);return i=i.slice(0,s),[r.concat(i,o)]}case"Gather":{const s=b("x",e,t,n),o=b("indices",e,t,n);return[r.gather(s,r.cast(o,"int32"),0)]}case"GatherV2":{const s=b("axis",e,t,n),o=b("batchDims",e,t,n),i=b("x",e,t,n),a=b("indices",e,t,n);return[r.gather(i,r.cast(a,"int32"),s,o)]}case"Reverse":{const s=b("dims",e,t,n),o=[];for(let a=0;a<s.length;a++)s[a]&&o.push(a);const i=b("x",e,t,n);return[r.reverse(i,o)]}case"ReverseV2":{const s=b("axis",e,t,n),o=b("x",e,t,n);return[r.reverse(o,s)]}case"Slice":{const s=b("begin",e,t,n),o=b("size",e,t,n);return[r.slice(b("x",e,t,n),s,o)]}case"StridedSlice":{const s=b("begin",e,t,n),o=b("end",e,t,n),i=b("strides",e,t,n),a=b("beginMask",e,t,n),l=b("endMask",e,t,n),u=b("ellipsisMask",e,t,n),c=b("newAxisMask",e,t,n),d=b("shrinkAxisMask",e,t,n),f=b("x",e,t,n);return[r.stridedSlice(f,s,o,i,a,l,u,c,d)]}case"Pack":return Le(()=>{const s=b("axis",e,t,n),o=b("tensors",e,t,n),i=o[0].shape,a=r.squeeze(o[0]).shape,l=o.map(u=>{const c=_s(u.shape,i);if(!c&&!_s(r.squeeze(u).shape,a))throw new Error("the input tensors shape does not match");return c?u:r.reshape(u,i)});return[r.stack(l,s)]});case"Unpack":{const s=b("axis",e,t,n),o=b("tensor",e,t,n);return r.unstack(o,s)}case"Tile":{const s=b("reps",e,t,n);return[r.tile(b("x",e,t,n),s)]}case"Split":case"SplitV":{const s=b("axis",e,t,n),o=b("numOrSizeSplits",e,t,n),i=b("x",e,t,n);return r.split(i,o,s)}case"ScatterNd":{const s=b("indices",e,t,n),o=b("values",e,t,n),i=b("shape",e,t,n);return[r.scatterND(s,o,i)]}case"GatherNd":{const s=b("x",e,t,n),o=b("indices",e,t,n);return[r.gatherND(s,o)]}case"SparseToDense":{const s=b("sparseIndices",e,t,n),o=b("outputShape",e,t,n),i=b("sparseValues",e,t,n),a=b("defaultValue",e,t,n);return[r.sparseToDense(s,i,o,i.dtype===a.dtype?a:r.cast(a,i.dtype))]}case"TensorScatterUpdate":{const s=b("indices",e,t,n),o=b("values",e,t,n),i=b("tensor",e,t,n);return[r.tensorScatterUpdate(i,s,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WH=(e,t,n,r=tn)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:o,emptyRowIndicator:i,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows(b("indices",e,t,n),b("values",e,t,n),b("denseShape",e,t,n),b("defaultValue",e,t,n));return[s,o,i,a]}case"SparseReshape":{const{outputIndices:s,outputShape:o}=r.sparse.sparseReshape(b("inputIndices",e,t,n),b("inputShape",e,t,n),b("newShape",e,t,n));return[s,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(b("data",e,t,n),b("indices",e,t,n),b("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(b("data",e,t,n),b("indices",e,t,n),b("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HH=(e,t,n,r=tn)=>{switch(e.op){case"FFT":return[r.fft(b("x",e,t,n))];case"IFFT":return[r.ifft(b("x",e,t,n))];case"RFFT":return[r.rfft(b("x",e,t,n))];case"IRFFT":return[r.irfft(b("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GH=(e,t,n,r=tn)=>{switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(b("input",e,t,n),b("pattern",e,t,n),b("rewrite",e,t,n),b("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:o}=r.string.stringNGrams(b("data",e,t,n),b("dataSplits",e,t,n),b("separator",e,t,n),b("nGramWidths",e,t,n),b("leftPad",e,t,n),b("rightPad",e,t,n),b("padWidth",e,t,n),b("preserveShortSequences",e,t,n));return[s,o]}case"StringSplit":{const{indices:s,values:o,shape:i}=r.string.stringSplit(b("input",e,t,n),b("delimiter",e,t,n),b("skipEmpty",e,t,n));return[s,o,i]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(b("input",e,t,n),b("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qH=(e,t,n,r=tn)=>{switch(e.op){case"Cast":return[r.cast(b("x",e,t,n),b("dtype",e,t,n))];case"ExpandDims":{const s=b("axis",e,t,n);return[r.expandDims(b("x",e,t,n),s)]}case"Squeeze":{const s=b("axis",e,t,n);return[r.squeeze(b("x",e,t,n),s)]}case"Reshape":return[r.reshape(b("x",e,t,n),b("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(b("x",e,t,n),b("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(b("x",e,t,n),b("padding",e,t,n),b("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(b("x",e,t,n),b("padding",e,t,n),b("constantValue",e,t,n))];case"SpaceToBatchND":{const s=b("blockShape",e,t,n),o=b("paddings",e,t,n);return[r.spaceToBatchND(b("x",e,t,n),s,o)]}case"BatchToSpaceND":{const s=b("blockShape",e,t,n),o=b("crops",e,t,n);return[r.batchToSpaceND(b("x",e,t,n),s,o)]}case"DepthToSpace":{const s=b("blockSize",e,t,n),o=b("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(b("x",e,t,n),s,o)]}case"BroadcastTo":return[r.broadcastTo(b("x",e,t,n),b("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(b("s0",e,t,n),b("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ny(e,t,n,r,s=Le){const o=((i,a,l)=>{switch(i.category){case"arithmetic":return s(()=>EH(i,a,l));case"basic_math":return s(()=>TH(i,a,l));case"control":return PH(i,a,l);case"convolution":return s(()=>AH(i,a,l));case"creation":return s(()=>IH(i,a,l));case"dynamic":return OH(i,a,l);case"evaluation":return s(()=>DH(i,a,l));case"image":return s(()=>LH(i,a,l));case"graph":return s(()=>RH(i,a,l));case"logical":return s(()=>BH(i,a,l));case"matrices":return s(()=>jH(i,a,l));case"normalization":return s(()=>zH(i,a,l));case"ragged":return s(()=>VH(i,a,l));case"reduction":return s(()=>KH(i,a,l));case"slice_join":return s(()=>UH(i,a,l));case"sparse":return s(()=>WH(i,a,l));case"spectral":return s(()=>HH(i,a,l));case"string":return s(()=>GH(i,a,l));case"transformation":return s(()=>qH(i,a,l));case"hash_table":return MH(i,a,l,r);case"custom":const u=ox(i.op);if(u&&u.customExecutor)return u.customExecutor(new SH(i,a,l));throw TypeError(`Custom op ${i.op} is not registered.`);default:throw TypeError(`Unknown op '${i.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return yi(o)?o.then(i=>[].concat(i)):[].concat(o)}class Cy{constructor(t={},n={},r={},s={},o){this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(t,n){return{id:t,frameName:n,iterationId:0}}set currentContext(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const t=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);t.push(this.contextIdforContexts(r))}t.push(""),this._currentContextIds=t}contextIdforContexts(t){return t?t.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(t){return this.weightMap[t]}addTensorArray(t){this.tensorArrayMap[t.id]=t}getTensorArray(t){return this.tensorArrayMap[t]}addTensorList(t){this.tensorListMap[t.id]=t}getTensorList(t){return this.tensorListMap[t]}dispose(t){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(t);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(t)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _y(e,t,n,r){const s=new Set,o=[];let i=null,a=null;const l=new Set,u=new Set(Object.keys(e).map(f=>Fn(f)[0]));r=r||[];const c=new Set(r.map(f=>Fn(f.name)[0])),d=[...t];for(;d.length>0;){const f=d.pop();if((qo(f)||nG(f)||rG(f))&&i==null&&(i=f,a=i.children.map(p=>p.name).filter(p=>s.has(p))),s.add(f.name),n[f.name]==null&&!u.has(f.name)&&!c.has(f.name)){if(f.inputs.length===0){o.push(f.name);continue}f.inputs.forEach(p=>{l.has(p.name)||(l.add(p.name),d.push(p))})}}return{inputs:e,outputs:t,usedNodes:s,missingInputs:o,dynamicNode:i,syncInputs:a}}function XH(e,t){const{usedNodes:n,inputs:r}=t,s=Object.keys(r).map(E=>Fn(E)[0]).map(E=>e.nodes[E]),o=e.initNodes||[],i=E=>n.has(typeof E=="string"?E:E.name);function a(E){return[...new Map(E.map(v=>[v.name,v])).values()]}const l=a([...s,...e.weights,...o]).filter(i),u=a([...l,...Object.values(e.nodes)]).filter(i),c=new Map(u.map(E=>[E.name,E])),d={};for(const E of u){d[E.name]=d[E.name]||0;for(const v of E.children)i(v)||(d[v.name]=Number.POSITIVE_INFINITY),d[v.name]=(d[v.name]||0)+1}const f=Object.entries(d).filter(([,E])=>E===0).map(([E])=>E),p=[...f];for(;f.length>0;){const E=f.pop(),v=c.get(E);for(const x of v.children.filter(i))--d[x.name]===0&&(p.push(x.name),f.push(x.name))}const g=p.map(E=>c.get(E)),y=YH(g,l);return JH(y,l),y}function YH(e,t){const n=new Map(e.map(i=>[i.name,i])),r=t.map(i=>i.name),s=new Set(r);for(;r.length>0;){const i=r.pop(),a=n.get(i);for(const l of a.children)!n.has(l.name)||s.has(l.name)||(s.add(l.name),r.push(l.name))}return e.filter(i=>s.has(i.name))}class jc extends Error{constructor(t){super(`NodesExecutionOrderError: ${t}`)}}function JH(e,t){const n=new Map(e.map((a,l)=>[a.name,l])),r=new Set(t.map(a=>a.name)),s=a=>r.has(typeof a=="string"?a:a.name),o=new Set(e.map(a=>a.name)),i=a=>o.has(typeof a=="string"?a:a.name);for(const a of e){for(const l of a.children.filter(i)){if(!n.has(l.name))throw new jc(`Child ${l.name} of node ${a.name} is unreachable.`);if(n.get(a.name)>n.get(l.name))throw new jc(`Node ${a.name} is scheduled to run after its child ${l.name}.`)}if(!s(a))for(const l of a.inputs){if(!n.has(l.name))throw new jc(`Input ${l.name} of node ${a.name} is unreachable.`);if(n.get(l.name)>n.get(a.name))throw new jc(`Node ${a.name} is scheduled to run before its input ${l.name}.`)}}}function QH(e){const t=new Map(e.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,r=e.map((a,l)=>qo(a)?n:l),s=a=>{const l=r[t.get(a.name)];return l??-1},o=e.map((a,l)=>a.children.map(s).reduce((u,c)=>Math.max(u,c),r[l])),i=new Map;for(let a=0;a<e.length;++a){const l=o[a];if(l===n)continue;const u=e[a],c=e[l];i.has(c.name)||i.set(c.name,[]),i.get(c.name).push(u)}return i}const ZH=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),eG=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),tG=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function qo(e){return ZH.has(e.op)}function nG(e){return eG.has(e.op)}function rG(e){return tG.has(e.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hf{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(t){const n=Object.keys(t).map(r=>t[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=t}set resourceManager(t){this._resourceManager=t}get inputs(){return this._inputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(t=>t.signatureKey||t.name)}get outputNodes(){return this._outputs.map(t=>{const n=t.signatureKey||t.name;return t.defaultOutput?`${n}:${t.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((t,n)=>(t[n]=this._functions[n].signature,t),{})}constructor(t,n){this.graph=t,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,t.functions!=null&&Object.keys(t.functions).forEach(r=>{this._functionExecutorMap[r]=new hf(t.functions[r],this)})}getCompilationKey(t,n){const r=t.map(o=>o.name).sort(),s=n.map(o=>o.name).sort();return r.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(t,n){const r=_y(t,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:o,syncInputs:i}=r;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(s.length>0){const u=n.map(d=>d.name),c=Object.keys(t);throw new Error(`Cannot compute the outputs [${u}] from the provided inputs [${c}]. Missing the following inputs: [${s}]`)}const a=XH(this.graph,r),l=QH(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(t){if(t==null)return null;const n=t.clone();return Hr(n),n}cloneTensorList(t){return t?t.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(t){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(t,n){this.disposeIntermediateTensors(),t=this.mapInputs(t);const r=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(f=>this.graph.nodes[Fn(f)[0]]),o=n.map(f=>Fn(f)[0]),i=new Set(o);let a=o.map(f=>this.graph.nodes[f]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(s,a);let u=this.compiledMap.get(l);u==null&&(u=this.compile(t,a),this.compiledMap.set(l,u));try{this.keepIntermediateTensors=ze().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){this.keepIntermediateTensors=!1,console.warn(f.message)}const c={},d={};return Le(()=>{const f=new Cy(this.weightMap,c,d,this.functionExecutorMap,this.parseNodeNameCache),p=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(t).forEach(v=>{const[x,$]=Fn(v,f),N=[];N[$]=t[v],p[x]=N,this.keepIntermediateTensors&&(this.clonedTensorsMap[x]=this.cloneTensorList(N))});const g=this.getFrozenTensorIds(p),{orderedNodes:y,nodeLiveUntilMap:E}=u;for(const v of y){if(p[v.name])continue;const x=Ny(v,p,f,this._resourceManager);if(yi(x))throw new Error(`The execution of the op '${v.op}' returned a promise. Please use model.executeAsync() instead.`);p[v.name]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[v.name]=this.cloneTensorList(x)),this.checkTensorForDisposalWithNodeLiveUntilInfo(v,p,f,g,i,E.get(v.name))}return this.parent==null&&f.dispose(g),n.map(v=>Qt(v,p,f))})}getFrozenTensorIds(t){const n=[].concat.apply([],Object.keys(t).map(r=>t[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(t,n,r,s,o,i,a){if(!(qo(n)||i.has(t))){for(const l of r[t])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(qo(l))continue;const u=Sy(l.name,r,s);if(u!=null)for(const c of u){if(!c||c.kept||o.has(c.id))continue;const d=a[c.id];d===1?(c.dispose(),delete a[c.id]):d!=null&&a[c.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(t,n,r,s,o,i){function a(l){return qo(l)||o.has(l.name)}if(!(qo(t)||i==null))for(const l of i){if(a(l))continue;const u=Sy(l.name,n,r);for(const c of u)!c||c.kept||s.has(c.id)||c.dispose()}}async executeAsync(t,n){return this._executeAsync(t,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(t=>{for(const n of t)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(t,n,r=!1,s={},o={}){this.disposeIntermediateTensors(),r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=ze().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){this.keepIntermediateTensors=!1,console.warn(f.message)}const i=new Cy(this.weightMap,s,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(t,i,n,r),l=n.map(f=>Qt(f,a,i)),u=l.map(f=>f.id),c=Object.keys(t).map(f=>t[f].id),d=new Set([...u,...c,...this.weightIds]);return Object.values(a).forEach(f=>{f.forEach(p=>{p&&!p.isDisposed&&!d.has(p.id)&&p.dispose()})}),this.parent==null&&i.dispose(d),l}async executeFunctionAsync(t,n,r){const s=t.reduce((o,i,a)=>(o[this.inputs[a].name]=i,o),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(t,n,r,s){const o=Object.keys(t),i=o.map(N=>this.graph.nodes[Fn(N)[0]]),a=r.map(N=>Fn(N)[0]),l=new Set(a);let u=a.map(N=>this.graph.nodes[N]);u.length===0&&(u=this._outputs);const{usedNodes:c,missingInputs:d,dynamicNode:f,syncInputs:p}=_y(t,u,this.weightMap,this._initNodes),g=[...i,...this.graph.weights,...this._initNodes||[]].map(N=>({node:N,contexts:n.currentContext})),y=Object.assign({},this.weightMap);Object.keys(t).forEach(N=>{const[I,O]=Fn(N),U=[];U[O]=t[N],y[I]=U});const E={},v=this.getFrozenTensorIds(y),x={};for(;g.length>0;){const N=this.processStack(i,g,n,y,x,v,l,E,c);await Promise.all(N)}f==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const $=u.filter(N=>!qo(N)&&!Qt(N.name,y,n)).map(N=>N.name);if($.length>0){let N="";throw f!=null&&(N=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${$}] from the provided inputs [${o}]. Consider providing the following inputs: [${d}]. ${N}`)}return y}processStack(t,n,r,s,o,i,a,l,u){const c=[];for(;n.length>0;){const d=n.pop();r.currentContext=d.contexts;let f="";if(d.node.op==="Enter"&&b("isConstant",d.node,s,r)&&([f]=cs(d.node.name,r)),s[d.node.name]==null){const p=Ny(d.node,s,r,this._resourceManager);f||([f]=cs(d.node.name,r));const g=r.currentContext;yi(p)?c.push(p.then(y=>(s[f]=y,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(y)),r.currentContext=g,this.checkTensorForDisposal(f,d.node,s,r,i,a,l),this.processChildNodes(d.node,n,r,s,o,u),y))):(s[f]=p,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(p)),this.checkTensorForDisposal(f,d.node,s,r,i,a,l),this.processChildNodes(d.node,n,r,s,o,u))}else this.processChildNodes(d.node,n,r,s,o,u)}return c}processChildNodes(t,n,r,s,o,i){t.children.forEach(a=>{const[l]=cs(a.name,r);o[l]||!i.has(a.name)||(a.op==="Merge"?a.inputNames.some(u=>!!Qt(u,s,r))&&(o[l]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(u=>!!Qt(u,s,r))&&(o[l]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(t=>this.weightMap[t].forEach(n=>n.dispose()))}checkInputShapeAndType(t){Object.keys(t).forEach(n=>{const r=t[n],[s]=Fn(n),o=this.graph.nodes[s];if(o.attrParams.shape&&o.attrParams.shape.value){const i=o.attrParams.shape.value,a=i.length===r.shape.length&&r.shape.every((l,u)=>i[u]===-1||i[u]===l);R(a,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${i}], but was [${r.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&R(r.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(t){var n,r;const s={};for(const o in t){const i=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[o];i!=null?s[i.name]=t[o]:s[o]=t[o]}return s}checkInputs(t){const n=Object.keys(t).filter(r=>{const[s]=Fn(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(t){return t.map(n=>{var r,s;const o=(s=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||s===void 0?void 0:s[n];return o!=null?o.name:n},{})}checkOutputs(t){t.forEach(n=>{const[r]=Fn(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class sG{constructor(t={},n={}){this.hashTableNameToHandle=t,this.hashTableMap=n}addHashTable(t,n){this.hashTableNameToHandle[t]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(t){return this.hashTableNameToHandle[t]}getHashTableById(t){return this.hashTableMap[t]}dispose(){for(const t in this.hashTableMap)this.hashTableMap[t].clearAndClose(),delete this.hashTableMap[t];for(const t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oG="?tfjs-format=file",iG="model.json";class aG{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,n={},r=nx){this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new sG}findIOHandler(){const t=this.modelUrl;if(t.load!=null)this.handler=t;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(t,this.loadOptions);else{const n=this.io.getLoadHandlers(t,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(t,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[t]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const t=this.handler.load();return yi(t)?t.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(t)}loadSync(t){const n=this.io.decodeWeights(t.weightData,t.weightSpecs);return this.loadWithWeightMap(t,n)}async loadStreaming(t){if(t.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await nw(t.getWeightStream(),t.weightSpecs);return this.loadWithWeightMap(t,n)}loadWithWeightMap(t,n){this.artifacts=t;const r=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(s=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}if(this.signature=s,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new hf(Ey.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,t.modelInitializer!=null&&t.modelInitializer.node!=null){const o=Ey.Instance.transformGraph(t.modelInitializer);this.initializer=new hf(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=t.initializerSignature}return!0}async save(t,n){if(typeof t=="string"){const r=this.io.getSaveHandlers(t);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${t}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${t}'`);t=r[0]}if(t.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return t.save(this.artifacts)}addStructuredOutputNames(t){if(this.structuredOutputKeys){const n=t instanceof Pt?[t]:t,r={};return n.forEach((s,o)=>r[this.structuredOutputKeys[o]]=s),r}return t}predict(t,n){const r=this.execute(t,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(t,n){const r=await this.executeAsync(t,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(t){var n;if(!(t instanceof Pt)&&!Array.isArray(t)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const i in o){const a=o[i];a.resourceId!=null&&(t[i]=this.resourceIdToCapturedInput[a.resourceId])}return t}t=Array.isArray(t)?t:[t];const r=Object.keys(this.resourceIdToCapturedInput).length;if(t.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${t.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((o,i)=>{var a,l,u;const c=(u=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[i])===null||u===void 0?void 0:u.resourceId;return c!=null?o[i]=this.resourceIdToCapturedInput[c]:o[i]=t[s++],o},{})}normalizeOutputs(t){return t=t||this.outputNodes,Array.isArray(t)?t:[t]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(t){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let s=0;s<r.length;s++){const o=r[s],i=n[o];this.resourceIdToCapturedInput[i.resourceId]=t[s]}}}execute(t,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),t=this.normalizeInputs(t),n=this.normalizeOutputs(n);const r=this.executor.execute(t,n);return r.length>1?r:r[0]}async executeAsync(t,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),t=this.normalizeInputs(t),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(t,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(t){return Object.keys(t).reduce((n,r)=>(n[r]=[t[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Nt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function lx(e,t={},n=nx){if(e==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");t==null&&(t={}),t.fromTFHub&&typeof e=="string"&&(e=lG(e));const r=new aG(e,t,n);return await r.load(),r}function lG(e){return e.endsWith("/")||(e=e+"/"),`${e}${iG}${oG}`}/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var Mr=function(){return Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Mr.apply(this,arguments)};function vs(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?s(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(i,a)}l((r=r.apply(e,[])).next())})}function bs(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&c[0]?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!((s=s.length>0&&s[s.length-1])||c[0]!==6&&c[0]!==2)){i=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(c[0]===6&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(d){c=[6,d],r=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function Xs(e){var t=e.map(function(n){return n[0]});return t.push(e[e.length-1][1]),t}var ux={lips:Xs([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:Xs([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:Xs([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:Xs([[474,475],[475,476],[476,477],[477,474]]),rightEye:Xs([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:Xs([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:Xs([[469,470],[470,471],[471,472],[472,469]]),faceOval:Xs([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},uG=[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]],cG=Object.entries(ux).map(function(e){var t=e[0];return e[1].map(function(n){return[n,t]})}).flat(),cx=new Map(cG);function B2(e){for(var t={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,i=0;i<e.length;++i){var a=e[i];n=Math.min(n,a.x),r=Math.max(r,a.x),s=Math.min(s,a.y),o=Math.max(o,a.y),t.locationData.relativeKeypoints.push({x:a.x,y:a.y})}return t.locationData.relativeBoundingBox={xMin:n,yMin:s,xMax:r,yMax:o,width:r-n,height:o-s},t}var wh={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},dG=function(){function e(t){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new VI({locateFile:function(r,s){return t.solutionPath?t.solutionPath.replace(/\/+$/,"")+"/"+r:s+"/"+r}}),this.faceMeshSolution.setOptions({refineLandmarks:t.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:t.maxFaces}),this.faceMeshSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.multiFaceLandmarks!==null)for(var s=r.multiFaceLandmarks,o=0;o<s.length;o++){var i=n.translateOutput(s[o]);n.faces.push({keypoints:i,box:B2(i).locationData.relativeBoundingBox})}})}return e.prototype.translateOutput=function(t){var n=this;return t.map(function(r,s){var o={x:r.x*n.width,y:r.y*n.height,z:r.z*n.width},i=cx.get(s);return i!=null&&(o.name=i),o})},e.prototype.estimateFaces=function(t,n){return vs(this,void 0,void 0,function(){var r,s;return bs(this,function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),t instanceof Pt?(s=ImageData.bind,[4,rx(t)]):[3,2];case 1:return r=new(s.apply(ImageData,[void 0,o.sent(),t.shape[1],t.shape[0]])),[3,3];case 2:r=t,o.label=3;case 3:return t=r,[4,this.faceMeshSolution.send({image:t})];case 4:return o.sent(),[2,this.faces]}})})},e.prototype.dispose=function(){this.faceMeshSolution.close()},e.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceMeshSolution.initialize()},e}();function fG(e){return vs(this,void 0,void 0,function(){var t,n;return bs(this,function(r){switch(r.label){case 0:return t=function(s){if(s==null)return Mr({},wh);var o=Mr({},s);return o.runtime="mediapipe",o.maxFaces==null&&(o.maxFaces=wh.maxFaces),o.refineLandmarks==null&&(o.refineLandmarks=wh.refineLandmarks),o}(e),[4,(n=new dG(t)).initialize()];case 1:return r.sent(),[2,n]}})})}var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pG={};(function(){var e;function t(h){var S=0;return function(){return S<h.length?{done:!1,value:h[S++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,S,k){return h==Array.prototype||h==Object.prototype||(h[S]=k.value),h},r=function(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var S=0;S<h.length;++S){var k=h[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}(this);function s(h,S){if(S)e:{var k=r;h=h.split(".");for(var _=0;_<h.length-1;_++){var M=h[_];if(!(M in k))break e;k=k[M]}(S=S(_=k[h=h[h.length-1]]))!=_&&S!=null&&n(k,h,{configurable:!0,writable:!0,value:S})}}function o(h){return(h={next:h})[Symbol.iterator]=function(){return this},h}function i(h){var S=typeof Symbol<"u"&&Symbol.iterator&&h[Symbol.iterator];return S?S.call(h):{next:t(h)}}function a(h){if(!(h instanceof Array)){h=i(h);for(var S,k=[];!(S=h.next()).done;)k.push(S.value);h=k}return h}s("Symbol",function(h){function S(M,D){this.g=M,n(this,"description",{configurable:!0,writable:!0,value:D})}if(h)return h;S.prototype.toString=function(){return this.g};var k="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",_=0;return function M(D){if(this instanceof M)throw new TypeError("Symbol is not a constructor");return new S(k+(D||"")+"_"+_++,D)}}),s("Symbol.iterator",function(h){if(h)return h;h=Symbol("Symbol.iterator");for(var S="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),k=0;k<S.length;k++){var _=r[S[k]];typeof _=="function"&&typeof _.prototype[h]!="function"&&n(_.prototype,h,{configurable:!0,writable:!0,value:function(){return o(t(this))}})}return h});var l,u=typeof Object.create=="function"?Object.create:function(h){function S(){}return S.prototype=h,new S};if(typeof Object.setPrototypeOf=="function")l=Object.setPrototypeOf;else{var c;e:{var d={};try{d.__proto__={a:!0},c=d.a;break e}catch{}c=!1}l=c?function(h,S){if(h.__proto__=S,h.__proto__!==S)throw new TypeError(h+" is not extensible");return h}:null}var f=l;function p(h,S){if(h.prototype=u(S.prototype),h.prototype.constructor=h,f)f(h,S);else for(var k in S)if(k!="prototype")if(Object.defineProperties){var _=Object.getOwnPropertyDescriptor(S,k);_&&Object.defineProperty(h,k,_)}else h[k]=S[k];h.na=S.prototype}function g(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function y(h){if(h.l)throw new TypeError("Generator is already running");h.l=!0}function E(h,S){h.j={da:S,ea:!0},h.g=h.o||h.u}function v(h,S,k){return h.g=k,{value:S}}function x(h){this.g=new g,this.h=h}function $(h,S,k,_){try{var M=S.call(h.g.i,k);if(!(M instanceof Object))throw new TypeError("Iterator result "+M+" is not an object");if(!M.done)return h.g.l=!1,M;var D=M.value}catch(B){return h.g.i=null,E(h.g,B),N(h)}return h.g.i=null,_.call(h.g,D),N(h)}function N(h){for(;h.g.g;)try{var S=h.h(h.g);if(S)return h.g.l=!1,{value:S.value,done:!1}}catch(k){h.g.h=void 0,E(h.g,k)}if(h.g.l=!1,h.g.j){if(S=h.g.j,h.g.j=null,S.ea)throw S.da;return{value:S.return,done:!0}}return{value:void 0,done:!0}}function I(h){this.next=function(S){return y(h.g),h.g.i?S=$(h,h.g.i.next,S,h.g.s):(h.g.s(S),S=N(h)),S},this.throw=function(S){return y(h.g),h.g.i?S=$(h,h.g.i.throw,S,h.g.s):(E(h.g,S),S=N(h)),S},this.return=function(S){return function(k,_){y(k.g);var M=k.g.i;return M?$(k,"return"in M?M.return:function(D){return{value:D,done:!0}},_,k.g.return):(k.g.return(_),N(k))}(h,S)},this[Symbol.iterator]=function(){return this}}function O(h){return function(S){function k(M){return S.next(M)}function _(M){return S.throw(M)}return new Promise(function(M,D){(function B(K){K.done?M(K.value):Promise.resolve(K.value).then(k,_).then(B,D)})(S.next())})}(new I(new x(h)))}g.prototype.s=function(h){this.h=h},g.prototype.return=function(h){this.j={return:h},this.g=this.u},s("Promise",function(h){function S(B){this.h=0,this.i=void 0,this.g=[],this.s=!1;var K=this.j();try{B(K.resolve,K.reject)}catch(Z){K.reject(Z)}}function k(){this.g=null}function _(B){return B instanceof S?B:new S(function(K){K(B)})}if(h)return h;k.prototype.h=function(B){if(this.g==null){this.g=[];var K=this;this.i(function(){K.l()})}this.g.push(B)};var M=r.setTimeout;k.prototype.i=function(B){M(B,0)},k.prototype.l=function(){for(;this.g&&this.g.length;){var B=this.g;this.g=[];for(var K=0;K<B.length;++K){var Z=B[K];B[K]=null;try{Z()}catch(se){this.j(se)}}}this.g=null},k.prototype.j=function(B){this.i(function(){throw B})},S.prototype.j=function(){function B(se){return function(le){Z||(Z=!0,se.call(K,le))}}var K=this,Z=!1;return{resolve:B(this.D),reject:B(this.l)}},S.prototype.D=function(B){if(B===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(B instanceof S)this.H(B);else{e:switch(typeof B){case"object":var K=B!=null;break e;case"function":K=!0;break e;default:K=!1}K?this.A(B):this.o(B)}},S.prototype.A=function(B){var K=void 0;try{K=B.then}catch(Z){return void this.l(Z)}typeof K=="function"?this.I(K,B):this.o(B)},S.prototype.l=function(B){this.u(2,B)},S.prototype.o=function(B){this.u(1,B)},S.prototype.u=function(B,K){if(this.h!=0)throw Error("Cannot settle("+B+", "+K+"): Promise already settled in state"+this.h);this.h=B,this.i=K,this.h===2&&this.G(),this.B()},S.prototype.G=function(){var B=this;M(function(){if(B.C()){var K=r.console;K!==void 0&&K.error(B.i)}},1)},S.prototype.C=function(){if(this.s)return!1;var B=r.CustomEvent,K=r.Event,Z=r.dispatchEvent;return Z===void 0||(typeof B=="function"?B=new B("unhandledrejection",{cancelable:!0}):typeof K=="function"?B=new K("unhandledrejection",{cancelable:!0}):(B=r.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,B),B.promise=this,B.reason=this.i,Z(B))},S.prototype.B=function(){if(this.g!=null){for(var B=0;B<this.g.length;++B)D.h(this.g[B]);this.g=null}};var D=new k;return S.prototype.H=function(B){var K=this.j();B.M(K.resolve,K.reject)},S.prototype.I=function(B,K){var Z=this.j();try{B.call(K,Z.resolve,Z.reject)}catch(se){Z.reject(se)}},S.prototype.then=function(B,K){function Z(ge,ve){return typeof ge=="function"?function(_e){try{se(ge(_e))}catch(Oe){le(Oe)}}:ve}var se,le,pe=new S(function(ge,ve){se=ge,le=ve});return this.M(Z(B,se),Z(K,le)),pe},S.prototype.catch=function(B){return this.then(void 0,B)},S.prototype.M=function(B,K){function Z(){switch(se.h){case 1:B(se.i);break;case 2:K(se.i);break;default:throw Error("Unexpected state: "+se.h)}}var se=this;this.g==null?D.h(Z):this.g.push(Z),this.s=!0},S.resolve=_,S.reject=function(B){return new S(function(K,Z){Z(B)})},S.race=function(B){return new S(function(K,Z){for(var se=i(B),le=se.next();!le.done;le=se.next())_(le.value).M(K,Z)})},S.all=function(B){var K=i(B),Z=K.next();return Z.done?_([]):new S(function(se,le){function pe(_e){return function(Oe){ge[_e]=Oe,--ve==0&&se(ge)}}var ge=[],ve=0;do ge.push(void 0),ve++,_(Z.value).M(pe(ge.length-1),le),Z=K.next();while(!Z.done)})},S});var U=typeof Object.assign=="function"?Object.assign:function(h,S){for(var k=1;k<arguments.length;k++){var _=arguments[k];if(_)for(var M in _)Object.prototype.hasOwnProperty.call(_,M)&&(h[M]=_[M])}return h};s("Object.assign",function(h){return h||U}),s("Object.is",function(h){return h||function(S,k){return S===k?S!==0||1/S==1/k:S!=S&&k!=k}}),s("Array.prototype.includes",function(h){return h||function(S,k){var _=this;_ instanceof String&&(_=String(_));var M=_.length;for(0>(k=k||0)&&(k=Math.max(k+M,0));k<M;k++){var D=_[k];if(D===S||Object.is(D,S))return!0}return!1}}),s("String.prototype.includes",function(h){return h||function(S,k){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(S instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(S,k||0)!==-1}}),s("Array.prototype.keys",function(h){return h||function(){return function(S,k){S instanceof String&&(S+="");var _=0,M=!1,D={next:function(){if(!M&&_<S.length){var B=_++;return{value:k(B,S[B]),done:!1}}return M=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}(this,function(S){return S})}});var C=this||self;function j(h,S){h=h.split(".");var k,_=C;for((h[0]in _)||_.execScript===void 0||_.execScript("var "+h[0]);h.length&&(k=h.shift());)h.length||S===void 0?_=_[k]&&_[k]!==Object.prototype[k]?_[k]:_[k]={}:_[k]=S}function F(){throw Error("Invalid UTF8")}function H(h,S){return S=String.fromCharCode.apply(null,S),h==null?S:h+S}var Y,V,G=typeof TextDecoder<"u",ne=typeof TextEncoder<"u",ce={},ee=null;function te(h){var S;S===void 0&&(S=0),q(),S=ce[S];for(var k=Array(Math.floor(h.length/3)),_=S[64]||"",M=0,D=0;M<h.length-2;M+=3){var B=h[M],K=h[M+1],Z=h[M+2],se=S[B>>2];B=S[(3&B)<<4|K>>4],K=S[(15&K)<<2|Z>>6],Z=S[63&Z],k[D++]=se+B+K+Z}switch(se=0,Z=_,h.length-M){case 2:Z=S[(15&(se=h[M+1]))<<2]||_;case 1:h=h[M],k[D]=S[h>>2]+S[(3&h)<<4|se>>4]+Z+_}return k.join("")}function ue(h){var S=h.length,k=3*S/4;k%3?k=Math.floor(k):"=.".indexOf(h[S-1])!=-1&&(k="=.".indexOf(h[S-2])!=-1?k-2:k-1);var _=new Uint8Array(k),M=0;return function(D,B){function K(ve){for(;Z<D.length;){var _e=D.charAt(Z++),Oe=ee[_e];if(Oe!=null)return Oe;if(!/^[\s\xa0]*$/.test(_e))throw Error("Unknown base64 encoding at char: "+_e)}return ve}q();for(var Z=0;;){var se=K(-1),le=K(0),pe=K(64),ge=K(64);if(ge===64&&se===-1)break;B(se<<2|le>>4),pe!=64&&(B(le<<4&240|pe>>2),ge!=64&&B(pe<<6&192|ge))}}(h,function(D){_[M++]=D}),M!==k?_.subarray(0,M):_}function q(){if(!ee){ee={};for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),S=["+/=","+/","-_=","-_.","-_"],k=0;5>k;k++){var _=h.concat(S[k].split(""));ce[k]=_;for(var M=0;M<_.length;M++){var D=_[M];ee[D]===void 0&&(ee[D]=M)}}}}var be,Te=typeof Uint8Array=="function";function Ee(h){return Te&&h!=null&&h instanceof Uint8Array}function Ue(h){if(this.L=h,h!==null&&h.length===0)throw Error("ByteString should be constructed with non-empty values")}var Qe=typeof Uint8Array.prototype.slice=="function",We=0;function tt(h,S){return Error("Invalid wire type: "+h+" (at position "+S+")")}function nt(){return Error("Failed to read varint, encoding is invalid.")}function mt(h,S){S=(S=S===void 0?{}:S).v!==void 0&&S.v,this.h=null,this.g=this.i=this.j=0,this.v=S,h&&ke(this,h)}function ke(h,S){h.h=function(k,_){if(k.constructor===Uint8Array)return k;if(k.constructor===ArrayBuffer)return new Uint8Array(k);if(k.constructor===Array)return new Uint8Array(k);if(k.constructor===String)return ue(k);if(k.constructor===Ue)return!_&&(_=k.L)&&_.constructor===Uint8Array?_:(_=(_=k.L)==null||Ee(_)?_:typeof _=="string"?ue(_):null,(k=k.L=_)?new Uint8Array(k):be||(be=new Uint8Array(0)));if(k instanceof Uint8Array)return new Uint8Array(k.buffer,k.byteOffset,k.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(S,h.v),h.j=0,h.i=h.h.length,h.g=h.j}function Ve(h){if(h.g>h.i)throw Error("Tried to read past the end of the data "+h.g+" > "+h.i)}function Dt(h){var S=h.h,k=S[h.g],_=127&k;if(128>k)return h.g+=1,Ve(h),_;if(_|=(127&(k=S[h.g+1]))<<7,128>k)return h.g+=2,Ve(h),_;if(_|=(127&(k=S[h.g+2]))<<14,128>k)return h.g+=3,Ve(h),_;if(_|=(127&(k=S[h.g+3]))<<21,128>k)return h.g+=4,Ve(h),_;if(k=S[h.g+4],h.g+=5,_|=(15&k)<<28,128>k)return Ve(h),_;if(128<=S[h.g++]&&128<=S[h.g++]&&128<=S[h.g++]&&128<=S[h.g++]&&128<=S[h.g++])throw nt();return Ve(h),_}mt.prototype.reset=function(){this.g=this.j};var gt=[];function Kn(){this.g=[]}function Xt(h,S){for(;127<S;)h.g.push(127&S|128),S>>>=7;h.g.push(S)}function Yt(h){var S={},k=S.W!==void 0&&S.W;this.l={v:S.v!==void 0&&S.v},this.W=k,S=this.l,gt.length?(k=gt.pop(),S&&(k.v=S.v),h&&ke(k,h),h=k):h=new mt(h,S),this.g=h,this.j=this.g.g,this.h=this.i=-1}function _n(h){var S=h.g;if(S.g==S.i)return!1;h.j=h.g.g;var k=Dt(h.g)>>>0;if(S=k>>>3,!(0<=(k&=7)&&5>=k))throw tt(k,h.j);if(1>S)throw Error("Invalid field number: "+S+" (at position "+h.j+")");return h.i=S,h.h=k,!0}function lt(h){switch(h.h){case 0:if(h.h!=0)lt(h);else e:{for(var S=(h=h.g).g,k=S+10;S<k;)if(!(128&h.h[S++])){h.g=S,Ve(h);break e}throw nt()}break;case 1:(h=h.g).g+=8,Ve(h);break;case 2:h.h!=2?lt(h):(S=Dt(h.g)>>>0,(h=h.g).g+=S,Ve(h));break;case 5:(h=h.g).g+=4,Ve(h);break;case 3:for(S=h.i;;){if(!_n(h))throw Error("Unmatched start-group tag: stream EOF");if(h.h==4){if(h.i!=S)throw Error("Unmatched end-group tag");break}lt(h)}break;default:throw tt(h.h,h.j)}}Kn.prototype.length=function(){return this.g.length},Kn.prototype.end=function(){var h=this.g;return this.g=[],h},Yt.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var Ct=[];function Un(){this.i=[],this.h=0,this.g=new Kn}function Et(h,S){S.length!==0&&(h.i.push(S),h.h+=S.length)}var sr=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function zr(h,S){Object.isFrozen(h)||(sr?h[sr]|=S:h.N!==void 0?h.N|=S:Object.defineProperties(h,{N:{value:S,configurable:!0,writable:!0,enumerable:!1}}))}function $r(h){var S;return(S=sr?h[sr]:h.N)==null?0:S}function Pn(h){return zr(h,1),h}function nn(h){return!!Array.isArray(h)&&!!(2&$r(h))}function it(h){if(!Array.isArray(h))throw Error("cannot mark non-array as immutable");zr(h,2)}function rt(h){return h!==null&&typeof h=="object"&&!Array.isArray(h)&&h.constructor===Object}var rn=Object.freeze(Pn([]));function es(h){if(nn(h.m))throw Error("Cannot mutate an immutable Message")}var Ro,Ri=typeof Symbol<"u"&&Symbol.hasInstance!==void 0;function Fo(h){return{value:h,configurable:!1,writable:!1,enumerable:!1}}function zt(h,S,k){return S===-1?null:S>=h.i?h.g?h.g[S]:void 0:k!==void 0&&k&&h.g&&(k=h.g[S])!=null?k:h.m[S+h.h]}function yt(h,S,k,_){_=_!==void 0&&_,es(h),S<h.i&&!_?h.m[S+h.h]=k:(h.g||(h.g=h.m[h.i+h.h]={}))[S]=k}function Tt(h,S,k,_){k=k===void 0||k;var M=zt(h,S,_=_!==void 0&&_);return M==null&&(M=rn),nn(h.m)?k&&(it(M),Object.freeze(M)):(M===rn||nn(M))&&yt(h,S,M=Pn(M.slice()),_),M}function Ae(h,S,k){return(h=(h=zt(h,S))==null?h:+h)==null?k===void 0?0:k:h}function Vr(h,S,k,_){h.j||(h.j={});var M=nn(h.m),D=h.j[k];if(!D){_=Tt(h,k,!0,_!==void 0&&_),D=[],M=M||nn(_);for(var B=0;B<_.length;B++)D[B]=new S(_[B]),M&&it(D[B].m);M&&(it(D),Object.freeze(D)),h.j[k]=D}return D}function Ze(h,S,k,_,M){var D=D!==void 0&&D;return es(h),D=Vr(h,k,S,D),k=_||new k,h=Tt(h,S),M!=null?(D.splice(M,0,k),h.splice(M,0,k.m)):(D.push(k),h.push(k.m)),k}function ts(h,S){return(h=zt(h,S))==null?0:h}function Mo(h,S){return(h=zt(h,S))==null?"":h}function or(h){var S=Fi;return Ie(h,S=S===void 0?Bs:S)}function vn(h,S){if(h!=null){if(Array.isArray(h))h=Ie(h,S);else if(rt(h)){var k,_={};for(k in h)_[k]=vn(h[k],S);h=_}else h=S(h);return h}}function Ie(h,S){for(var k=h.slice(),_=0;_<k.length;_++)k[_]=vn(k[_],S);return Array.isArray(h)&&1&$r(h)&&Pn(k),k}function Fi(h){return h&&typeof h=="object"&&h.toJSON?h.toJSON():(h=function(S){switch(typeof S){case"number":return isFinite(S)?S:String(S);case"object":if(S&&!Array.isArray(S)){if(Ee(S))return te(S);if(S instanceof Ue){var k=S.L;return k=k==null||typeof k=="string"?k:Te&&k instanceof Uint8Array?te(k):null,(S.L=k)||""}}}return S}(h),Array.isArray(h)?or(h):h)}function Bs(h){return Ee(h)?new Uint8Array(h):h}function ns(h,S,k){h||(h=Ro),Ro=null;var _=this.constructor.h;if(h||(h=_?[_]:[]),this.h=(_?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=h,h=(_=this.m.length)-1,_&&rt(_=this.m[h])?(this.i=h-this.h,this.g=_):S!==void 0&&-1<S?(this.i=Math.max(S,h+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,k)for(S=0;S<k.length;S++)if((h=k[S])<this.i)h+=this.h,(_=this.m[h])?Array.isArray(_)&&Pn(_):this.m[h]=rn;else{var M=(_=this.g||(this.g=this.m[this.i+this.h]={}))[h];M?Array.isArray(M)&&Pn(M):_[h]=rn}}function rs(){ns.apply(this,arguments)}if(ns.prototype.toJSON=function(){return or(this.m)},ns.prototype.toString=function(){return this.m.toString()},p(rs,ns),Ri){var ir={};Object.defineProperties(rs,(ir[Symbol.hasInstance]=Fo(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),ir))}function js(h,S,k){if(k){var _,M={};for(_ in k){var D=k[_],B=D.ha;B||(M.F=D.la||D.fa.P,D.aa?(M.U=zs(D.aa),B=function(K){return function(Z,se,le){return K.F(Z,se,le,K.U)}}(M)):D.ca?(M.T=Vs(D.X.g,D.ca),B=function(K){return function(Z,se,le){return K.F(Z,se,le,K.T)}}(M)):B=M.F,D.ha=B),B(S,h,D.X),M={F:M.F,U:M.U,T:M.T}}}(function(K,Z){if(Z=Z.ba){Et(K,K.g.end());for(var se=0;se<Z.length;se++)Et(K,Z[se])}})(S,h)}var bn=Symbol();function ar(h,S,k){return h[bn]||(h[bn]=function(_,M){return S(_,M,k)})}function Mi(h){var S=h[bn];if(!S){var k=ec(h);S=function(_,M){return Za(_,M,k)},h[bn]=S}return S}function Qa(h){var S=function(M){var D=M.aa;return D?Mi(D):(D=M.ka)?ar(M.X.g,D,M.ca):void 0}(h),k=h.X,_=h.fa.O;return S?function(M,D){return _(M,D,k,S)}:function(M,D){return _(M,D,k)}}function me(h,S,k,_,M,D){var B=0;for((h=h()).length&&typeof h[0]!="number"&&(k(S,h[0]),B++);B<h.length;){k=h[B++];for(var K=B+1;K<h.length&&typeof h[K]!="number";)K++;var Z=h[B++];switch(K-=B){case 0:_(S,k,Z);break;case 1:_(S,k,Z,h[B++]);break;case 2:M(S,k,Z,h[B++],h[B++]);break;case 3:K=h[B++];var se=h[B++],le=h[B++];Array.isArray(le)?M(S,k,Z,K,se,le):D(S,k,Z,K,se,le);break;case 4:D(S,k,Z,h[B++],h[B++],h[B++],h[B++]);break;default:throw Error("unexpected number of binary field arguments: "+K)}}return S}var Rt=Symbol();function zs(h){var S=h[Rt];if(!S){var k=Zu(h);S=function(_,M){return tl(_,M,k)},h[Rt]=S}return S}function Vs(h,S){var k=h[Rt];return k||(k=function(_,M){return js(_,M,S)},h[Rt]=k),k}var Yu=Symbol();function Ks(h,S){h.push(S)}function cp(h,S,k){h.push(S,k.P)}function Ju(h,S,k,_,M){var D=zs(M),B=k.P;h.push(S,function(K,Z,se){return B(K,Z,se,_,D)})}function Qu(h,S,k,_,M,D){var B=Vs(_,D),K=k.P;h.push(S,function(Z,se,le){return K(Z,se,le,_,B)})}function Zu(h){var S=h[Yu];return S||me(h,h[Yu]=[],Ks,cp,Ju,Qu)}var Li=Symbol();function ss(h,S){h[0]=S}function dp(h,S,k,_){var M=k.O;h[S]=_?function(D,B,K){return M(D,B,K,_)}:M}function fp(h,S,k,_,M,D){var B=k.O,K=Mi(M);h[S]=function(Z,se,le){return B(Z,se,le,_,K,D)}}function Bi(h,S,k,_,M,D,B){var K=k.O,Z=ar(_,M,D);h[S]=function(se,le,pe){return K(se,le,pe,_,Z,B)}}function ec(h){var S=h[Li];return S||me(h,h[Li]={},ss,dp,fp,Bi)}function Za(h,S,k){for(;_n(S)&&S.h!=4;){var _=S.i,M=k[_];if(!M){var D=k[0];D&&(D=D[_])&&(M=k[_]=Qa(D))}if(!(M&&M(S,h,_)||(M=S,_=h,D=M.j,lt(M),M.W))){var B=M.g.h;M=D===(M=M.g.g)?be||(be=new Uint8Array(0)):Qe?B.slice(D,M):new Uint8Array(B.subarray(D,M)),(D=_.ba)?D.push(M):_.ba=[M]}}return h}function el(h,S,k){if(Ct.length){var _=Ct.pop();h&&(ke(_.g,h),_.i=-1,_.h=-1),h=_}else h=new Yt(h);try{return Za(new S,h,ec(k))}finally{(S=h.g).h=null,S.j=0,S.i=0,S.g=0,S.v=!1,h.i=-1,h.h=-1,100>Ct.length&&Ct.push(h)}}function tl(h,S,k){for(var _=k.length,M=_%2==1,D=M?1:0;D<_;D+=2)(0,k[D+1])(S,h,k[D]);js(h,S,M?k[0]:void 0)}function Lo(h,S){var k=new Un;tl(h,k,Zu(S)),Et(k,k.g.end()),h=new Uint8Array(k.h);for(var _=(S=k.i).length,M=0,D=0;D<_;D++){var B=S[D];h.set(B,M),M+=B.length}return k.i=[h],h}function Us(h,S){return{O:h,P:S}}var Wn=Us(function(h,S,k){if(h.h!==5)return!1;var _=(h=h.g).h[h.g],M=h.h[h.g+1],D=h.h[h.g+2],B=h.h[h.g+3];return h.g+=4,Ve(h),h=2*((M=(_<<0|M<<8|D<<16|B<<24)>>>0)>>31)+1,_=M>>>23&255,M&=8388607,yt(S,k,_==255?M?NaN:1/0*h:_==0?h*Math.pow(2,-149)*M:h*Math.pow(2,_-150)*(M+Math.pow(2,23))),!0},function(h,S,k){if((S=zt(S,k))!=null){Xt(h.g,8*k+5),h=h.g;var _=S;(_=(k=0>_?1:0)?-_:_)===0?0<1/_?We=0:We=2147483648:isNaN(_)?We=2147483647:34028234663852886e22<_?We=(k<<31|2139095040)>>>0:11754943508222875e-54>_?(_=Math.round(_/Math.pow(2,-149)),We=(k<<31|_)>>>0):(S=Math.floor(Math.log(_)/Math.LN2),_*=Math.pow(2,-S),16777216<=(_=Math.round(8388608*_))&&++S,We=(k<<31|S+127<<23|8388607&_)>>>0),k=We,h.g.push(k>>>0&255),h.g.push(k>>>8&255),h.g.push(k>>>16&255),h.g.push(k>>>24&255)}}),pp=Us(function(h,S,k){if(h.h!==0)return!1;for(var _=h.g,M=128,D=0,B=h=0;4>B&&128<=M;B++)M=_.h[_.g++],Ve(_),D|=(127&M)<<7*B;if(128<=M&&(M=_.h[_.g++],Ve(_),D|=(127&M)<<28,h|=(127&M)>>4),128<=M)for(B=0;5>B&&128<=M;B++)M=_.h[_.g++],Ve(_),h|=(127&M)<<7*B+3;if(!(128>M))throw nt();return _=D>>>0,(h=2147483648&(M=h>>>0))&&(M=~M>>>0,(_=1+~_>>>0)==0&&(M=M+1>>>0)),_=4294967296*M+(_>>>0),yt(S,k,h?-_:_),!0},function(h,S,k){if((S=zt(S,k))!=null&&S!=null){Xt(h.g,8*k),h=h.g;var _=S;for(k=0>_,S=(_=Math.abs(_))>>>0,_=Math.floor((_-S)/4294967296),_>>>=0,k&&(_=~_>>>0,4294967295<(S=1+(~S>>>0))&&(S=0,4294967295<++_&&(_=0))),k=We=S,S=_;0<S||127<k;)h.g.push(127&k|128),k=(k>>>7|S<<25)>>>0,S>>>=7;h.g.push(k)}}),hp=Us(function(h,S,k){return h.h===0&&(yt(S,k,Dt(h.g)),!0)},function(h,S,k){if((S=zt(S,k))!=null&&S!=null)if(Xt(h.g,8*k),h=h.g,0<=(k=S))Xt(h,k);else{for(S=0;9>S;S++)h.g.push(127&k|128),k>>=7;h.g.push(1)}}),tc=Us(function(h,S,k){if(h.h!==2)return!1;var _,M=Dt(h.g)>>>0,D=(h=h.g).g;if(h.g+=M,Ve(h),h=h.h,G)(_=Y)||(_=Y=new TextDecoder("utf-8",{fatal:!0})),_=_.decode(h.subarray(D,D+M));else{M=D+M;for(var B,K,Z,se=[],le=null;D<M;)128>(B=h[D++])?se.push(B):224>B?D>=M?F():(K=h[D++],194>B||(192&K)!=128?(D--,F()):se.push((31&B)<<6|63&K)):240>B?D>=M-1?F():(192&(K=h[D++]))!=128||B===224&&160>K||B===237&&160<=K||(192&(_=h[D++]))!=128?(D--,F()):se.push((15&B)<<12|(63&K)<<6|63&_):244>=B?D>=M-2?F():(192&(K=h[D++]))!=128||K-144+(B<<28)>>30||(192&(_=h[D++]))!=128||(192&(Z=h[D++]))!=128?(D--,F()):(B=(7&B)<<18|(63&K)<<12|(63&_)<<6|63&Z,B-=65536,se.push(55296+(B>>10&1023),56320+(1023&B))):F(),8192<=se.length&&(le=H(le,se),se.length=0);_=H(le,se)}return yt(S,k,_),!0},function(h,S,k){if((S=zt(S,k))!=null){var _=!1;if(_=_!==void 0&&_,ne){if(_&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(S))throw Error("Found an unpaired surrogate");S=(V||(V=new TextEncoder)).encode(S)}else{for(var M=0,D=new Uint8Array(3*S.length),B=0;B<S.length;B++){var K=S.charCodeAt(B);if(128>K)D[M++]=K;else{if(2048>K)D[M++]=K>>6|192;else{if(55296<=K&&57343>=K){if(56319>=K&&B<S.length){var Z=S.charCodeAt(++B);if(56320<=Z&&57343>=Z){K=1024*(K-55296)+Z-56320+65536,D[M++]=K>>18|240,D[M++]=K>>12&63|128,D[M++]=K>>6&63|128,D[M++]=63&K|128;continue}B--}if(_)throw Error("Found an unpaired surrogate");K=65533}D[M++]=K>>12|224,D[M++]=K>>6&63|128}D[M++]=63&K|128}}S=D.subarray(0,M)}Xt(h.g,8*k+2),Xt(h.g,S.length),Et(h,h.g.end()),Et(h,S)}}),nl=Us(function(h,S,k,_,M){if(h.h!==2)return!1;S=Ze(S,k,_),k=h.g.i,_=Dt(h.g)>>>0;var D=h.g.g+_,B=D-k;if(0>=B&&(h.g.i=D,M(S,h),B=D-h.g.g),B)throw Error("Message parsing ended unexpectedly. Expected to read "+_+" bytes, instead read "+(_-B)+" bytes, either the data ended unexpectedly or the message misreported its own length");return h.g.g=D,h.g.i=k,!0},function(h,S,k,_,M){if((S=Vr(S,_,k))!=null)for(_=0;_<S.length;_++){var D=h;Xt(D.g,8*k+2);var B=D.g.end();Et(D,B),B.push(D.h),D=B,M(S[_],h),B=h;var K=D.pop();for(K=B.h+B.g.length()-K;127<K;)D.push(127&K|128),K>>>=7,B.h++;D.push(K),B.h++}});function An(){rs.apply(this,arguments)}if(p(An,rs),Ri){var nc={};Object.defineProperties(An,(nc[Symbol.hasInstance]=Fo(Object[Symbol.hasInstance]),nc))}function os(h){An.call(this,h)}function rc(){return[1,hp,2,Wn,3,tc,4,tc]}function rl(h){An.call(this,h,-1,gp)}function mp(){return[1,nl,os,rc]}p(os,An),p(rl,An),rl.prototype.addClassification=function(h,S){return Ze(this,1,os,h,S),this};var gp=[1];function Ws(h){An.call(this,h)}function sc(){return[1,Wn,2,Wn,3,Wn,4,Wn,5,Wn]}function oc(h){An.call(this,h,-1,vp)}function yp(){return[1,nl,Ws,sc]}p(Ws,An),p(oc,An);var vp=[1];function sl(h){An.call(this,h)}function ol(){return[1,Wn,2,Wn,3,Wn,4,Wn,5,Wn,6,pp]}p(sl,An);var il=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],al=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ll=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ul=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],cl=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],ic=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],ac=[].concat(a(il),a(al),a(ll),a(ul),a(cl),a(ic));function m(h,S,k){if(k=h.createShader(k===0?h.VERTEX_SHADER:h.FRAGMENT_SHADER),h.shaderSource(k,S),h.compileShader(k),!h.getShaderParameter(k,h.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+h.getShaderInfoLog(k));return k}function w(h){return Vr(h,os,1).map(function(S){return{index:ts(S,1),ga:Ae(S,2),label:zt(S,3)!=null?Mo(S,3):void 0,displayName:zt(S,4)!=null?Mo(S,4):void 0}})}function T(h){return{x:Ae(h,1),y:Ae(h,2),z:Ae(h,3),visibility:zt(h,4)!=null?Ae(h,4):void 0}}function L(h,S){this.h=h,this.g=S,this.l=0}function X(h,S,k){return function(_,M){var D=_.g;if(_.o===void 0){var B=m(D,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),K=m(D,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Z=D.createProgram();if(D.attachShader(Z,B),D.attachShader(Z,K),D.linkProgram(Z),!D.getProgramParameter(Z,D.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+D.getProgramInfoLog(Z));B=_.o=Z,D.useProgram(B),K=D.getUniformLocation(B,"sampler0"),_.j={K:D.getAttribLocation(B,"aVertex"),J:D.getAttribLocation(B,"aTex"),ma:K},_.u=D.createBuffer(),D.bindBuffer(D.ARRAY_BUFFER,_.u),D.enableVertexAttribArray(_.j.K),D.vertexAttribPointer(_.j.K,2,D.FLOAT,!1,0,0),D.bufferData(D.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),D.STATIC_DRAW),D.bindBuffer(D.ARRAY_BUFFER,null),_.s=D.createBuffer(),D.bindBuffer(D.ARRAY_BUFFER,_.s),D.enableVertexAttribArray(_.j.J),D.vertexAttribPointer(_.j.J,2,D.FLOAT,!1,0,0),D.bufferData(D.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),D.STATIC_DRAW),D.bindBuffer(D.ARRAY_BUFFER,null),D.uniform1i(K,0)}B=_.j,D.useProgram(_.o),D.canvas.width=M.width,D.canvas.height=M.height,D.viewport(0,0,M.width,M.height),D.activeTexture(D.TEXTURE0),_.h.bindTexture2d(M.glName),D.enableVertexAttribArray(B.K),D.bindBuffer(D.ARRAY_BUFFER,_.u),D.vertexAttribPointer(B.K,2,D.FLOAT,!1,0,0),D.enableVertexAttribArray(B.J),D.bindBuffer(D.ARRAY_BUFFER,_.s),D.vertexAttribPointer(B.J,2,D.FLOAT,!1,0,0),D.bindFramebuffer(D.DRAW_FRAMEBUFFER?D.DRAW_FRAMEBUFFER:D.FRAMEBUFFER,null),D.clearColor(0,0,0,0),D.clear(D.COLOR_BUFFER_BIT),D.colorMask(!0,!0,!0,!0),D.drawArrays(D.TRIANGLE_FAN,0,4),D.disableVertexAttribArray(B.K),D.disableVertexAttribArray(B.J),D.bindBuffer(D.ARRAY_BUFFER,null),_.h.bindTexture2d(0)}(h,S),typeof h.g.canvas.transferToImageBitmap=="function"?Promise.resolve(h.g.canvas.transferToImageBitmap()):k?Promise.resolve(h.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(h.g.canvas):(h.i===void 0&&(h.i=document.createElement("canvas")),new Promise(function(_){h.i.height=h.g.canvas.height,h.i.width=h.g.canvas.width,h.i.getContext("2d",{}).drawImage(h.g.canvas,0,0,h.g.canvas.width,h.g.canvas.height),_(h.i)}))}function re(h){this.g=h}var Q=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function oe(h,S){return S+h}function fe(h,S){window[h]=S}function we(h){if(this.g=h,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=h&&h.locateFile||oe,typeof window=="object")var S=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(typeof location>"u")throw Error("solutions can only be loaded on a web page or in a web worker");S=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=S,h.options)for(var k=(S=i(Object.keys(h.options))).next();!k.done;k=S.next()){k=k.value;var _=h.options[k].default;_!==void 0&&(this.j[k]=typeof _=="function"?_():_)}}function Ce(h){var S,k,_,M,D,B,K,Z,se,le,pe;return O(function(ge){switch(ge.g){case 1:return h.Z?(S=h.g.files===void 0?[]:typeof h.g.files=="function"?h.g.files(h.j):h.g.files,v(ge,O(function(ve){switch(ve.g){case 1:return ve.o=2,v(ve,WebAssembly.instantiate(Q),4);case 4:ve.g=3,ve.o=0;break;case 2:return ve.o=0,ve.j=null,ve.return(!1);case 3:return ve.return(!0)}}),2)):ge.return();case 2:if(k=ge.h,typeof window=="object")return fe("createMediapipeSolutionsWasm",{locateFile:h.locateFile}),fe("createMediapipeSolutionsPackedAssets",{locateFile:h.locateFile}),B=S.filter(function(ve){return ve.data!==void 0}),K=S.filter(function(ve){return ve.data===void 0}),Z=Promise.all(B.map(function(ve){var _e=qe(h,ve.url);if(ve.path!==void 0){var Oe=ve.path;_e=_e.then(function(at){return h.overrideFile(Oe,at),Promise.resolve(at)})}return _e})),se=Promise.all(K.map(function(ve){return ve.simd===void 0||ve.simd&&k||!ve.simd&&!k?function(_e){var Oe=document.createElement("script");return Oe.setAttribute("src",_e),Oe.setAttribute("crossorigin","anonymous"),new Promise(function(at){Oe.addEventListener("load",function(){at()},!1),Oe.addEventListener("error",function(){at()},!1),document.body.appendChild(Oe)})}(h.locateFile(ve.url,h.$)):Promise.resolve()})).then(function(){var ve,_e,Oe;return O(function(at){if(at.g==1)return ve=window.createMediapipeSolutionsWasm,_e=window.createMediapipeSolutionsPackedAssets,Oe=h,v(at,ve(_e),2);Oe.h=at.h,at.g=0})}),le=O(function(ve){return h.g.graph&&h.g.graph.url?ve=v(ve,qe(h,h.g.graph.url),0):(ve.g=0,ve=void 0),ve}),v(ge,Promise.all([se,Z,le]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return _=S.filter(function(ve){return ve.simd===void 0||ve.simd&&k||!ve.simd&&!k}).map(function(ve){return h.locateFile(ve.url,h.$)}),importScripts.apply(null,a(_)),M=h,v(ge,createMediapipeSolutionsWasm(Module),6);case 6:M.h=ge.h,h.l=new OffscreenCanvas(1,1),h.h.canvas=h.l,D=h.h.GL.createContext(h.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),h.h.GL.makeContextCurrent(D),ge.g=4;break;case 7:if(h.l=document.createElement("canvas"),!(pe=h.l.getContext("webgl2",{}))&&!(pe=h.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),ge.return();h.G=pe,h.h.canvas=h.l,h.h.createContext(h.l,!0,!0,{});case 4:h.i=new h.h.SolutionWasm,h.Z=!1,ge.g=0}})}function qe(h,S){var k,_;return O(function(M){return S in h.H?M.return(h.H[S]):(k=h.locateFile(S,""),_=fetch(k).then(function(D){return D.arrayBuffer()}),h.H[S]=_,M.return(_))})}function Fe(h,S,k){var _,M,D,B,K,Z,se,le,pe,ge,ve,_e,Oe,at;return O(function(ct){switch(ct.g){case 1:if(!k)return ct.return(S);for(_={},M=0,D=i(Object.keys(k)),B=D.next();!B.done;B=D.next())K=B.value,typeof(Z=k[K])!="string"&&Z.type==="texture"&&S[Z.stream]!==void 0&&++M;1<M&&(h.I=!1),se=i(Object.keys(k)),B=se.next();case 2:if(B.done){ct.g=4;break}if(le=B.value,typeof(pe=k[le])=="string")return Oe=_,at=le,v(ct,function(Bo,w0,ji){var lc;return O(function(bp){return typeof ji=="number"||ji instanceof Uint8Array||ji instanceof Bo.h.Uint8BlobList?bp.return(ji):ji instanceof Bo.h.Texture2dDataOut?((lc=Bo.u[w0])||(lc=new L(Bo.h,Bo.G),Bo.u[w0]=lc),bp.return(X(lc,ji,Bo.I))):bp.return(void 0)})}(h,le,S[pe]),14);if(ge=S[pe.stream],pe.type==="detection_list"){if(ge){for(var wn=ge.getRectList(),lr=ge.getLandmarksList(),In=ge.getClassificationsList(),et=[],sn=0;sn<wn.size();++sn){var Hs=el(wn.get(sn),sl,ol);Hs={boundingBox:{xCenter:Ae(Hs,1),yCenter:Ae(Hs,2),height:Ae(Hs,3),width:Ae(Hs,4),rotation:Ae(Hs,5,0),rectId:ts(Hs,6)},landmarks:Vr(el(lr.get(sn),oc,yp),Ws,1).map(T),V:w(el(In.get(sn),rl,mp))},et.push(Hs)}wn=et}else wn=[];_[le]=wn,ct.g=7;break}if(pe.type==="proto_list"){if(ge){for(wn=Array(ge.size()),lr=0;lr<ge.size();lr++)wn[lr]=ge.get(lr);ge.delete()}else wn=[];_[le]=wn,ct.g=7;break}if(ge===void 0){ct.g=3;break}if(pe.type==="float_list"){_[le]=ge,ct.g=7;break}if(pe.type==="proto"){_[le]=ge,ct.g=7;break}if(pe.type!=="texture")throw Error("Unknown output config type: '"+pe.type+"'");return(ve=h.u[le])||(ve=new L(h.h,h.G),h.u[le]=ve),v(ct,X(ve,ge,h.I),13);case 13:_e=ct.h,_[le]=_e;case 7:pe.transform&&_[le]&&(_[le]=pe.transform(_[le])),ct.g=3;break;case 14:Oe[at]=ct.h;case 3:B=se.next(),ct.g=2;break;case 4:return ct.return(_)}})}function Pe(h,S){for(var k=S.name||"$",_=[].concat(a(S.wants)),M=new h.h.StringList,D=i(S.wants),B=D.next();!B.done;B=D.next())M.push_back(B.value);D=h.h.PacketListener.implement({onResults:function(K){for(var Z={},se=0;se<S.wants.length;++se)Z[_[se]]=K.get(se);var le=h.listeners[k];le&&(h.D=Fe(h,Z,S.outs).then(function(pe){pe=le(pe);for(var ge=0;ge<S.wants.length;++ge){var ve=Z[_[ge]];typeof ve=="object"&&ve.hasOwnProperty&&ve.hasOwnProperty("delete")&&ve.delete()}pe&&(h.D=pe)}))}}),h.i.attachMultiListener(M,D),M.delete()}function Se(h){var S=this;h=h||{};var k={url:"face_detection_short.binarypb"},_={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new we({locateFile:h.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:k,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window=="object"&&window.navigator!==void 0&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(M){var D,B,K,Z,se;return O(function(le){switch(le.g){case 1:D=i(M==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),B=D.next();case 2:if(B.done){le.g=4;break}return K=B.value,Z="third_party/mediapipe/modules/face_detection/"+K,v(le,qe(S.g,K),5);case 5:se=le.h,S.g.overrideFile(Z,se),B=D.next(),le.g=2;break;case 4:return k.url=M==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",_.graphOptionXref.calculatorName=M==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",le.return(!0)}})}},minDetectionConfidence:_}})}(e=we.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var h=this;return O(function(S){h.i&&(h.i.reset(),h.o={},h.u={}),S.g=0})},e.setOptions=function(h,S){var k=this;if(S=S||this.g.options){for(var _=[],M=[],D={},B=i(Object.keys(h)),K=B.next();!K.done;D={R:D.R,S:D.S},K=B.next()){var Z=K.value;Z in this.j&&this.j[Z]===h[Z]||(this.j[Z]=h[Z],(K=S[Z])!==void 0&&(K.onChange&&(D.R=K.onChange,D.S=h[Z],_.push(function(se){return function(){return O(function(le){if(le.g==1)return v(le,se.R(se.S),2);le.h===!0&&(k.s=!0),le.g=0})}}(D))),K.graphOptionXref&&(Z={valueNumber:K.type===1?h[Z]:0,valueBoolean:K.type===0&&h[Z],valueString:K.type===2?h[Z]:""},K=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),K.graphOptionXref),Z),M.push(K))))}_.length===0&&M.length===0||(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(M),this.A=(this.A===void 0?[]:this.A).concat(_))}},e.initialize=function(){var h=this;return O(function(S){return S.g==1?v(S,Ce(h),2):S.g!=3?v(S,function(k){var _,M,D,B,K,Z,se,le;return O(function(pe){if(pe.g==1)return k.g.graph&&k.g.graph.url&&k.Y===k.g.graph.url?pe.return():(k.s=!0,k.g.graph&&k.g.graph.url?(k.Y=k.g.graph.url,v(pe,qe(k,k.g.graph.url),3)):void(pe.g=2));for(pe.g!=2&&(_=pe.h,k.i.loadGraph(_)),M=i(Object.keys(k.C)),D=M.next();!D.done;D=M.next())B=D.value,k.i.overrideFile(B,k.C[B]);if(k.C={},k.g.listeners)for(K=i(k.g.listeners),Z=K.next();!Z.done;Z=K.next())se=Z.value,Pe(k,se);le=k.j,k.j={},k.setOptions(le),pe.g=0})}(h),3):v(S,function(k){var _,M,D,B,K,Z;return O(function(se){switch(se.g){case 1:if(!k.s)return se.return();if(!k.A){se.g=2;break}_=i(k.A),M=_.next();case 3:if(M.done){se.g=5;break}return v(se,(0,M.value)(),4);case 4:M=_.next(),se.g=3;break;case 5:k.A=void 0;case 2:if(k.B){for(D=new k.h.GraphOptionChangeRequestList,B=i(k.B),K=B.next();!K.done;K=B.next())Z=K.value,D.push_back(Z);k.i.changeOptions(D),D.delete(),k.B=void 0}k.s=!1,se.g=0}})}(h),0)})},e.overrideFile=function(h,S){this.i?this.i.overrideFile(h,S):this.C[h]=S},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(h,S){var k,_,M,D,B,K,Z,se,le,pe=this;return O(function(ge){switch(ge.g){case 1:return pe.g.inputs?(k=1e3*(S??performance.now()),v(ge,pe.D,2)):ge.return();case 2:return v(ge,pe.initialize(),3);case 3:for(_=new pe.h.PacketDataList,M=i(Object.keys(h)),D=M.next();!D.done;D=M.next())if(B=D.value,K=pe.g.inputs[B]){e:{var ve=h[B];switch(K.type){case"video":var _e=pe.o[K.stream];if(_e||(_e=new L(pe.h,pe.G),pe.o[K.stream]=_e),_e.l===0&&(_e.l=_e.h.createTexture()),typeof HTMLVideoElement<"u"&&ve instanceof HTMLVideoElement)var Oe=ve.videoWidth,at=ve.videoHeight;else typeof HTMLImageElement<"u"&&ve instanceof HTMLImageElement?(Oe=ve.naturalWidth,at=ve.naturalHeight):(Oe=ve.width,at=ve.height);at={glName:_e.l,width:Oe,height:at},(Oe=_e.g).canvas.width=at.width,Oe.canvas.height=at.height,Oe.activeTexture(Oe.TEXTURE0),_e.h.bindTexture2d(_e.l),Oe.texImage2D(Oe.TEXTURE_2D,0,Oe.RGBA,Oe.RGBA,Oe.UNSIGNED_BYTE,ve),_e.h.bindTexture2d(0),_e=at;break e;case"detections":for((_e=pe.o[K.stream])||(_e=new re(pe.h),pe.o[K.stream]=_e),_e.data||(_e.data=new _e.g.DetectionListData),_e.data.reset(ve.length),at=0;at<ve.length;++at){Oe=ve[at];var ct=_e.data,wn=ct.setBoundingBox,lr=at,In=Oe.boundingBox,et=new sl;if(yt(et,1,In.xCenter),yt(et,2,In.yCenter),yt(et,3,In.height),yt(et,4,In.width),yt(et,5,In.rotation),yt(et,6,In.rectId),In=Lo(et,ol),wn.call(ct,lr,In),Oe.landmarks)for(ct=0;ct<Oe.landmarks.length;++ct){var sn=!!(et=Oe.landmarks[ct]).visibility;lr=(wn=_e.data).addNormalizedLandmark,In=at,et=Object.assign(Object.assign({},et),{visibility:sn?et.visibility:0}),yt(sn=new Ws,1,et.x),yt(sn,2,et.y),yt(sn,3,et.z),et.visibility&&yt(sn,4,et.visibility),et=Lo(sn,sc),lr.call(wn,In,et)}if(Oe.V)for(ct=0;ct<Oe.V.length;++ct)lr=(wn=_e.data).addClassification,In=at,et=Oe.V[ct],yt(sn=new os,2,et.ga),et.index&&yt(sn,1,et.index),et.label&&yt(sn,3,et.label),et.displayName&&yt(sn,4,et.displayName),et=Lo(sn,rc),lr.call(wn,In,et)}_e=_e.data;break e;default:_e={}}}switch(Z=_e,se=K.stream,K.type){case"video":_.pushTexture2d(Object.assign(Object.assign({},Z),{stream:se,timestamp:k}));break;case"detections":(le=Z).stream=se,le.timestamp=k,_.pushDetectionList(le);break;default:throw Error("Unknown input config type: '"+K.type+"'")}}return pe.i.send(_),v(ge,pe.D,4);case 4:_.delete(),ge.g=0}})},e.onResults=function(h,S){this.listeners[S||"$"]=h},j("Solution",we),j("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=Se.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(h){this.g.onResults(h)},e.initialize=function(){var h=this;return O(function(S){return v(S,h.g.initialize(),0)})},e.reset=function(){this.g.reset()},e.send=function(h){var S=this;return O(function(k){return v(k,S.g.send(h),0)})},e.setOptions=function(h){this.g.setOptions(h)},j("FaceDetection",Se),j("FACEDETECTION_LIPS",il),j("FACEDETECTION_LEFT_EYE",al),j("FACEDETECTION_LEFT_EYEBROW",ll),j("FACEDETECTION_RIGHT_EYE",ul),j("FACEDETECTION_RIGHT_EYEBROW",cl),j("FACEDETECTION_FACE_OVAL",ic),j("FACEDETECTION_CONTOURS",ac),j("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),j("VERSION","0.4.1646425229")}).call(xh);var No=function(){return No=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},No.apply(this,arguments)};function Rs(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?s(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(i,a)}l((r=r.apply(e,[])).next())})}function Fs(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&c[0]?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||c[0]!==6&&c[0]!==2)){i=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(c[0]===6&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(d){c=[6,d],r=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}var dx=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],Sh={modelType:"short",runtime:"mediapipe",maxFaces:1},hG=function(){function e(t){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new pG.FaceDetection({locateFile:function(r,s){return t.solutionPath?t.solutionPath.replace(/\/+$/,"")+"/"+r:s+"/"+r}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:t.modelType}),this.faceDetectorSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.detections!==null)for(var s=0,o=r.detections;s<o.length;s++){var i=o[s];n.faces.push(n.normalizedToAbsolute(i.landmarks,{xMin:l=(a=i.boundingBox).xCenter-a.width/2,xMax:l+a.width,yMin:u=a.yCenter-a.height/2,yMax:u+a.height,width:a.width,height:a.height}))}var a,l,u})}return e.prototype.normalizedToAbsolute=function(t,n){var r=this;return{keypoints:t.map(function(s,o){return{x:s.x*r.width,y:s.y*r.height,name:dx[o]}}),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},e.prototype.estimateFaces=function(t,n){return Rs(this,void 0,void 0,function(){var r,s;return Fs(this,function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),t instanceof Pt?(s=ImageData.bind,[4,rx(t)]):[3,2];case 1:return r=new(s.apply(ImageData,[void 0,o.sent(),t.shape[1],t.shape[0]])),[3,3];case 2:r=t,o.label=3;case 3:return t=r,[4,this.faceDetectorSolution.send({image:t})];case 4:return o.sent(),[2,this.faces]}})})},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function mG(e){return Rs(this,void 0,void 0,function(){var t,n;return Fs(this,function(r){switch(r.label){case 0:return t=function(s){if(s==null)return No({},Sh);var o=No({},s);return o.runtime="mediapipe",o.modelType==null&&(o.modelType=Sh.modelType),o.maxFaces==null&&(o.maxFaces=Sh.maxFaces),o}(e),[4,(n=new hG(t)).initialize()];case 1:return r.sent(),[2,n]}})})}function fx(e){return e instanceof Pt?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function px(e){return e instanceof Pt?e:sx(e)}function Eh(e,t){R(e.width!==0,function(){return t+" width cannot be 0."}),R(e.height!==0,function(){return t+" height cannot be 0."})}function gG(e,t,n){var r=t.outputTensorSize,s=t.keepAspectRatio,o=t.borderMode,i=t.outputTensorFloatRange,a=fx(e),l=function(f,p){return{xCenter:.5*f.width,yCenter:.5*f.height,width:f.width,height:f.height,rotation:0}}(a),u=function(f,p,g){if(g===void 0&&(g=!1),!g)return{top:0,left:0,right:0,bottom:0};var y=p.height,E=p.width;Eh(p,"targetSize"),Eh(f,"roi");var v,x,$=y/E,N=f.height/f.width,I=0,O=0;return $>N?(v=f.width,x=f.width*$,O=(1-N/$)/2):(v=f.height/$,x=f.height,I=(1-$/N)/2),f.width=v,f.height=x,{top:O,left:I,right:I,bottom:O}}(l,r,s),c=function(f,p,g,y){var E=f.width,v=f.height,x=1,$=Math.cos(f.rotation),N=Math.sin(f.rotation),I=f.xCenter,O=f.yCenter,U=1/p,C=1/g,j=new Array(16);return j[0]=E*$*x*U,j[1]=-v*N*U,j[2]=0,j[3]=(-.5*E*$*x+.5*v*N+I)*U,j[4]=E*N*x*C,j[5]=v*$*C,j[6]=0,j[7]=(-.5*v*$-.5*E*N*x+O)*C,j[8]=0,j[9]=0,j[10]=E*U,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,function(F){if(F.length!==16)throw new Error("Array length must be 16 but got "+F.length);return[[F[0],F[1],F[2],F[3]],[F[4],F[5],F[6],F[7]],[F[8],F[9],F[10],F[11]],[F[12],F[13],F[14],F[15]]]}(j)}(l,a.width,a.height),d=Le(function(){var f=px(e),p=wo(function(E,v,x){return Eh(x,"inputResolution"),[1/x.width*E[0][0]*v.width,1/x.height*E[0][1]*v.width,E[0][3]*v.width,1/x.width*E[1][0]*v.height,1/x.height*E[1][1]*v.height,E[1][3]*v.height,0,0]}(c,a,r),[1,8]),g=o==="zero"?"constant":"nearest",y=Xa.transform(mr(ht(f,"float32")),p,"bilinear",g,0,[r.height,r.width]);return i!=null?function(E,v){var x=function($,N,I,O){var U=(O-I)/255;return{scale:U,offset:I-0*U}}(0,0,v[0],v[1]);return Le(function(){return $e(he(E,x.scale),x.offset)})}(y,i):y});return{imageTensor:d,padding:u,transformationMatrix:c}}function Py(e){e.reduceBoxesInLowestLayer==null&&(e.reduceBoxesInLowestLayer=!1),e.interpolatedScaleAspectRatio==null&&(e.interpolatedScaleAspectRatio=1),e.fixedAnchorSize==null&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var r=[],s=[],o=[],i=[],a=n;a<e.strides.length&&e.strides[a]===e.strides[n];){var l=Ay(e.minScale,e.maxScale,a,e.strides.length);if(a===0&&e.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),i.push(.1),i.push(l),i.push(l);else{for(var u=0;u<e.aspectRatios.length;++u)o.push(e.aspectRatios[u]),i.push(l);if(e.interpolatedScaleAspectRatio>0){var c=a===e.strides.length-1?1:Ay(e.minScale,e.maxScale,a+1,e.strides.length);i.push(Math.sqrt(l*c)),o.push(e.interpolatedScaleAspectRatio)}}a++}for(var d=0;d<o.length;++d){var f=Math.sqrt(o[d]);r.push(i[d]/f),s.push(i[d]*f)}var p=0,g=0;if(e.featureMapHeight.length>0)p=e.featureMapHeight[n],g=e.featureMapWidth[n];else{var y=e.strides[n];p=Math.ceil(e.inputSizeHeight/y),g=Math.ceil(e.inputSizeWidth/y)}for(var E=0;E<p;++E)for(var v=0;v<g;++v)for(var x=0;x<r.length;++x){var $={xCenter:(v+e.anchorOffsetX)/g,yCenter:(E+e.anchorOffsetY)/p,width:0,height:0};e.fixedAnchorSize?($.width=1,$.height=1):($.width=s[x],$.height=r[x]),t.push($)}n=a}return t}function Ay(e,t,n,r){return r===1?.5*(e+t):e+(t-e)*n/(r-1)}function Iy(e,t){var n=t[0],r=t[1];return[n*e[0]+r*e[1]+e[3],n*e[4]+r*e[5]+e[7]]}function yG(e,t,n,r){return Rs(this,void 0,void 0,function(){var s,o,i,a,l;return Fs(this,function(u){switch(u.label){case 0:return e.sort(function(c,d){return Math.max.apply(Math,d.score)-Math.max.apply(Math,c.score)}),s=wo(e.map(function(c){return[c.locationData.relativeBoundingBox.yMin,c.locationData.relativeBoundingBox.xMin,c.locationData.relativeBoundingBox.yMax,c.locationData.relativeBoundingBox.xMax]})),o=ln(e.map(function(c){return c.score[0]})),[4,Xa.nonMaxSuppressionAsync(s,o,t,n)];case 1:return[4,(i=u.sent()).array()];case 2:return a=u.sent(),l=e.filter(function(c,d){return a.indexOf(d)>-1}),Nt([s,o,i]),[2,l]}})})}function vG(e,t,n){return Rs(this,void 0,void 0,function(){var r,s,o,i,a;return Fs(this,function(l){switch(l.label){case 0:return r=e[0],s=e[1],o=function(u,c,d){return Le(function(){var f,p,g,y;d.reverseOutputOrder?(p=Wt(De(u,[0,d.boxCoordOffset+0],[-1,1])),f=Wt(De(u,[0,d.boxCoordOffset+1],[-1,1])),y=Wt(De(u,[0,d.boxCoordOffset+2],[-1,1])),g=Wt(De(u,[0,d.boxCoordOffset+3],[-1,1]))):(f=Wt(De(u,[0,d.boxCoordOffset+0],[-1,1])),p=Wt(De(u,[0,d.boxCoordOffset+1],[-1,1])),g=Wt(De(u,[0,d.boxCoordOffset+2],[-1,1])),y=Wt(De(u,[0,d.boxCoordOffset+3],[-1,1]))),p=$e(he(je(p,d.xScale),c.w),c.x),f=$e(he(je(f,d.yScale),c.h),c.y),d.applyExponentialOnBoxSize?(g=he(Is(je(g,d.hScale)),c.h),y=he(Is(je(y,d.wScale)),c.w)):(g=he(je(g,d.hScale),c.h),y=he(je(y,d.wScale),c.h));var E=Re(f,je(g,2)),v=Re(p,je(y,2)),x=$e(f,je(g,2)),$=$e(p,je(y,2)),N=en([ie(E,[d.numBoxes,1]),ie(v,[d.numBoxes,1]),ie(x,[d.numBoxes,1]),ie($,[d.numBoxes,1])],1);if(d.numKeypoints)for(var I=0;I<d.numKeypoints;++I){var O=d.keypointCoordOffset+I*d.numValuesPerKeypoint,U=void 0,C=void 0;d.reverseOutputOrder?(U=Wt(De(u,[0,O],[-1,1])),C=Wt(De(u,[0,O+1],[-1,1]))):(C=Wt(De(u,[0,O],[-1,1])),U=Wt(De(u,[0,O+1],[-1,1])));var j=$e(he(je(U,d.xScale),c.w),c.x),F=$e(he(je(C,d.yScale),c.h),c.y);N=en([N,ie(j,[d.numBoxes,1]),ie(F,[d.numBoxes,1])],1)}return N})}(s,t,n),i=Le(function(){var u=r;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(u=yw(r,-n.scoreClippingThresh,n.scoreClippingThresh)),u=li(u)):u}),[4,bG(o,i,n)];case 1:return a=l.sent(),Nt([o,i]),[2,a]}})})}function bG(e,t,n){return Rs(this,void 0,void 0,function(){var r,s,o,i,a,l,u,c,d,f,p,g;return Fs(this,function(y){switch(y.label){case 0:return r=[],[4,e.data()];case 1:return s=y.sent(),[4,t.data()];case 2:for(o=y.sent(),i=0;i<n.numBoxes;++i)if(!(n.minScoreThresh!=null&&o[i]<n.minScoreThresh||(a=i*n.numCoords,l=wG(s[a+0],s[a+1],s[a+2],s[a+3],o[i],n.flipVertically,i),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,f=0;f<d;f+=n.numValuesPerKeypoint)p=a+n.keypointCoordOffset+f,g={x:s[p+0],y:n.flipVertically?1-s[p+1]:s[p+1]},c.relativeKeypoints.push(g);r.push(l)}return[2,r]}})})}function wG(e,t,n,r,s,o,i){return{score:[s],ind:i,locationData:{relativeBoundingBox:{xMin:t,yMin:o?1-n:e,xMax:r,yMax:o?1-e:n,width:r-t,height:n-e}}}}var mf,xG={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},SG={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Th={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},EG={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},TG={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},$G={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},kG={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},NG=function(){function e(t,n,r){this.detectorModel=n,this.maxFaces=r,t==="full"?(this.imageToTensorConfig=kG,this.tensorsToDetectionConfig=TG,this.anchors=Py(SG)):(this.imageToTensorConfig=$G,this.tensorsToDetectionConfig=EG,this.anchors=Py(xG));var s=ln(this.anchors.map(function(l){return l.width})),o=ln(this.anchors.map(function(l){return l.height})),i=ln(this.anchors.map(function(l){return l.xCenter})),a=ln(this.anchors.map(function(l){return l.yCenter}));this.anchorTensor={x:i,y:a,w:s,h:o}}return e.prototype.dispose=function(){this.detectorModel.dispose(),Nt([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(t,n){return n===void 0&&(n=!1),Rs(this,void 0,void 0,function(){var r,s,o,i,a,l,u,c,d,f,p;return Fs(this,function(g){switch(g.label){case 0:return t==null?(this.reset(),[2,[]]):(r=Le(function(){var y=ht(px(t),"float32");return n&&(y=Wt(Xa.flipLeftRight(mr(y,0)),[0])),y}),s=gG(r,this.imageToTensorConfig),o=s.imageTensor,i=s.transformationMatrix,a=this.detectorModel.execute(o,"Identity:0"),l=function(y){return Le(function(){var E=function($){return Le(function(){return[De($,[0,0,0],[1,-1,1]),De($,[0,0,1],[1,-1,-1])]})}(y),v=E[0],x=E[1];return{boxes:Wt(x),logits:Wt(v)}})}(a),u=l.boxes,[4,vG([c=l.logits,u],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(d=g.sent()).length===0?(Nt([r,o,a,c,u]),[2,d]):[4,yG(d,this.maxFaces,.3)];case 2:return f=g.sent(),p=function(y,E){y===void 0&&(y=[]);var v,x=(v=E,[].concat.apply([],v));return y.forEach(function($){var N=$.locationData;N.relativeKeypoints.forEach(function(F){var H=Iy(x,[F.x,F.y]),Y=H[0],V=H[1];F.x=Y,F.y=V});var I=N.relativeBoundingBox,O=Number.MAX_VALUE,U=Number.MAX_VALUE,C=Number.MIN_VALUE,j=Number.MIN_VALUE;[[I.xMin,I.yMin],[I.xMin+I.width,I.yMin],[I.xMin+I.width,I.yMin+I.height],[I.xMin,I.yMin+I.height]].forEach(function(F){var H=Iy(x,F),Y=H[0],V=H[1];O=Math.min(O,Y),C=Math.max(C,Y),U=Math.min(U,V),j=Math.max(j,V)}),N.relativeBoundingBox={xMin:O,xMax:C,yMin:U,yMax:j,width:C-O,height:j-U}}),y}(f,i),Nt([r,o,a,c,u]),[2,p]}})})},e.prototype.estimateFaces=function(t,n){return Rs(this,void 0,void 0,function(){var r,s;return Fs(this,function(o){return r=fx(t),s=!!n&&n.flipHorizontal,[2,this.detectFaces(t,s).then(function(i){return i.map(function(a){for(var l=a.locationData.relativeKeypoints.map(function(g,y){return No(No({},g),{x:g.x*r.width,y:g.y*r.height,name:dx[y]})}),u=a.locationData.relativeBoundingBox,c=0,d=["width","xMax","xMin"];c<d.length;c++)u[d[c]]*=r.width;for(var f=0,p=["height","yMax","yMin"];f<p.length;f++)u[p[f]]*=r.height;return{keypoints:l,box:u}})})]})})},e}();function CG(e){return Rs(this,void 0,void 0,function(){var t,n,r;return Fs(this,function(s){switch(s.label){case 0:return t=function(o){if(o==null)return No({},Th);var i=No({},o);return i.modelType==null&&(i.modelType=Th.modelType),i.maxFaces==null&&(i.maxFaces=Th.maxFaces),i.detectorModelUrl==null&&(i.modelType==="full"?i.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":i.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),i}(e),n=typeof t.detectorModelUrl=="string"&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,lx(t.detectorModelUrl,{fromTFHub:n})];case 1:return r=s.sent(),[2,new NG(t.modelType,r,t.maxFaces)]}})})}function _G(e,t){return Rs(this,void 0,void 0,function(){var n,r;return Fs(this,function(s){if(e===mf.MediaPipeFaceDetector){if(r=void 0,(n=t)!=null){if(n.runtime==="tfjs")return[2,CG(n)];if(n.runtime==="mediapipe")return[2,mG(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r)}throw new Error(e+" is not a supported model name.")})})}function $h(e){return e.width*e.height}function Oy(e){var t=e.xCenter-e.width/2,n=t+e.width,r=e.yCenter-e.height/2;return{xMin:t,xMax:n,yMin:r,yMax:r+e.height,width:e.width,height:e.height}}function PG(e,t){var n=Oy(e),r=Oy(t);if(!function(i,a){return!(i.xMax<a.xMin||a.xMax<i.xMin||i.yMax<a.yMin||a.yMax<i.yMin)}(n,r))return 0;var s=$h(function(i,a){var l=Math.max(i.xMin,a.xMin),u=Math.min(i.xMax,a.xMax),c=Math.max(i.yMin,a.yMin),d=Math.min(i.yMax,a.yMax);return{xMin:l,xMax:u,yMin:c,yMax:d,width:Math.max(u-l,0),height:Math.max(d-c,0)}}(n,r)),o=$h(n)+$h(r)-s;return o>0?s/o:0}function AG(e,t,n,r){var s=e.width,o=e.height,i=1,a=Math.cos(e.rotation),l=Math.sin(e.rotation),u=e.xCenter,c=e.yCenter,d=1/t,f=1/n,p=new Array(16);return p[0]=s*a*i*d,p[1]=-o*l*d,p[2]=0,p[3]=(-.5*s*a*i+.5*o*l+u)*d,p[4]=s*l*i*f,p[5]=o*a*f,p[6]=0,p[7]=(-.5*o*a-.5*s*l*i+c)*f,p[8]=0,p[9]=0,p[10]=s*d,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,function(g){if(g.length!==16)throw new Error("Array length must be 16 but got "+g.length);return[[g[0],g[1],g[2],g[3]],[g[4],g[5],g[6],g[7]],[g[8],g[9],g[10],g[11]],[g[12],g[13],g[14],g[15]]]}(p)}function hx(e){return e instanceof Pt?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function mx(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function gx(e){return e instanceof Pt?e:sx(e)}function kh(e,t){R(e.width!==0,function(){return t+" width cannot be 0."}),R(e.height!==0,function(){return t+" height cannot be 0."})}function IG(e,t){var n=function(r,s,o,i){var a=s-r,l=i-o,u=l/a;return{scale:u,offset:o-r*u}}(0,255,t[0],t[1]);return Le(function(){return $e(he(e,n.scale),n.offset)})}function OG(e,t,n){var r=t.outputTensorSize,s=t.keepAspectRatio,o=t.borderMode,i=t.outputTensorFloatRange,a=hx(e),l=function(f,p){return p?{xCenter:p.xCenter*f.width,yCenter:p.yCenter*f.height,width:p.width*f.width,height:p.height*f.height,rotation:p.rotation}:{xCenter:.5*f.width,yCenter:.5*f.height,width:f.width,height:f.height,rotation:0}}(a,n),u=function(f,p,g){if(g===void 0&&(g=!1),!g)return{top:0,left:0,right:0,bottom:0};var y=p.height,E=p.width;kh(p,"targetSize"),kh(f,"roi");var v,x,$=y/E,N=f.height/f.width,I=0,O=0;return $>N?(v=f.width,x=f.width*$,O=(1-N/$)/2):(v=f.height/$,x=f.height,I=(1-$/N)/2),f.width=v,f.height=x,{top:O,left:I,right:I,bottom:O}}(l,r,s),c=AG(l,a.width,a.height),d=Le(function(){var f=gx(e),p=wo(function(E,v,x){return kh(x,"inputResolution"),[1/x.width*E[0][0]*v.width,1/x.height*E[0][1]*v.width,E[0][3]*v.width,1/x.width*E[1][0]*v.height,1/x.height*E[1][1]*v.height,E[1][3]*v.height,0,0]}(c,a,r),[1,8]),g=o==="zero"?"constant":"nearest",y=Xa.transform(mr(ht(f,"float32")),p,"bilinear",g,0,[r.height,r.width]);return i!=null?IG(y,i):y});return{imageTensor:d,padding:u,transformationMatrix:c}}function Dy(e){return{xCenter:e.xMin+e.width/2,yCenter:e.yMin+e.height/2,width:e.width,height:e.height}}function DG(e){var t=e.relativeKeypoints;if(t.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var n=Number.MAX_VALUE,r=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MIN_VALUE;return t.forEach(function(i){n=Math.min(n,i.x),s=Math.max(s,i.x),r=Math.min(r,i.y),o=Math.max(o,i.y)}),{xCenter:(n+s)/2,yCenter:(r+o)/2,width:s-n,height:o-r}}function Ry(e,t,n,r,s){var o=n==="rect"?function(i,a,l){var u,c=i.locationData;return u=Dy(c.boundingBox),u}(e):function(i,a){var l=i.locationData;return a==="boundingbox"?Dy(l.relativeBoundingBox):DG(l)}(e,t);return s&&(o.rotation=function(i,a,l){var u,c=i.locationData,d=l.rotationVectorStartKeypointIndex,f=l.rotationVectorEndKeypointIndex;u=l.rotationVectorTargetAngle?l.rotationVectorTargetAngle:Math.PI*l.rotationVectorTargetAngleDegree/180;var p=c.relativeKeypoints[d].x*a.width,g=c.relativeKeypoints[d].y*a.height,y=c.relativeKeypoints[f].x*a.width,E=c.relativeKeypoints[f].y*a.height;return mx(u-Math.atan2(-(E-g),y-p))}(e,r,s)),o}function RG(e,t,n){for(var r=0;r<t.length;++r){var s=t[r],o=n[e[r]];o.x=s.x,o.y=s.y}}function FG(e,t,n,r){if(typeof t=="string"){if(t==="copy")for(var s=0;s<n.length;++s)r[e[s]].z=n[s].z}else{var o=function(i,a){for(var l=0,u=0;u<a.length;++u)l+=i[a[u]].z;return l/a.length}(r,t);for(s=0;s<e.length;++s)r[e[s]].z=o}}function MG(e,t){for(var n=function(a){var l=[].concat.apply([],a.map(function(p){return p.indexesMapping}));if(l.length===0)throw new Error("There should be at least one landmark in indexes mapping");var u=l[0],c=l[0],d=new Set(l);d.forEach(function(p){u=Math.min(u,p),c=Math.max(c,p)});var f=d.size;if(u!==0)throw new Error("Indexes are expected to start with 0 instead of "+u);if(c+1!==f)throw new Error("Indexes should have no gaps but "+(c-f+1)+" indexes are missing");return f}(t),r=new Array(n).fill(null).map(Object),s=0;s<e.length;++s){var o=e[s],i=t[s];if(o.length!==i.indexesMapping.length)throw new Error("There are "+o.length+" refinement landmarks while mapping has "+i.indexesMapping.length);RG(i.indexesMapping,o,r),FG(i.indexesMapping,i.zRefinement,o,r)}return r}function LG(e,t){return e.map(function(n){var r=Mr(Mr({},n),{x:n.x*t.width,y:n.y*t.height});return n.z!=null&&(r.z=n.z*t.width),r})}function BG(e,t){return e==="none"?t:function(n){return 1/(1+Math.exp(-n))}(t)}function Vo(e,t,n,r){return vs(this,void 0,void 0,function(){var s,o,i,a,l,u,c,d;return bs(this,function(f){switch(f.label){case 0:return n=n||t.flipHorizontally||!1,r=r||t.flipVertically||!1,s=e.size,o=s/t.numLandmarks,[4,e.data()];case 1:for(i=f.sent(),a=[],l=0;l<t.numLandmarks;++l)u=l*o,(d={x:0,y:0}).x=n?t.inputImageWidth-i[u]:i[u],o>1&&(d.y=r?t.inputImageHeight-i[u+1]:i[u+1]),o>2&&(d.z=i[u+2]),o>3&&(d.score=BG(t.visibilityActivation,i[u+3])),a.push(d);for(c=0;c<a.length;++c)(d=a[c]).x=d.x/t.inputImageWidth,d.y=d.y/t.inputImageHeight,d.z=d.z/t.inputImageWidth/(t.normalizeZ||1);return[2,a]}})})}function Fy(e,t,n){var r=e.width,s=e.height,o=e.rotation;if(n.rotation==null&&n.rotationDegree==null||(o=function(u,c){return c.rotation!=null?u+=c.rotation:c.rotationDegree!=null&&(u+=Math.PI*c.rotationDegree/180),mx(u)}(o,n)),o===0)e.xCenter=e.xCenter+r*n.shiftX,e.yCenter=e.yCenter+s*n.shiftY;else{var i=(t.width*r*n.shiftX*Math.cos(o)-t.height*s*n.shiftY*Math.sin(o))/t.width,a=(t.width*r*n.shiftX*Math.sin(o)+t.height*s*n.shiftY*Math.cos(o))/t.height;e.xCenter=e.xCenter+i,e.yCenter=e.yCenter+a}{var l=Math.max(r*t.width,s*t.height);r=l/t.width,s=l/t.height}return e.width=r*n.scaleX,e.height=s*n.scaleY,e}(mf||(mf={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var Nh={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},Ch={flipHorizontal:!1,staticImageMode:!1},My={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5,squareLong:!0},jG={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1],borderMode:"replicate"},Ly={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},zG={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},By={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},jy={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},VG={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},KG={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},UG={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},WG={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},HG={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},GG={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},Ti,qG=function(){function e(t,n,r,s){this.detector=t,this.landmarkModel=n,this.maxFaces=r,this.withAttention=s,this.prevFaceRectsFromLandmarks=null}return e.prototype.estimateFaces=function(t,n){return vs(this,void 0,void 0,function(){var r,s,o,i,a,l,u,c,d,f,p,g,y,E=this;return bs(this,function(v){switch(v.label){case 0:return r=function(N){if(N==null)return Mr({},Ch);var I=Mr({},N);return I.flipHorizontal==null&&(I.flipHorizontal=Ch.flipHorizontal),I.staticImageMode==null&&(I.staticImageMode=Ch.staticImageMode),I}(n),t==null?(this.reset(),[2,[]]):(s=hx(t),o=Le(function(){var N=ht(gx(t),"float32");return r.flipHorizontal&&(N=Wt(Xa.flipLeftRight(mr(N,0)),[0])),N}),i=this.prevFaceRectsFromLandmarks,r.staticImageMode||i==null||i.length<this.maxFaces?[4,this.detector.detectFaces(o,!1)]:[3,2]);case 1:return(l=v.sent()).length===0?(this.reset(),o.dispose(),[2,[]]):(a=l.map(function(N){return E.faceDetectionFrontDetectionToRoi(N,s)}),[3,3]);case 2:a=[],v.label=3;case 3:return x=.5,$=[],[a,i||[]].forEach(function(N){return N.forEach(function(I){($=$.filter(function(O){return PG(I,O)<=x})).push(I)})}),u=$,[4,Promise.all(u.map(function(N){return E.faceLandmark(N,o)}))];case 4:for(c=v.sent(),d=[],this.prevFaceRectsFromLandmarks=[],f=0;f<c.length;++f)(p=c[f])!=null&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(p,s)),(g=LG(p,s))!=null&&g.forEach(function(N,I){var O=cx.get(I);O!=null&&(N.name=O)}),y=B2(g),d.push({keypoints:g,box:y.locationData.relativeBoundingBox}));return o.dispose(),[2,d]}var x,$})})},e.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},e.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},e.prototype.faceDetectionFrontDetectionToRoi=function(t,n){return Fy(Ry(t,"boundingbox","normRect",n,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),n,My)},e.prototype.faceLandmark=function(t,n){return vs(this,void 0,void 0,function(){var r,s,o,i,a,l,u;return bs(this,function(c){switch(c.label){case 0:return r=OG(n,jG,t).imageTensor,s=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),o=this.landmarkModel.execute(r,s),i=o[0],a=o.slice(1),[4,i.data()];case 1:return c.sent()[0]<.5?(Nt(o),Nt(r),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention(a)]:[3,3];case 2:return l=c.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks(a)];case 4:l=c.sent(),c.label=5;case 5:return u=function(d,f,p){p===void 0&&(p={ignoreRotation:!1});for(var g=[],y=0,E=d;y<E.length;y++){var v=E[y],x=v.x-.5,$=v.y-.5,N=p.ignoreRotation?0:f.rotation,I=Math.cos(N)*x-Math.sin(N)*$,O=Math.sin(N)*x+Math.cos(N)*$;I=I*f.width+f.xCenter,O=O*f.height+f.yCenter;var U=v.z*f.width,C=Mr({},v);C.x=I,C.y=O,C.z=U,g.push(C)}return g}(l,t),Nt(o),Nt(r),[2,u]}})})},e.prototype.tensorsToFaceLandmarks=function(t){return vs(this,void 0,void 0,function(){return bs(this,function(n){return[2,Vo(t[0],Ly)]})})},e.prototype.tensorsToFaceLandmarksWithAttention=function(t){return vs(this,void 0,void 0,function(){var n,r,s,o,i,a;return bs(this,function(l){switch(l.label){case 0:return[4,Vo(t[0],Ly)];case 1:return n=l.sent(),[4,Vo(t[1],zG)];case 2:return r=l.sent(),[4,Vo(t[3],By)];case 3:return s=l.sent(),[4,Vo(t[5],By)];case 4:return o=l.sent(),[4,Vo(t[4],jy)];case 5:return i=l.sent(),[4,Vo(t[2],jy)];case 6:return a=l.sent(),[2,MG([n,r,s,o,i,a],[VG,KG,UG,WG,HG,GG])]}})})},e.prototype.faceLandmarksToRoi=function(t,n){return Fy(Ry(B2(t),"boundingbox","normRect",n,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),n,My)},e}();function XG(e){return vs(this,void 0,void 0,function(){var t,n,r,s;return bs(this,function(o){switch(o.label){case 0:return t=function(i){if(i==null)return Mr({},Nh);var a=Mr({},i);return a.runtime="tfjs",a.maxFaces==null&&(a.maxFaces=Nh.maxFaces),a.refineLandmarks==null&&(a.refineLandmarks=Nh.refineLandmarks),a.landmarkModelUrl==null&&(a.landmarkModelUrl=a.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),a}(e),n=typeof t.landmarkModelUrl=="string"&&t.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,lx(t.landmarkModelUrl,{fromTFHub:n})];case 1:return r=o.sent(),[4,_G(mf.MediaPipeFaceDetector,{modelType:"short",maxFaces:t.maxFaces,detectorModelUrl:t.detectorModelUrl,runtime:t.runtime})];case 2:return s=o.sent(),[2,new qG(s,r,t.maxFaces,t.refineLandmarks)]}})})}function YG(e,t){return vs(this,void 0,void 0,function(){var n,r;return bs(this,function(s){if(e===Ti.MediaPipeFaceMesh){if(r=void 0,(n=t)!=null){if(n.runtime==="tfjs")return[2,XG(n)];if(n.runtime==="mediapipe")return[2,fG(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r)}throw new Error(e+" is not a supported model name.")})})}(function(e){e.MediaPipeFaceMesh="MediaPipeFaceMesh"})(Ti||(Ti={}));var JG=Object.freeze({__proto__:null,getKeypointIndexByContour:function(e){if(e===Ti.MediaPipeFaceMesh)return ux;throw new Error("Model "+e+" is not supported.")},getAdjacentPairs:function(e){if(e===Ti.MediaPipeFaceMesh)return uG;throw new Error("Model "+e+" is not supported.")}});const Hn=468,Hi=5,zy="#32EEDB",Vy="#FF2C35",_h={"640 X 480":{width:640,height:480},"640 X 360":{width:640,height:360},"360 X 270":{width:360,height:270}},io={camera:{targetFPS:60,sizeOption:"640 X 480"},backend:"",flags:{},modelConfig:{maxFaces:2,refineLandmarks:!0,triangulateMesh:!0,boundingBox:!0}},QG={lips:"#E0E0E0",leftEye:"#30FF30",leftEyebrow:"#30FF30",leftIris:"#30FF30",rightEye:"#FF3030",rightEyebrow:"#FF3030",rightIris:"#FF3030",faceOval:"#E0E0E0"};async function ZG(){const e=Ti.MediaPipeFaceMesh;return YG(e,{runtime:"mediapipe",maxFaces:io.modelConfig.maxFaces,refineLandmarks:io.modelConfig.refineLandmarks,triangulateMesh:io.modelConfig.triangulateMesh,boundingBox:io.modelConfig.boundingBox,solutionPath:"/recognition-system/node_modules/@mediapipe/face_mesh"})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zc=[127,34,139,11,0,37,232,231,120,72,37,39,128,121,47,232,121,128,104,69,67,175,171,148,157,154,155,118,50,101,73,39,40,9,151,108,48,115,131,194,204,211,74,40,185,80,42,183,40,92,186,230,229,118,202,212,214,83,18,17,76,61,146,160,29,30,56,157,173,106,204,194,135,214,192,203,165,98,21,71,68,51,45,4,144,24,23,77,146,91,205,50,187,201,200,18,91,106,182,90,91,181,85,84,17,206,203,36,148,171,140,92,40,39,193,189,244,159,158,28,247,246,161,236,3,196,54,68,104,193,168,8,117,228,31,189,193,55,98,97,99,126,47,100,166,79,218,155,154,26,209,49,131,135,136,150,47,126,217,223,52,53,45,51,134,211,170,140,67,69,108,43,106,91,230,119,120,226,130,247,63,53,52,238,20,242,46,70,156,78,62,96,46,53,63,143,34,227,173,155,133,123,117,111,44,125,19,236,134,51,216,206,205,154,153,22,39,37,167,200,201,208,36,142,100,57,212,202,20,60,99,28,158,157,35,226,113,160,159,27,204,202,210,113,225,46,43,202,204,62,76,77,137,123,116,41,38,72,203,129,142,64,98,240,49,102,64,41,73,74,212,216,207,42,74,184,169,170,211,170,149,176,105,66,69,122,6,168,123,147,187,96,77,90,65,55,107,89,90,180,101,100,120,63,105,104,93,137,227,15,86,85,129,102,49,14,87,86,55,8,9,100,47,121,145,23,22,88,89,179,6,122,196,88,95,96,138,172,136,215,58,172,115,48,219,42,80,81,195,3,51,43,146,61,171,175,199,81,82,38,53,46,225,144,163,110,246,33,7,52,65,66,229,228,117,34,127,234,107,108,69,109,108,151,48,64,235,62,78,191,129,209,126,111,35,143,163,161,246,117,123,50,222,65,52,19,125,141,221,55,65,3,195,197,25,7,33,220,237,44,70,71,139,122,193,245,247,130,33,71,21,162,153,158,159,170,169,150,188,174,196,216,186,92,144,160,161,2,97,167,141,125,241,164,167,37,72,38,12,145,159,160,38,82,13,63,68,71,226,35,111,158,153,154,101,50,205,206,92,165,209,198,217,165,167,97,220,115,218,133,112,243,239,238,241,214,135,169,190,173,133,171,208,32,125,44,237,86,87,178,85,86,179,84,85,180,83,84,181,201,83,182,137,93,132,76,62,183,61,76,184,57,61,185,212,57,186,214,207,187,34,143,156,79,239,237,123,137,177,44,1,4,201,194,32,64,102,129,213,215,138,59,166,219,242,99,97,2,94,141,75,59,235,24,110,228,25,130,226,23,24,229,22,23,230,26,22,231,112,26,232,189,190,243,221,56,190,28,56,221,27,28,222,29,27,223,30,29,224,247,30,225,238,79,20,166,59,75,60,75,240,147,177,215,20,79,166,187,147,213,112,233,244,233,128,245,128,114,188,114,217,174,131,115,220,217,198,236,198,131,134,177,132,58,143,35,124,110,163,7,228,110,25,356,389,368,11,302,267,452,350,349,302,303,269,357,343,277,452,453,357,333,332,297,175,152,377,384,398,382,347,348,330,303,304,270,9,336,337,278,279,360,418,262,431,304,408,409,310,415,407,270,409,410,450,348,347,422,430,434,313,314,17,306,307,375,387,388,260,286,414,398,335,406,418,364,367,416,423,358,327,251,284,298,281,5,4,373,374,253,307,320,321,425,427,411,421,313,18,321,405,406,320,404,405,315,16,17,426,425,266,377,400,369,322,391,269,417,465,464,386,257,258,466,260,388,456,399,419,284,332,333,417,285,8,346,340,261,413,441,285,327,460,328,355,371,329,392,439,438,382,341,256,429,420,360,364,394,379,277,343,437,443,444,283,275,440,363,431,262,369,297,338,337,273,375,321,450,451,349,446,342,467,293,334,282,458,461,462,276,353,383,308,324,325,276,300,293,372,345,447,382,398,362,352,345,340,274,1,19,456,248,281,436,427,425,381,256,252,269,391,393,200,199,428,266,330,329,287,273,422,250,462,328,258,286,384,265,353,342,387,259,257,424,431,430,342,353,276,273,335,424,292,325,307,366,447,345,271,303,302,423,266,371,294,455,460,279,278,294,271,272,304,432,434,427,272,407,408,394,430,431,395,369,400,334,333,299,351,417,168,352,280,411,325,319,320,295,296,336,319,403,404,330,348,349,293,298,333,323,454,447,15,16,315,358,429,279,14,15,316,285,336,9,329,349,350,374,380,252,318,402,403,6,197,419,318,319,325,367,364,365,435,367,397,344,438,439,272,271,311,195,5,281,273,287,291,396,428,199,311,271,268,283,444,445,373,254,339,263,466,249,282,334,296,449,347,346,264,447,454,336,296,299,338,10,151,278,439,455,292,407,415,358,371,355,340,345,372,390,249,466,346,347,280,442,443,282,19,94,370,441,442,295,248,419,197,263,255,359,440,275,274,300,383,368,351,412,465,263,467,466,301,368,389,380,374,386,395,378,379,412,351,419,436,426,322,373,390,388,2,164,393,370,462,461,164,0,267,302,11,12,374,373,387,268,12,13,293,300,301,446,261,340,385,384,381,330,266,425,426,423,391,429,355,437,391,327,326,440,457,438,341,382,362,459,457,461,434,430,394,414,463,362,396,369,262,354,461,457,316,403,402,315,404,403,314,405,404,313,406,405,421,418,406,366,401,361,306,408,407,291,409,408,287,410,409,432,436,410,434,416,411,264,368,383,309,438,457,352,376,401,274,275,4,421,428,262,294,327,358,433,416,367,289,455,439,462,370,326,2,326,370,305,460,455,254,449,448,255,261,446,253,450,449,252,451,450,256,452,451,341,453,452,413,464,463,441,413,414,258,442,441,257,443,442,259,444,443,260,445,444,467,342,445,459,458,250,289,392,290,290,328,460,376,433,435,250,290,392,411,416,433,341,463,464,453,464,465,357,465,412,343,412,399,360,363,440,437,399,456,420,456,363,401,435,288,372,383,353,339,255,249,448,261,255,133,243,190,133,155,112,33,246,247,33,130,25,398,384,286,362,398,414,362,463,341,263,359,467,263,249,255,466,467,260,75,60,166,238,239,79,162,127,139,72,11,37,121,232,120,73,72,39,114,128,47,233,232,128,103,104,67,152,175,148,173,157,155,119,118,101,74,73,40,107,9,108,49,48,131,32,194,211,184,74,185,191,80,183,185,40,186,119,230,118,210,202,214,84,83,17,77,76,146,161,160,30,190,56,173,182,106,194,138,135,192,129,203,98,54,21,68,5,51,4,145,144,23,90,77,91,207,205,187,83,201,18,181,91,182,180,90,181,16,85,17,205,206,36,176,148,140,165,92,39,245,193,244,27,159,28,30,247,161,174,236,196,103,54,104,55,193,8,111,117,31,221,189,55,240,98,99,142,126,100,219,166,218,112,155,26,198,209,131,169,135,150,114,47,217,224,223,53,220,45,134,32,211,140,109,67,108,146,43,91,231,230,120,113,226,247,105,63,52,241,238,242,124,46,156,95,78,96,70,46,63,116,143,227,116,123,111,1,44,19,3,236,51,207,216,205,26,154,22,165,39,167,199,200,208,101,36,100,43,57,202,242,20,99,56,28,157,124,35,113,29,160,27,211,204,210,124,113,46,106,43,204,96,62,77,227,137,116,73,41,72,36,203,142,235,64,240,48,49,64,42,41,74,214,212,207,183,42,184,210,169,211,140,170,176,104,105,69,193,122,168,50,123,187,89,96,90,66,65,107,179,89,180,119,101,120,68,63,104,234,93,227,16,15,85,209,129,49,15,14,86,107,55,9,120,100,121,153,145,22,178,88,179,197,6,196,89,88,96,135,138,136,138,215,172,218,115,219,41,42,81,5,195,51,57,43,61,208,171,199,41,81,38,224,53,225,24,144,110,105,52,66,118,229,117,227,34,234,66,107,69,10,109,151,219,48,235,183,62,191,142,129,126,116,111,143,7,163,246,118,117,50,223,222,52,94,19,141,222,221,65,196,3,197,45,220,44,156,70,139,188,122,245,139,71,162,145,153,159,149,170,150,122,188,196,206,216,92,163,144,161,164,2,167,242,141,241,0,164,37,11,72,12,144,145,160,12,38,13,70,63,71,31,226,111,157,158,154,36,101,205,203,206,165,126,209,217,98,165,97,237,220,218,237,239,241,210,214,169,140,171,32,241,125,237,179,86,178,180,85,179,181,84,180,182,83,181,194,201,182,177,137,132,184,76,183,185,61,184,186,57,185,216,212,186,192,214,187,139,34,156,218,79,237,147,123,177,45,44,4,208,201,32,98,64,129,192,213,138,235,59,219,141,242,97,97,2,141,240,75,235,229,24,228,31,25,226,230,23,229,231,22,230,232,26,231,233,112,232,244,189,243,189,221,190,222,28,221,223,27,222,224,29,223,225,30,224,113,247,225,99,60,240,213,147,215,60,20,166,192,187,213,243,112,244,244,233,245,245,128,188,188,114,174,134,131,220,174,217,236,236,198,134,215,177,58,156,143,124,25,110,7,31,228,25,264,356,368,0,11,267,451,452,349,267,302,269,350,357,277,350,452,357,299,333,297,396,175,377,381,384,382,280,347,330,269,303,270,151,9,337,344,278,360,424,418,431,270,304,409,272,310,407,322,270,410,449,450,347,432,422,434,18,313,17,291,306,375,259,387,260,424,335,418,434,364,416,391,423,327,301,251,298,275,281,4,254,373,253,375,307,321,280,425,411,200,421,18,335,321,406,321,320,405,314,315,17,423,426,266,396,377,369,270,322,269,413,417,464,385,386,258,248,456,419,298,284,333,168,417,8,448,346,261,417,413,285,326,327,328,277,355,329,309,392,438,381,382,256,279,429,360,365,364,379,355,277,437,282,443,283,281,275,363,395,431,369,299,297,337,335,273,321,348,450,349,359,446,467,283,293,282,250,458,462,300,276,383,292,308,325,283,276,293,264,372,447,346,352,340,354,274,19,363,456,281,426,436,425,380,381,252,267,269,393,421,200,428,371,266,329,432,287,422,290,250,328,385,258,384,446,265,342,386,387,257,422,424,430,445,342,276,422,273,424,306,292,307,352,366,345,268,271,302,358,423,371,327,294,460,331,279,294,303,271,304,436,432,427,304,272,408,395,394,431,378,395,400,296,334,299,6,351,168,376,352,411,307,325,320,285,295,336,320,319,404,329,330,349,334,293,333,366,323,447,316,15,315,331,358,279,317,14,316,8,285,9,277,329,350,253,374,252,319,318,403,351,6,419,324,318,325,397,367,365,288,435,397,278,344,439,310,272,311,248,195,281,375,273,291,175,396,199,312,311,268,276,283,445,390,373,339,295,282,296,448,449,346,356,264,454,337,336,299,337,338,151,294,278,455,308,292,415,429,358,355,265,340,372,388,390,466,352,346,280,295,442,282,354,19,370,285,441,295,195,248,197,457,440,274,301,300,368,417,351,465,251,301,389,385,380,386,394,395,379,399,412,419,410,436,322,387,373,388,326,2,393,354,370,461,393,164,267,268,302,12,386,374,387,312,268,13,298,293,301,265,446,340,380,385,381,280,330,425,322,426,391,420,429,437,393,391,326,344,440,438,458,459,461,364,434,394,428,396,262,274,354,457,317,316,402,316,315,403,315,314,404,314,313,405,313,421,406,323,366,361,292,306,407,306,291,408,291,287,409,287,432,410,427,434,411,372,264,383,459,309,457,366,352,401,1,274,4,418,421,262,331,294,358,435,433,367,392,289,439,328,462,326,94,2,370,289,305,455,339,254,448,359,255,446,254,253,449,253,252,450,252,256,451,256,341,452,414,413,463,286,441,414,286,258,441,258,257,442,257,259,443,259,260,444,260,467,445,309,459,250,305,289,290,305,290,460,401,376,435,309,250,392,376,411,433,453,341,464,357,453,465,343,357,412,437,343,399,344,360,440,420,437,456,360,420,363,361,401,288,265,372,353,390,339,249,339,448,255];function eq(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function tq(){return/Android/i.test(navigator.userAgent)}function Ky(){return tq()||eq()}function Vc(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function Ph(e,t,n){const r=new Path2D;r.moveTo(t[0][0],t[0][1]);for(let s=1;s<t.length;s++){const o=t[s];r.lineTo(o[0],o[1])}n&&r.closePath(),e.stroke(r)}function nq(e,t,n,r){t.forEach(s=>{const o=s.keypoints.map(a=>[a.x,a.y]);if(r){e.strokeStyle=Vy,e.lineWidth=1;const a=s.box;Ph(e,[[a.xMin,a.yMin],[a.xMax,a.yMin],[a.xMax,a.yMax],[a.xMin,a.yMax]],!0)}if(n){e.strokeStyle=zy,e.lineWidth=.5;for(let a=0;a<zc.length/3;a++){const l=[zc[a*3],zc[a*3+1],zc[a*3+2]].map(u=>o[u]);Ph(e,l,!0)}}else{e.fillStyle=zy;for(let a=0;a<Hn;a++){const l=o[a][0],u=o[a][1];e.beginPath(),e.arc(l,u,1,0,2*Math.PI),e.fill()}}if(o.length>Hn){e.strokeStyle=Vy,e.lineWidth=1;const a=o[Hn],l=Vc(o[Hn+4],o[Hn+2]),u=Vc(o[Hn+3],o[Hn+1]);if(e.beginPath(),e.ellipse(a[0],a[1],u/2,l/2,0,0,2*Math.PI),e.stroke(),o.length>Hn+Hi){const c=o[Hn+Hi],d=Vc(o[Hn+Hi+2],o[Hn+Hi+4]),f=Vc(o[Hn+Hi+3],o[Hn+Hi+1]);e.beginPath(),e.ellipse(c[0],c[1],f/2,d/2,0,0,2*Math.PI),e.stroke()}}const i=JG.getKeypointIndexByContour(Ti.MediaPipeFaceMesh);for(const[a,l]of Object.entries(i)){e.strokeStyle=QG[a],e.lineWidth=3;const u=l.map(c=>o[c]);u.every(c=>c!==void 0)&&Ph(e,u,!1)}})}class gf{constructor(t,n){this.video=t,this.canvas=n,this.ctx=this.canvas.getContext("2d")}static async setupCamera(t,n,r,s){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");const{targetFPS:o,sizeOption:i}=t,a=_h[i],l={audio:!1,video:{facingMode:"user",width:Ky()?_h["360 X 270"].width:a.width,height:Ky()?_h["360 X 270"].height:a.height,frameRate:{ideal:o}}},u=await navigator.mediaDevices.getUserMedia(l),c=new gf(n,r);c.video.srcObject=u,await new Promise(p=>{c.video.onloadedmetadata=g=>{p(g)}}),c.video.play();const d=c.video.videoWidth,f=c.video.videoHeight;return c.video.width=d,c.video.height=f,c.canvas.width=d,c.canvas.height=f,s.style=`width: ${d}px; height: ${f}px`,c.ctx.translate(c.video.videoWidth,0),c.ctx.scale(-1,1),c}drawCtx(){this.ctx.drawImage(this.video,0,0,this.video.videoWidth,this.video.videoHeight)}drawResults(t,n,r){nq(this.ctx,t,n,r)}}const rq=({size:e,height:t,width:n,...r})=>J.jsx("svg",{width:e||n||24,height:e||t||24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:J.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM16.78 9.7L11.11 15.37C10.97 15.51 10.78 15.59 10.58 15.59C10.38 15.59 10.19 15.51 10.05 15.37L7.22 12.54C6.93 12.25 6.93 11.77 7.22 11.48C7.51 11.19 7.99 11.19 8.28 11.48L10.58 13.78L15.72 8.64C16.01 8.35 16.49 8.35 16.78 8.64C17.07 8.93 17.07 9.4 16.78 9.7Z",fill:"currentColor"})}),sq=({fill:e="currentColor",size:t,height:n,width:r,...s})=>J.jsx("svg",{width:t||r||24,height:t||n||24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:J.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.44 6.236c.04.07.11.12.2.12 2.4 0 4.36 1.958 4.36 4.355v5.934A4.368 4.368 0 0117.64 21H6.36A4.361 4.361 0 012 16.645V10.71a4.361 4.361 0 014.36-4.355c.08 0 .16-.04.19-.12l.06-.12.106-.222a97.79 97.79 0 01.714-1.486C7.89 3.51 8.67 3.01 9.64 3h4.71c.97.01 1.76.51 2.22 1.408.157.315.397.822.629 1.31l.141.299.1.22zm-.73 3.836c0 .5.4.9.9.9s.91-.4.91-.9-.41-.909-.91-.909-.9.41-.9.91zm-6.44 1.548c.47-.47 1.08-.719 1.73-.719.65 0 1.26.25 1.72.71.46.459.71 1.068.71 1.717A2.438 2.438 0 0112 15.756c-.65 0-1.26-.25-1.72-.71a2.408 2.408 0 01-.71-1.717v-.01c-.01-.63.24-1.24.7-1.699zm4.5 4.485a3.91 3.91 0 01-2.77 1.15 3.921 3.921 0 01-3.93-3.926 3.865 3.865 0 011.14-2.767A3.921 3.921 0 0112 9.402c1.05 0 2.04.41 2.78 1.15.74.749 1.15 1.738 1.15 2.777a3.958 3.958 0 01-1.16 2.776z",fill:e})});function yf({children:e}){return J.jsx("div",{className:"container mx-auto",children:J.jsx("div",{className:"m-2",children:e})})}function oq({validFaceDetection:e,setValidFaceDetection:t}){const n=P.useRef(null),r=P.useRef(null),s=P.useRef(null),[o,i]=P.useState(null),[a,l]=P.useState(null),[u,c]=P.useState(null),[d,f]=P.useState(null),[p,g]=P.useState(!1);return P.useEffect(()=>(n&&r&&(async()=>{const E=await gf.setupCamera(io.camera,n.current,r.current,s.current);l(E),g(!0);const v=await ZG();i(v)})(),()=>{a&&a.video.srcObject.getTracks().forEach(E=>E.stop()),o&&o.dispose()}),[n,r]),P.useEffect(()=>{if(a!==null&&o!==null){const y=async()=>{a.video.readyState<2&&await new Promise($=>{a.video.onloadeddata=N=>{$(N)}});let x=null;if(o!=null)try{x=await o.estimateFaces(a.video,{flipHorizontal:!1}),x&&x.length>0&&(x.length===1?E(x[0]):t(!1))}catch($){o.dispose(),i(null),alert($)}a.drawCtx(),x&&x.length>0&&a.drawResults(x,io.modelConfig.triangulateMesh,io.modelConfig.boundingBox)},E=x=>{const $=x.box.width*x.box.height;$>0&&$<1e5?c($):f($)},v=async()=>{await y(),requestAnimationFrame(v)};v()}},[a,o,t]),P.useEffect(()=>{u!==null&&d!==null&&Math.abs(d-u)>u*.1&&t(!0)},[u,d,t]),P.useEffect(()=>{p?(!a||a&&!a.video.srcObject.active)&&gf.setupCamera(io.camera,n.current,r.current,s.current).then(y=>{l(y)}):a&&(a.video.srcObject.getTracks().forEach(y=>y.stop()),l(null))},[p,a]),J.jsxs(yf,{children:[p?J.jsx(tf,{className:"my-2",variant:"solid",color:"danger",onClick:()=>g(!p),children:"Close Camera"}):J.jsx(tf,{className:"my-2",variant:"ghost",color:"success",onClick:()=>g(!p),children:"Open Camera"}),J.jsxs(HA,{children:[p&&J.jsxs(UA,{className:"absolute z-10 top-1 flex-col !items-start",children:[J.jsx(Y4,{className:"my-1",startContent:e?J.jsx(rq,{size:18}):J.jsx(sq,{size:18}),variant:"faded",color:e?"success":"danger",children:J.jsx("p",{className:"text-tiny text-white/60 uppercase font-bold",children:e?"Checked Face":"Checking face"})}),!e&&J.jsx(Y4,{color:"warning",children:J.jsx("h4",{className:"text-white font-medium text-large",children:"Move your head closer to and away from the camera"})})]}),J.jsx("div",{className:"mx-auto",children:J.jsxs("div",{className:"canvas-wrapper",ref:s,children:[J.jsx("canvas",{id:"output",ref:r}),J.jsx("video",{id:"video",playsInline:!0,style:{WebkitTransform:"scaleX(-1)",transform:"scaleX(-1)",visibility:"hidden",width:"auto",height:"auto"},ref:n})]})})]})]})}function iq({setValidDistance:e,locations:t}){const[n,r]=P.useState(null),[s,o]=P.useState(null),[i,a]=P.useState(null),[l,u]=P.useState(null);P.useEffect(()=>{const f=(p,g,y,E)=>{const x=(y-p)*(Math.PI/180),$=(E-g)*(Math.PI/180),N=Math.sin(x/2)*Math.sin(x/2)+Math.cos(p*Math.PI/180)*Math.cos(y*Math.PI/180)*Math.sin($/2)*Math.sin($/2);return 6371*(2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N)))};if(l){const p=l==null?void 0:l.lat,g=l==null?void 0:l.long;if(p&&g){const y=f(parseFloat(n),parseFloat(s),p,g);a(y),y<=0&&e(!0)}}},[n,s,e,l]);const c=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(f=>{r(f.coords.latitude),o(f.coords.longitude)},f=>{console.error("Error getting geolocation:",f)}):console.error("Geolocation is not supported by this browser.")},d=f=>{const p=t.find(g=>g.id===Number(f==null?void 0:f.currentKey));u(p)};return J.jsxs(yf,{children:[t&&J.jsx("div",{className:"flex w-full flex-wrap md:flex-nowrap my-3",children:J.jsx(OI,{label:"Select a location",className:"max-w-xs",onSelectionChange:f=>d(f),children:t.map(f=>J.jsx(II,{value:f.name,children:f.name},f.id))})}),J.jsx(tf,{color:"primary",variant:"solid",onClick:c,children:"Get Location"}),n&&s&&J.jsxs("div",{children:[J.jsxs("p",{children:["Distance: ",i]}),J.jsxs("p",{children:["Latitude: ",n]}),J.jsxs("p",{children:["Longitude: ",s]})]})]})}const aq=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var lq=e=>!aq.has(e&&e.code);const uq=wf(lq),yx="axios-retry";function p0(e){const t=["ERR_CANCELED","ECONNABORTED"];return e.response||!e.code||t.includes(e.code)?!1:uq(e)}const vx=["get","head","options"],cq=vx.concat(["put","delete"]);function h0(e){return e.code!=="ECONNABORTED"&&(!e.response||e.response.status>=500&&e.response.status<=599)}function dq(e){var t;return(t=e.config)!=null&&t.method?h0(e)&&vx.indexOf(e.config.method)!==-1:!1}function bx(e){var t;return(t=e.config)!=null&&t.method?h0(e)&&cq.indexOf(e.config.method)!==-1:!1}function wx(e){return p0(e)||bx(e)}function fq(){return 0}function xx(e=0,t=void 0,n=100){const r=2**e*n,s=r*.2*Math.random();return r+s}const pq={retries:3,retryCondition:wx,retryDelay:fq,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{}};function hq(e,t){return{...pq,...t,...e[yx]}}function Uy(e,t){const n=hq(e,t||{});return n.retryCount=n.retryCount||0,n.lastRequestTime=n.lastRequestTime||Date.now(),e[yx]=n,n}function mq(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}async function gq(e,t){const{retries:n,retryCondition:r}=e,s=(e.retryCount||0)<n&&r(t);if(typeof s=="object")try{return await s!==!1}catch{return!1}return s}async function yq(e,t){e.retryCount>=e.retries&&await e.onMaxRetryTimesExceeded(t,e.retryCount)}const Di=(e,t)=>{const n=e.interceptors.request.use(s=>(Uy(s,t),s)),r=e.interceptors.response.use(null,async s=>{const{config:o}=s;if(!o)return Promise.reject(s);const i=Uy(o,t);if(await gq(i,s)){i.retryCount+=1;const{retryDelay:a,shouldResetTimeout:l,onRetry:u}=i,c=a(i.retryCount,s);if(mq(e,o),!l&&o.timeout&&i.lastRequestTime){const d=Date.now()-i.lastRequestTime,f=o.timeout-d-c;if(f<=0)return Promise.reject(s);o.timeout=f}return o.transformRequest=[d=>d],await u(i.retryCount,s,o),new Promise(d=>{setTimeout(()=>d(e(o)),c)})}return await yq(i,s),Promise.reject(s)});return{requestInterceptorId:n,responseInterceptorId:r}};Di.isNetworkError=p0;Di.isSafeRequestError=dq;Di.isIdempotentRequestError=bx;Di.isNetworkOrIdempotentRequestError=wx;Di.exponentialDelay=xx;Di.isRetryableError=h0;var vq=Object.prototype;function bq(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||vq;return e===n}var Sx=bq;function wq(e,t){return function(n){return e(t(n))}}var xq=wq,Sq=xq,Eq=Sq(Object.keys,Object),Tq=Eq,$q=Sx,kq=Tq,Nq=Object.prototype,Cq=Nq.hasOwnProperty;function _q(e){if(!$q(e))return kq(e);var t=[];for(var n in Object(e))Cq.call(e,n)&&n!="constructor"&&t.push(n);return t}var Pq=_q,Aq=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,Ex=Aq,Iq=Ex,Oq=typeof self=="object"&&self&&self.Object===Object&&self,Dq=Iq||Oq||Function("return this")(),Do=Dq,Rq=Do,Fq=Rq.Symbol,Tx=Fq,Wy=Tx,$x=Object.prototype,Mq=$x.hasOwnProperty,Lq=$x.toString,Cl=Wy?Wy.toStringTag:void 0;function Bq(e){var t=Mq.call(e,Cl),n=e[Cl];try{e[Cl]=void 0;var r=!0}catch{}var s=Lq.call(e);return r&&(t?e[Cl]=n:delete e[Cl]),s}var jq=Bq,zq=Object.prototype,Vq=zq.toString;function Kq(e){return Vq.call(e)}var Uq=Kq,Hy=Tx,Wq=jq,Hq=Uq,Gq="[object Null]",qq="[object Undefined]",Gy=Hy?Hy.toStringTag:void 0;function Xq(e){return e==null?e===void 0?qq:Gq:Gy&&Gy in Object(e)?Wq(e):Hq(e)}var sp=Xq;function Yq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kx=Yq,Jq=sp,Qq=kx,Zq="[object AsyncFunction]",eX="[object Function]",tX="[object GeneratorFunction]",nX="[object Proxy]";function rX(e){if(!Qq(e))return!1;var t=Jq(e);return t==eX||t==tX||t==Zq||t==nX}var Nx=rX,sX=Do,oX=sX["__core-js_shared__"],iX=oX,Ah=iX,qy=function(){var e=/[^.]+$/.exec(Ah&&Ah.keys&&Ah.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function aX(e){return!!qy&&qy in e}var lX=aX,uX=Function.prototype,cX=uX.toString;function dX(e){if(e!=null){try{return cX.call(e)}catch{}try{return e+""}catch{}}return""}var Cx=dX,fX=Nx,pX=lX,hX=kx,mX=Cx,gX=/[\\^$.*+?()[\]{}|]/g,yX=/^\[object .+?Constructor\]$/,vX=Function.prototype,bX=Object.prototype,wX=vX.toString,xX=bX.hasOwnProperty,SX=RegExp("^"+wX.call(xX).replace(gX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EX(e){if(!hX(e)||pX(e))return!1;var t=fX(e)?SX:yX;return t.test(mX(e))}var TX=EX;function $X(e,t){return e==null?void 0:e[t]}var kX=$X,NX=TX,CX=kX;function _X(e,t){var n=CX(e,t);return NX(n)?n:void 0}var Hu=_X,PX=Hu,AX=Do,IX=PX(AX,"DataView"),OX=IX,DX=Hu,RX=Do,FX=DX(RX,"Map"),MX=FX,LX=Hu,BX=Do,jX=LX(BX,"Promise"),zX=jX,VX=Hu,KX=Do,UX=VX(KX,"Set"),WX=UX,HX=Hu,GX=Do,qX=HX(GX,"WeakMap"),XX=qX,j2=OX,z2=MX,V2=zX,K2=WX,U2=XX,_x=sp,Ya=Cx,Xy="[object Map]",YX="[object Object]",Yy="[object Promise]",Jy="[object Set]",Qy="[object WeakMap]",Zy="[object DataView]",JX=Ya(j2),QX=Ya(z2),ZX=Ya(V2),eY=Ya(K2),tY=Ya(U2),Ho=_x;(j2&&Ho(new j2(new ArrayBuffer(1)))!=Zy||z2&&Ho(new z2)!=Xy||V2&&Ho(V2.resolve())!=Yy||K2&&Ho(new K2)!=Jy||U2&&Ho(new U2)!=Qy)&&(Ho=function(e){var t=_x(e),n=t==YX?e.constructor:void 0,r=n?Ya(n):"";if(r)switch(r){case JX:return Zy;case QX:return Xy;case ZX:return Yy;case eY:return Jy;case tY:return Qy}return t});var nY=Ho;function rY(e){return e!=null&&typeof e=="object"}var m0=rY,sY=sp,oY=m0,iY="[object Arguments]";function aY(e){return oY(e)&&sY(e)==iY}var lY=aY,ev=lY,uY=m0,Px=Object.prototype,cY=Px.hasOwnProperty,dY=Px.propertyIsEnumerable,fY=ev(function(){return arguments}())?ev:function(e){return uY(e)&&cY.call(e,"callee")&&!dY.call(e,"callee")},pY=fY,hY=Array.isArray,mY=hY,gY=9007199254740991;function yY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gY}var Ax=yY,vY=Nx,bY=Ax;function wY(e){return e!=null&&bY(e.length)&&!vY(e)}var xY=wY,vf={exports:{}};function SY(){return!1}var EY=SY;vf.exports;(function(e,t){var n=Do,r=EY,s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===s,a=i?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(vf,vf.exports);var TY=vf.exports,$Y=sp,kY=Ax,NY=m0,CY="[object Arguments]",_Y="[object Array]",PY="[object Boolean]",AY="[object Date]",IY="[object Error]",OY="[object Function]",DY="[object Map]",RY="[object Number]",FY="[object Object]",MY="[object RegExp]",LY="[object Set]",BY="[object String]",jY="[object WeakMap]",zY="[object ArrayBuffer]",VY="[object DataView]",KY="[object Float32Array]",UY="[object Float64Array]",WY="[object Int8Array]",HY="[object Int16Array]",GY="[object Int32Array]",qY="[object Uint8Array]",XY="[object Uint8ClampedArray]",YY="[object Uint16Array]",JY="[object Uint32Array]",wt={};wt[KY]=wt[UY]=wt[WY]=wt[HY]=wt[GY]=wt[qY]=wt[XY]=wt[YY]=wt[JY]=!0;wt[CY]=wt[_Y]=wt[zY]=wt[PY]=wt[VY]=wt[AY]=wt[IY]=wt[OY]=wt[DY]=wt[RY]=wt[FY]=wt[MY]=wt[LY]=wt[BY]=wt[jY]=!1;function QY(e){return NY(e)&&kY(e.length)&&!!wt[$Y(e)]}var ZY=QY;function eJ(e){return function(t){return e(t)}}var tJ=eJ,bf={exports:{}};bf.exports;(function(e,t){var n=Ex,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,i=o&&n.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=a})(bf,bf.exports);var nJ=bf.exports,rJ=ZY,sJ=tJ,tv=nJ,nv=tv&&tv.isTypedArray,oJ=nv?sJ(nv):rJ,iJ=oJ,aJ=Pq,lJ=nY,uJ=pY,cJ=mY,dJ=xY,fJ=TY,pJ=Sx,hJ=iJ,mJ="[object Map]",gJ="[object Set]",yJ=Object.prototype,vJ=yJ.hasOwnProperty;function bJ(e){if(e==null)return!0;if(dJ(e)&&(cJ(e)||typeof e=="string"||typeof e.splice=="function"||fJ(e)||hJ(e)||uJ(e)))return!e.length;var t=lJ(e);if(t==mJ||t==gJ)return!e.size;if(pJ(e))return!aJ(e).length;for(var n in e)if(vJ.call(e,n))return!1;return!0}var wJ=bJ;const xJ=wf(wJ),SJ=e=>typeof e=="number"?!1:xJ(e);function Ix(e,t){return function(){return e.apply(t,arguments)}}const{toString:EJ}=Object.prototype,{getPrototypeOf:g0}=Object,op=(e=>t=>{const n=EJ.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zr=e=>(e=e.toLowerCase(),t=>op(t)===e),ip=e=>t=>typeof t===e,{isArray:Ja}=Array,Cu=ip("undefined");function TJ(e){return e!==null&&!Cu(e)&&e.constructor!==null&&!Cu(e.constructor)&&vr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ox=Zr("ArrayBuffer");function $J(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ox(e.buffer),t}const kJ=ip("string"),vr=ip("function"),Dx=ip("number"),ap=e=>e!==null&&typeof e=="object",NJ=e=>e===!0||e===!1,cd=e=>{if(op(e)!=="object")return!1;const t=g0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},CJ=Zr("Date"),_J=Zr("File"),PJ=Zr("Blob"),AJ=Zr("FileList"),IJ=e=>ap(e)&&vr(e.pipe),OJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vr(e.append)&&((t=op(e))==="formdata"||t==="object"&&vr(e.toString)&&e.toString()==="[object FormData]"))},DJ=Zr("URLSearchParams"),RJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ja(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function Rx(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Fx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mx=e=>!Cu(e)&&e!==Fx;function W2(){const{caseless:e}=Mx(this)&&this||{},t={},n=(r,s)=>{const o=e&&Rx(t,s)||s;cd(t[o])&&cd(r)?t[o]=W2(t[o],r):cd(r)?t[o]=W2({},r):Ja(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Gu(arguments[r],n);return t}const FJ=(e,t,n,{allOwnKeys:r}={})=>(Gu(t,(s,o)=>{n&&vr(s)?e[o]=Ix(s,n):e[o]=s},{allOwnKeys:r}),e),MJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),LJ=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},BJ=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&g0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},jJ=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},zJ=e=>{if(!e)return null;if(Ja(e))return e;let t=e.length;if(!Dx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},VJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&g0(Uint8Array)),KJ=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},UJ=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},WJ=Zr("HTMLFormElement"),HJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),rv=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),GJ=Zr("RegExp"),Lx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Gu(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},qJ=e=>{Lx(e,(t,n)=>{if(vr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(vr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},XJ=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Ja(e)?r(e):r(String(e).split(t)),n},YJ=()=>{},JJ=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Ih="abcdefghijklmnopqrstuvwxyz",sv="0123456789",Bx={DIGIT:sv,ALPHA:Ih,ALPHA_DIGIT:Ih+Ih.toUpperCase()+sv},QJ=(e=16,t=Bx.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function ZJ(e){return!!(e&&vr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const eQ=e=>{const t=new Array(10),n=(r,s)=>{if(ap(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const o=Ja(r)?[]:{};return Gu(r,(i,a)=>{const l=n(i,s+1);!Cu(l)&&(o[a]=l)}),t[s]=void 0,o}}return r};return n(e,0)},tQ=Zr("AsyncFunction"),nQ=e=>e&&(ap(e)||vr(e))&&vr(e.then)&&vr(e.catch),ae={isArray:Ja,isArrayBuffer:Ox,isBuffer:TJ,isFormData:OJ,isArrayBufferView:$J,isString:kJ,isNumber:Dx,isBoolean:NJ,isObject:ap,isPlainObject:cd,isUndefined:Cu,isDate:CJ,isFile:_J,isBlob:PJ,isRegExp:GJ,isFunction:vr,isStream:IJ,isURLSearchParams:DJ,isTypedArray:VJ,isFileList:AJ,forEach:Gu,merge:W2,extend:FJ,trim:RJ,stripBOM:MJ,inherits:LJ,toFlatObject:BJ,kindOf:op,kindOfTest:Zr,endsWith:jJ,toArray:zJ,forEachEntry:KJ,matchAll:UJ,isHTMLForm:WJ,hasOwnProperty:rv,hasOwnProp:rv,reduceDescriptors:Lx,freezeMethods:qJ,toObjectSet:XJ,toCamelCase:HJ,noop:YJ,toFiniteNumber:JJ,findKey:Rx,global:Fx,isContextDefined:Mx,ALPHABET:Bx,generateString:QJ,isSpecCompliantForm:ZJ,toJSONObject:eQ,isAsyncFn:tQ,isThenable:nQ};function Ye(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}ae.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jx=Ye.prototype,zx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zx[e]={value:e}});Object.defineProperties(Ye,zx);Object.defineProperty(jx,"isAxiosError",{value:!0});Ye.from=(e,t,n,r,s,o)=>{const i=Object.create(jx);return ae.toFlatObject(e,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ye.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const rQ=null;function H2(e){return ae.isPlainObject(e)||ae.isArray(e)}function Vx(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function ov(e,t,n){return e?e.concat(t).map(function(s,o){return s=Vx(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function sQ(e){return ae.isArray(e)&&!e.some(H2)}const oQ=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function lp(e,t,n){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,E){return!ae.isUndefined(E[y])});const r=n.metaTokens,s=n.visitor||c,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(ae.isDate(g))return g.toISOString();if(!l&&ae.isBlob(g))throw new Ye("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(g)||ae.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,y,E){let v=g;if(g&&!E&&typeof g=="object"){if(ae.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(ae.isArray(g)&&sQ(g)||(ae.isFileList(g)||ae.endsWith(y,"[]"))&&(v=ae.toArray(g)))return y=Vx(y),v.forEach(function($,N){!(ae.isUndefined($)||$===null)&&t.append(i===!0?ov([y],N,o):i===null?y:y+"[]",u($))}),!1}return H2(g)?!0:(t.append(ov(E,y,o),u(g)),!1)}const d=[],f=Object.assign(oQ,{defaultVisitor:c,convertValue:u,isVisitable:H2});function p(g,y){if(!ae.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),ae.forEach(g,function(v,x){(!(ae.isUndefined(v)||v===null)&&s.call(t,v,ae.isString(x)?x.trim():x,y,f))===!0&&p(v,y?y.concat(x):[x])}),d.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return p(e),t}function iv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function y0(e,t){this._pairs=[],e&&lp(e,this,t)}const Kx=y0.prototype;Kx.append=function(t,n){this._pairs.push([t,n])};Kx.toString=function(t){const n=t?function(r){return t.call(this,r,iv)}:iv;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function iQ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ux(e,t,n){if(!t)return e;const r=n&&n.encode||iQ,s=n&&n.serialize;let o;if(s?o=s(t,n):o=ae.isURLSearchParams(t)?t.toString():new y0(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class av{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Wx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aQ=typeof URLSearchParams<"u"?URLSearchParams:y0,lQ=typeof FormData<"u"?FormData:null,uQ=typeof Blob<"u"?Blob:null,cQ={isBrowser:!0,classes:{URLSearchParams:aQ,FormData:lQ,Blob:uQ},protocols:["http","https","file","blob","url","data"]},Hx=typeof window<"u"&&typeof document<"u",dQ=(e=>Hx&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),fQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hx,hasStandardBrowserEnv:dQ,hasStandardBrowserWebWorkerEnv:fQ},Symbol.toStringTag,{value:"Module"})),Gr={...pQ,...cQ};function hQ(e,t){return lp(e,new Gr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return Gr.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function mQ(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gQ(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function Gx(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&ae.isArray(s)?s.length:i,l?(ae.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!ae.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&ae.isArray(s[i])&&(s[i]=gQ(s[i])),!a)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const n={};return ae.forEachEntry(e,(r,s)=>{t(mQ(r),s,n,0)}),n}return null}function yQ(e,t,n){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const qu={transitional:Wx,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=ae.isObject(t);if(o&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return s?JSON.stringify(Gx(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hQ(t,this.formSerializer).toString();if((a=ae.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return lp(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),yQ(t)):t}],transformResponse:[function(t){const n=this.transitional||qu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&ae.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?Ye.from(a,Ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gr.classes.FormData,Blob:Gr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{qu.headers[e]={}});const vQ=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bQ=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&vQ[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},lv=Symbol("internals");function _l(e){return e&&String(e).trim().toLowerCase()}function dd(e){return e===!1||e==null?e:ae.isArray(e)?e.map(dd):String(e)}function wQ(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const xQ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Oh(e,t,n,r,s){if(ae.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!ae.isString(t)){if(ae.isString(r))return t.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(t)}}function SQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function EQ(e,t){const n=ae.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}class br{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,l,u){const c=_l(l);if(!c)throw new Error("header name must be a non-empty string");const d=ae.findKey(s,c);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=dd(a))}const i=(a,l)=>ae.forEach(a,(u,c)=>o(u,c,l));return ae.isPlainObject(t)||t instanceof this.constructor?i(t,n):ae.isString(t)&&(t=t.trim())&&!xQ(t)?i(bQ(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=_l(t),t){const r=ae.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return wQ(s);if(ae.isFunction(n))return n.call(this,s,r);if(ae.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=_l(t),t){const r=ae.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Oh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=_l(i),i){const a=ae.findKey(r,i);a&&(!n||Oh(r,r[a],a,n))&&(delete r[a],s=!0)}}return ae.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||Oh(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return ae.forEach(this,(s,o)=>{const i=ae.findKey(r,o);if(i){n[i]=dd(s),delete n[o];return}const a=t?SQ(o):String(o).trim();a!==o&&delete n[o],n[a]=dd(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ae.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[lv]=this[lv]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=_l(i);r[a]||(EQ(s,i),r[a]=!0)}return ae.isArray(t)?t.forEach(o):o(t),this}}br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(br.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ae.freezeMethods(br);function Dh(e,t){const n=this||qu,r=t||n,s=br.from(r.headers);let o=r.data;return ae.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function qx(e){return!!(e&&e.__CANCEL__)}function Xu(e,t,n){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,n),this.name="CanceledError"}ae.inherits(Xu,Ye,{__CANCEL__:!0});function TQ(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const $Q=Gr.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];ae.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&i.push("path="+r),ae.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function NQ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Xx(e,t){return e&&!kQ(t)?NQ(e,t):t}const CQ=Gr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(o){let i=o;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(i){const a=ae.isString(i)?s(i):i;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function _Q(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function PQ(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[o];i||(i=u),n[s]=l,r[s]=u;let d=o,f=0;for(;d!==s;)f+=n[d++],d=d%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function uv(e,t){let n=0;const r=PQ(50,250);return s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-n,l=r(a),u=o<=i;n=o;const c={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&u?(i-o)/l:void 0,event:s};c[t?"download":"upload"]=!0,e(c)}}const AQ=typeof XMLHttpRequest<"u",IQ=AQ&&function(e){return new Promise(function(n,r){let s=e.data;const o=br.from(e.headers).normalize();let{responseType:i,withXSRFToken:a}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let c;if(ae.isFormData(s)){if(Gr.hasStandardBrowserEnv||Gr.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((c=o.getContentType())!==!1){const[y,...E]=c?c.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([y||"multipart/form-data",...E].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const y=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(y+":"+E))}const f=Xx(e.baseURL,e.url);d.open(e.method.toUpperCase(),Ux(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function p(){if(!d)return;const y=br.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),v={data:!i||i==="text"||i==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:y,config:e,request:d};TQ(function($){n($),u()},function($){r($),u()},v),d=null}if("onloadend"in d?d.onloadend=p:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(p)},d.onabort=function(){d&&(r(new Ye("Request aborted",Ye.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new Ye("Network Error",Ye.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let E=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||Wx;e.timeoutErrorMessage&&(E=e.timeoutErrorMessage),r(new Ye(E,v.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,d)),d=null},Gr.hasStandardBrowserEnv&&(a&&ae.isFunction(a)&&(a=a(e)),a||a!==!1&&CQ(f))){const y=e.xsrfHeaderName&&e.xsrfCookieName&&$Q.read(e.xsrfCookieName);y&&o.set(e.xsrfHeaderName,y)}s===void 0&&o.setContentType(null),"setRequestHeader"in d&&ae.forEach(o.toJSON(),function(E,v){d.setRequestHeader(v,E)}),ae.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),i&&i!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",uv(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",uv(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=y=>{d&&(r(!y||y.type?new Xu(null,e,d):y),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const g=_Q(f);if(g&&Gr.protocols.indexOf(g)===-1){r(new Ye("Unsupported protocol "+g+":",Ye.ERR_BAD_REQUEST,e));return}d.send(s||null)})},G2={http:rQ,xhr:IQ};ae.forEach(G2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cv=e=>`- ${e}`,OQ=e=>ae.isFunction(e)||e===null||e===!1,Yx={getAdapter:e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!OQ(n)&&(r=G2[(i=String(n)).toLowerCase()],r===void 0))throw new Ye(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(cv).join(`
`):" "+cv(o[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:G2};function Rh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xu(null,e)}function dv(e){return Rh(e),e.headers=br.from(e.headers),e.data=Dh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yx.getAdapter(e.adapter||qu.adapter)(e).then(function(r){return Rh(e),r.data=Dh.call(e,e.transformResponse,r),r.headers=br.from(r.headers),r},function(r){return qx(r)||(Rh(e),r&&r.response&&(r.response.data=Dh.call(e,e.transformResponse,r.response),r.response.headers=br.from(r.response.headers))),Promise.reject(r)})}const fv=e=>e instanceof br?{...e}:e;function La(e,t){t=t||{};const n={};function r(u,c,d){return ae.isPlainObject(u)&&ae.isPlainObject(c)?ae.merge.call({caseless:d},u,c):ae.isPlainObject(c)?ae.merge({},c):ae.isArray(c)?c.slice():c}function s(u,c,d){if(ae.isUndefined(c)){if(!ae.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function o(u,c){if(!ae.isUndefined(c))return r(void 0,c)}function i(u,c){if(ae.isUndefined(c)){if(!ae.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,c)=>s(fv(u),fv(c),!0)};return ae.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||s,f=d(e[c],t[c],c);ae.isUndefined(f)&&d!==a||(n[c]=f)}),n}const Jx="1.6.8",v0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{v0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const pv={};v0.transitional=function(t,n,r){function s(o,i){return"[Axios v"+Jx+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new Ye(s(i," has been removed"+(n?" in "+n:"")),Ye.ERR_DEPRECATED);return n&&!pv[i]&&(pv[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};function DQ(e,t,n){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],l=a===void 0||i(a,o,e);if(l!==!0)throw new Ye("option "+o+" must be "+l,Ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ye("Unknown option "+o,Ye.ERR_BAD_OPTION)}}const q2={assertOptions:DQ,validators:v0},Ys=q2.validators;class ui{constructor(t){this.defaults=t,this.interceptors={request:new av,response:new av}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=La(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&q2.assertOptions(r,{silentJSONParsing:Ys.transitional(Ys.boolean),forcedJSONParsing:Ys.transitional(Ys.boolean),clarifyTimeoutError:Ys.transitional(Ys.boolean)},!1),s!=null&&(ae.isFunction(s)?n.paramsSerializer={serialize:s}:q2.assertOptions(s,{encode:Ys.function,serialize:Ys.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&ae.merge(o.common,o[n.method]);o&&ae.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=br.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,f;if(!l){const g=[dv.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),f=g.length,c=Promise.resolve(n);d<f;)c=c.then(g[d++],g[d++]);return c}f=a.length;let p=n;for(d=0;d<f;){const g=a[d++],y=a[d++];try{p=g(p)}catch(E){y.call(this,E);break}}try{c=dv.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=La(this.defaults,t);const n=Xx(t.baseURL,t.url);return Ux(n,t.params,t.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(t){ui.prototype[t]=function(n,r){return this.request(La(r||{},{method:t,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(La(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ui.prototype[t]=n(),ui.prototype[t+"Form"]=n(!0)});class b0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new Xu(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new b0(function(s){t=s}),cancel:t}}}function RQ(e){return function(n){return e.apply(null,n)}}function FQ(e){return ae.isObject(e)&&e.isAxiosError===!0}const X2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X2).forEach(([e,t])=>{X2[t]=e});function Qx(e){const t=new ui(e),n=Ix(ui.prototype.request,t);return ae.extend(n,ui.prototype,t,{allOwnKeys:!0}),ae.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Qx(La(e,s))},n}const Ut=Qx(qu);Ut.Axios=ui;Ut.CanceledError=Xu;Ut.CancelToken=b0;Ut.isCancel=qx;Ut.VERSION=Jx;Ut.toFormData=lp;Ut.AxiosError=Ye;Ut.Cancel=Ut.CanceledError;Ut.all=function(t){return Promise.all(t)};Ut.spread=RQ;Ut.isAxiosError=FQ;Ut.mergeConfig=La;Ut.AxiosHeaders=br;Ut.formToJSON=e=>Gx(ae.isHTMLForm(e)?new FormData(e):e);Ut.getAdapter=Yx.getAdapter;Ut.HttpStatusCode=X2;Ut.default=Ut;const MQ=e=>p0(e)||e.code==="ECONNABORTED"||e.response&&e.response.status===429||e.response&&SJ(e.response.data),LQ={retries:2,retryDelay:xx,retryCondition:MQ,shouldResetTimeout:!0},up=Ut.create({timeout:12e4});Di(up,LQ);const BQ=e=>{if(e.message==="Network Error")return{status:"NETWORK_ERROR",data:{message:e.message}}};up.interceptors.request.use(async e=>{var t;return(t=e.data)!=null&&t.skipAuth||(e.headers={...e.headers}),e},e=>Promise.reject(e));up.interceptors.response.use(e=>{const t=(e==null?void 0:e.status)||-1;if(t>=200&&t<300)return e.data},BQ);var jQ={VITE_BASE_URL:"/recognition-system",VITE_SCRIPT_URL:"https://script.google.com/macros/s/AKfycbw0-nXApQeHkrxzH43IoG75Y9Rs9QTfUKB3J6cUsj1BWSlFclxIkaQzUrFpFmC5hP5QeQ/exec",BASE_URL:"/recognition-system",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_SCRIPT_URL:zQ}=jQ,VQ=zQ,KQ=()=>{const{theme:e,setTheme:t}=FI(),[n,r]=P.useState(null),[s,o]=P.useState(!1),[i,a]=P.useState(!1),[l,u]=P.useState([]);P.useEffect(()=>{up(`${VQ}`,{method:"GET",params:{action:"location"}}).then(p=>{p&&p.data&&(p.data.shift(),u(p.data))}).catch(p=>{console.error("Error:",p)})},[]);const c=p=>{p.preventDefault()},d=p=>{const{name:g,value:y}=p.target;r({...n,[g]:y})},f=()=>{t(e==="light"?"dark":"light")};return J.jsxs(yf,{children:[J.jsx("div",{className:"my-3",children:J.jsxs(tf,{onClick:()=>f(),children:["Change to ",e==="light"?"Dark":"Light"]})}),J.jsxs("div",{children:[J.jsx("h1",{children:"Student Check-In"}),J.jsx(oq,{validFaceDetection:s,setValidFaceDetection:o}),s&&J.jsxs(J.Fragment,{children:[J.jsx(iq,{setValidDistance:a,locations:l}),J.jsx(yf,{children:i?J.jsx("form",{onSubmit:c,children:J.jsxs("div",{children:[J.jsx("p",{children:"You are within the 1 km radius of the school."}),J.jsxs("label",{children:["Student Name:",J.jsx("input",{type:"text",name:"name",value:(n==null?void 0:n.name)||"",onChange:d})]}),J.jsx("br",{}),J.jsxs("label",{children:["Student ID:",J.jsx("input",{type:"text",name:"id",value:(n==null?void 0:n.id)||"",onChange:d})]}),J.jsx("br",{}),J.jsx("button",{type:"submit",children:"Submit"})]})}):J.jsx("p",{children:"You are not within the 1 km radius of the school."})})]})]})]})},UQ=({Component:e,pageProps:t})=>J.jsx(Yk,{children:J.jsx(MI,{attribute:"class",defaultTheme:"dark",children:J.jsx(e,{...t})})});Fh.createRoot(document.getElementById("root")).render(J.jsx(Ge.StrictMode,{children:J.jsx(UQ,{Component:KQ})}));
